!function(e){
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),s=new Map;class r{constructor(e,t){if(this._$cssResult$=!0,t!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){let e=s.get(this.cssText);return t&&void 0===e&&(s.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=(e,...t)=>{const s=1===e.length?e[0]:t.reduce(((t,i,s)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1]),e[0]);return new r(s,i)},n=t?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new r("string"==typeof e?e:e+"",i))(t)})(e):e
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;var a,l,d,h;const c={toAttribute(e,t){switch(t){case Boolean:e=e?"":null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},p=(e,t)=>t!==e&&(t==t||e==e),u={attribute:!0,type:String,converter:c,reflect:!1,hasChanged:p};class f extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,i)=>{const s=this._$Eh(i,t);void 0!==s&&(this._$Eu.set(s,i),e.push(s))})),e}static createProperty(e,t=u){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const i="symbol"==typeof e?Symbol():"__"+e,s=this.getPropertyDescriptor(e,i,t);void 0!==s&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(s){const r=this[e];this[t]=s,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||u}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift(n(e))}else void 0!==e&&t.push(n(e));return t}static _$Eh(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}o(){var e;this._$Ev=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Ep(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$Em)&&void 0!==t?t:this._$Em=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$Em)||void 0===t||t.splice(this._$Em.indexOf(e)>>>0,1)}_$Ep(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const i=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,i)=>{t?e.adoptedStyleSheets=i.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):i.forEach((t=>{const i=document.createElement("style");i.textContent=t.cssText,e.appendChild(i)}))})(i,this.constructor.elementStyles),i}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Em)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$Em)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$Eg(e,t,i=u){var s,r;const o=this.constructor._$Eh(e,i);if(void 0!==o&&!0===i.reflect){const n=(null!==(r=null===(s=i.converter)||void 0===s?void 0:s.toAttribute)&&void 0!==r?r:c.toAttribute)(t,i.type);this._$Ei=e,null==n?this.removeAttribute(o):this.setAttribute(o,n),this._$Ei=null}}_$AK(e,t){var i,s,r;const o=this.constructor,n=o._$Eu.get(e);if(void 0!==n&&this._$Ei!==n){const e=o.getPropertyOptions(n),a=e.converter,l=null!==(r=null!==(s=null===(i=a)||void 0===i?void 0:i.fromAttribute)&&void 0!==s?s:"function"==typeof a?a:null)&&void 0!==r?r:c.fromAttribute;this._$Ei=n,this[n]=l(t,e.type),this._$Ei=null}}requestUpdate(e,t,i){let s=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||p)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$Ei!==e&&(void 0===this._$ES&&(this._$ES=new Map),this._$ES.set(e,i))):s=!1),!this.isUpdatePending&&s&&(this._$Ev=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ev}catch(e){Promise.reject(e)}const e=this.performUpdate();return null!=e&&await e,!this.isUpdatePending}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((e,t)=>this[t]=e)),this._$Et=void 0);let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$Em)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$E_()}catch(e){throw t=!1,this._$E_(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$Em)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$E_(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ev}shouldUpdate(e){return!0}update(e){void 0!==this._$ES&&(this._$ES.forEach(((e,t)=>this._$Eg(t,this[t],e))),this._$ES=void 0),this._$E_()}updated(e){}firstUpdated(e){}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var v,m,g,b;f.finalized=!0,f.elementProperties=new Map,f.elementStyles=[],f.shadowRootOptions={mode:"open"},null===(l=(a=globalThis).reactiveElementPlatformSupport)||void 0===l||l.call(a,{ReactiveElement:f}),(null!==(d=(h=globalThis).reactiveElementVersions)&&void 0!==d?d:h.reactiveElementVersions=[]).push("1.0.0-rc.3");const w=globalThis.trustedTypes,C=w?w.createPolicy("lit-html",{createHTML:e=>e}):void 0,x=`lit$${(Math.random()+"").slice(9)}$`,y="?"+x,$=`<${y}>`,k=document,_=(e="")=>k.createComment(e),L=e=>null===e||"object"!=typeof e&&"function"!=typeof e,M=Array.isArray,z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,A=/-->/g,S=/>/g,H=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,j=/'/g,V=/"/g,P=/^(?:script|style|textarea)$/i,O=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),T=O(1),R=O(2),F=Symbol.for("lit-noChange"),N=Symbol.for("lit-nothing"),Z=new WeakMap,E=k.createTreeWalker(k,129,null,!1),D=(e,t)=>{const i=e.length-1,s=[];let r,o=2===t?"<svg>":"",n=z;for(let t=0;t<i;t++){const i=e[t];let a,l,d=-1,h=0;for(;h<i.length&&(n.lastIndex=h,l=n.exec(i),null!==l);)h=n.lastIndex,n===z?"!--"===l[1]?n=A:void 0!==l[1]?n=S:void 0!==l[2]?(P.test(l[2])&&(r=RegExp("</"+l[2],"g")),n=H):void 0!==l[3]&&(n=H):n===H?">"===l[0]?(n=null!=r?r:z,d=-1):void 0===l[1]?d=-2:(d=n.lastIndex-l[2].length,a=l[1],n=void 0===l[3]?H:'"'===l[3]?V:j):n===V||n===j?n=H:n===A||n===S?n=z:(n=H,r=void 0);const c=n===H&&e[t+1].startsWith("/>")?" ":"";o+=n===z?i+$:d>=0?(s.push(a),i.slice(0,d)+"$lit$"+i.slice(d)+x+c):i+x+(-2===d?(s.push(void 0),t):c)}const a=o+(e[i]||"<?>")+(2===t?"</svg>":"");return[void 0!==C?C.createHTML(a):a,s]};class B{constructor({strings:e,_$litType$:t},i){let s;this.parts=[];let r=0,o=0;const n=e.length-1,a=this.parts,[l,d]=D(e,t);if(this.el=B.createElement(l,i),E.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(s=E.nextNode())&&a.length<n;){if(1===s.nodeType){if(s.hasAttributes()){const e=[];for(const t of s.getAttributeNames())if(t.endsWith("$lit$")||t.startsWith(x)){const i=d[o++];if(e.push(t),void 0!==i){const e=s.getAttribute(i.toLowerCase()+"$lit$").split(x),t=/([.?@])?(.*)/.exec(i);a.push({type:1,index:r,name:t[2],strings:e,ctor:"."===t[1]?K:"?"===t[1]?W:"@"===t[1]?J:Y})}else a.push({type:6,index:r})}for(const t of e)s.removeAttribute(t)}if(P.test(s.tagName)){const e=s.textContent.split(x),t=e.length-1;if(t>0){s.textContent=w?w.emptyScript:"";for(let i=0;i<t;i++)s.append(e[i],_()),E.nextNode(),a.push({type:2,index:++r});s.append(e[t],_())}}}else if(8===s.nodeType)if(s.data===y)a.push({type:2,index:r});else{let e=-1;for(;-1!==(e=s.data.indexOf(x,e+1));)a.push({type:7,index:r}),e+=x.length-1}r++}}static createElement(e,t){const i=k.createElement("template");return i.innerHTML=e,i}}function q(e,t,i=e,s){var r,o,n,a;if(t===F)return t;let l=void 0!==s?null===(r=i._$Cl)||void 0===r?void 0:r[s]:i._$Cu;const d=L(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===d?l=void 0:(l=new d(e),l._$AT(e,i,s)),void 0!==s?(null!==(n=(a=i)._$Cl)&&void 0!==n?n:a._$Cl=[])[s]=l:i._$Cu=l),void 0!==l&&(t=q(e,l._$AS(e,t.values),l,s)),t}class I{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get _$AU(){return this._$AM._$AU}p(e){var t;const{el:{content:i},parts:s}=this._$AD,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:k).importNode(i,!0);E.currentNode=r;let o=E.nextNode(),n=0,a=0,l=s[0];for(;void 0!==l;){if(n===l.index){let t;2===l.type?t=new U(o,o.nextSibling,this,e):1===l.type?t=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(t=new G(o,this,e)),this.v.push(t),l=s[++a]}n!==(null==l?void 0:l.index)&&(o=E.nextNode(),n++)}return r}m(e){let t=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class U{constructor(e,t,i,s){this.type=2,this._$C_=!0,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=s}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$C_}get parentNode(){return this._$AA.parentNode}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=q(this,e,t),L(e)?e===N||null==e||""===e?(this._$AH!==N&&this._$AR(),this._$AH=N):e!==this._$AH&&e!==F&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.A(e):(e=>{var t;return M(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])})(e)?this.M(e):this.$(e)}C(e,t=this._$AB){return this._$AA.parentNode.insertBefore(e,t)}A(e){this._$AH!==e&&(this._$AR(),this._$AH=this.C(e))}$(e){const t=this._$AA.nextSibling;null!==t&&3===t.nodeType&&(null===this._$AB?null===t.nextSibling:t===this._$AB.previousSibling)?t.data=e:this.A(k.createTextNode(e)),this._$AH=e}T(e){var t;const{values:i,_$litType$:s}=e,r="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=B.createElement(s.h,this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.m(i);else{const e=new I(r,this),t=e.p(this.options);e.m(i),this.A(t),this._$AH=e}}_$AC(e){let t=Z.get(e.strings);return void 0===t&&Z.set(e.strings,t=new B(e)),t}M(e){M(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,s=0;for(const r of e)s===t.length?t.push(i=new U(this.C(_()),this.C(_()),this,this.options)):i=t[s],i._$AI(r),s++;s<t.length&&(this._$AR(i&&i._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$C_=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class Y{constructor(e,t,i,s,r){this.type=1,this._$AH=N,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(N),this.strings=i):this._$AH=N}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,s){const r=this.strings;let o=!1;if(void 0===r)e=q(this,e,t,0),o=!L(e)||e!==this._$AH&&e!==F,o&&(this._$AH=e);else{const s=e;let n,a;for(e=r[0],n=0;n<r.length-1;n++)a=q(this,s[i+n],t,n),a===F&&(a=this._$AH[n]),o||(o=!L(a)||a!==this._$AH[n]),a===N?e=N:e!==N&&(e+=(null!=a?a:"")+r[n+1]),this._$AH[n]=a}o&&!s&&this.P(e)}P(e){e===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class K extends Y{constructor(){super(...arguments),this.type=3}P(e){this.element[this.name]=e===N?void 0:e}}class W extends Y{constructor(){super(...arguments),this.type=4}P(e){e&&e!==N?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class J extends Y{constructor(){super(...arguments),this.type=5}_$AI(e,t=this){var i;if((e=null!==(i=q(this,e,t,0))&&void 0!==i?i:N)===F)return;const s=this._$AH,r=e===N&&s!==N||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==N&&(s===N||r);r&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}}class G{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){q(this,e)}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var X,Q,ee,te,ie,se;null===(m=(v=globalThis).litHtmlPlatformSupport)||void 0===m||m.call(v,B,U),(null!==(g=(b=globalThis).litHtmlVersions)&&void 0!==g?g:b.litHtmlVersions=[]).push("2.0.0-rc.4");class re extends f{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();super.update(e),this._$Dt=((e,t,i)=>{var s,r;const o=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:t;let n=o._$litPart$;if(void 0===n){const e=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:null;o._$litPart$=n=new U(t.insertBefore(_(),e),e,void 0,null!=i?i:{})}return n._$AI(e),n})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}render(){return F}}re.finalized=!0,re._$litElement$=!0,null===(Q=(X=globalThis).litElementHydrateSupport)||void 0===Q||Q.call(X,{LitElement:re}),null===(te=(ee=globalThis).litElementPlatformSupport)||void 0===te||te.call(ee,{LitElement:re}),(null!==(ie=(se=globalThis).litElementVersions)&&void 0!==ie?ie:se.litElementVersions=[]).push("3.0.0-rc.3");var oe=o`:host{font-size:16px!important;font-family:Poppins,sans-serif}h1{user-select:none;text-align:center;font-size:2em;color:#406082}h1:active{outline:1px solid purple}`
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;const ne=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:i,elements:s}=t;return{kind:i,elements:s,finisher(t){window.customElements.define(e,t)}}})(e,t)
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */,ae=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(i){i.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function le(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):ae(e,t)
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */}function de(e){return le({...e,state:!0})}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */const he=({finisher:e,descriptor:t})=>(i,s)=>{var r;if(void 0===s){const s=null!==(r=i.originalKey)&&void 0!==r?r:i.key,o=null!=t?{kind:"method",placement:"prototype",key:s,descriptor:t(i.key)}:{...i,key:s};return null!=e&&(o.finisher=function(t){e(t,s)}),o}{const r=i.constructor;void 0!==t&&Object.defineProperty(i,s,t(s)),null==e||e(r,s)}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;function ce(e,t){return he({descriptor:i=>{const s={get(){var t;return null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e)},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof i?Symbol():"__"+i;s.get=function(){var i;return void 0===this[t]&&(this[t]=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(e)),this[t]}}return s}})}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const pe=1;
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const ue=(e=>(...t)=>({_$litDirective$:e,values:t}))(class extends class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}{constructor(e){var t;if(super(e),e.type!==pe||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).filter((t=>e[t])).join(" ")}update(e,[t]){if(void 0===this.st){this.st=new Set;for(const e in t)t[e]&&this.st.add(e);return this.render(t)}const i=e.element.classList;this.st.forEach((e=>{e in t||(i.remove(e),this.st.delete(e))}));for(const e in t){const s=!!t[e];s!==this.st.has(e)&&(s?(i.add(e),this.st.add(e)):(i.remove(e),this.st.delete(e)))}return F}}),fe={en:{"badge.electric":"Electric","badge.hybrid":"Hybrid","badge.popular":"Popular","badge.recent":"New Offer","badge.special":"Special Deal","book.now":"Book Now","equipment.title":"Equipment","filter.advanced":"Advanced Filters","filter.canton":"Canton","filter.dealer":"Dealer","filter.distance":"Kilometers Per Month","filter.drive":"Drive Train","filter.drive.all":"All Wheel Drive","filter.drive.front":"Front Wheel Drive","filter.drive.rear":"Rear Wheel Drive","filter.duration":"Minimum Duration","filter.fuel":"Fuel Type","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Electric","filter.fuel.hybrid":"Hybrid","filter.fuel.other":"Other","filter.fuel.petrol":"Petrol","filter.gear":"Transmission","filter.gear.automatic":"Automatic","filter.gear.manual":"Manual","filter.inline":"Filter","filter.makes":"Makes","filter.models":"Models","filter.more":"More Filters","filter.order":"Order","filter.order.date.new":"Date (New)","filter.order.date.old":"Date (Old)","filter.order.price.high":"Price (High)","filter.order.price.low":"Price (Low)","filter.order.relevance":"Search Relevance","filter.order.top":"Top Picks","filter.power":"Horse Power","filter.promotions":"Promotions","filter.seats":"Number of seats","filter.special":"Special","filter.type":"Vehicle Type","fuel.type":"Fuel Type","inclusive.evpass":"Free Charging Card","inclusive.evpass_explain":"You will get a free evpass membership. With this card you can charge your electric car at reduced prices in the evpass network.","inclusive.insurance":"Insurance","inclusive.insurance_explain":"Liability: 0 CHF deductible,Partially comprehensive,Fully comprehensive (collision): 1,000 CHF deductible per event,Parking damages: 300 CHF deductible per event,,Assistance: 24h roadside assistance with replacement car","inclusive.service":"Service","inclusive.service_explain":"All service and maintenance is included.","inclusive.tax":"Tax","inclusive.tax_explain":"We take care of the registration in your Canton, all taxes and fees are covered.","inclusive.title":"All Inclusive","inclusive.tyres":"Tyre Changes","inclusive.tyres_explain":"Tyre changes (if needed) are included.",month:{one:"Month",other:"Months"},page:"Page","provider.title":"Provider","registration.date":"Registration Year","results.empty":"Oops! No vehicles could be found with the given search criteria...",search:"Search","specs.brand":"Brand","specs.car_type":"Car Type","specs.co2":"CO2 Emissions","specs.date":"Registration Date","specs.engine":"Engine Size","specs.fuel_type":"Fuel Type","specs.model":"Model","specs.odometer":"Odometer","specs.power":"Horse Power","specs.seats":"Seats","specs.title":"Specifications","specs.transmission":"Transmission","subscription.handover_date":"Handover Date","subscription.handover_date_explain":"Your car will be ready in 6-8 days, as it needs to be registered at the road traffic office. You can book up to one month in advance.","subscription.km_options":"Kilometer Options","subscription.km_options_explain":"This is the number of kilometers that are included per month. If you exceed this amount one month, you can compensate the difference in the following months. Final kilometers will only be measured at the end of your subscription.","subscription.min_term":"Minimum Term","subscription.min_term_explain":"After the minimum term has expired, the subscription can be cancelled monthly. The longer the minimum term, the lower the price.","subscription.title":"Subscription Options","transmission.type":"Transmission","vehicle.missing":"Vehicle Not Found",view:"View"},de:{"badge.electric":"Elektrisch","badge.hybrid":"Hybrid","badge.popular":"Beliebt","badge.recent":"Neues Angebot","badge.special":"Superdeal","book.now":"Jetzt buchen","equipment.title":"","filter.advanced":"Erweiterte Filter","filter.canton":"Kanton","filter.dealer":"Händler","filter.distance":"Kilometer pro Monat","filter.drive":"Antrieb","filter.drive.all":"Allradantrieb","filter.drive.front":"Vorderradantrieb","filter.drive.rear":"Hinterradantrieb","filter.duration":"Mindestlaufzeit","filter.fuel":"Treibstoff","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Elektrisch","filter.fuel.hybrid":"Hybrid","filter.fuel.other":"Sonstiges","filter.fuel.petrol":"Benzin","filter.gear":"Getriebe","filter.gear.automatic":"Automatik","filter.gear.manual":"Manuell","filter.inline":"Filter","filter.makes":"Marken","filter.models":"Modelle","filter.more":"Mehr Filter","filter.order":"Ordnen","filter.order.date.new":"Datum (neu)","filter.order.date.old":"Datum (alt)","filter.order.price.high":"Preis (hoch)","filter.order.price.low":"Preis (tief)","filter.order.relevance":"Suchrelevanz","filter.order.top":"Top Auswahl","filter.power":"Leistung","filter.promotions":"Aktionen","filter.seats":"Anzahl Sitze","filter.special":"Spezial","filter.type":"Fahrzeugtyp","fuel.type":"Kraftstofftyp","inclusive.evpass":"","inclusive.evpass_explain":"","inclusive.insurance":"Versicherung","inclusive.insurance_explain":"","inclusive.service":"","inclusive.service_explain":"","inclusive.tax":"Steuer","inclusive.tax_explain":"Wir kümmern uns um die Anmeldung in Ihrem Kanton, alle Steuern und Gebühren werden übernommen.","inclusive.title":"Alles inbegriffen","inclusive.tyres":"Reifenwechsel","inclusive.tyres_explain":"Reifenwechsel (falls erforderlich) sind inbegriffen.",month:{one:"Monat",other:"Monate"},page:"Seite","provider.title":"Anbieter","registration.date":"Registrierungsjahr","results.empty":"Huch! Es konnten keine Fahrzeuge mit den angegebenen Suchkriterien gefunden werden...",search:"Suchen","specs.brand":"Marke","specs.car_type":"Fahrzeugtyp","specs.co2":"CO2-Emissionen","specs.date":"","specs.engine":"","specs.fuel_type":"","specs.model":"Modell","specs.odometer":"","specs.power":"","specs.seats":"","specs.title":"","specs.transmission":"","subscription.handover_date":"Übergabedatum","subscription.handover_date_explain":"Ihr Auto wird in 6-8 Tagen fertig sein, da es beim Straßenverkehrsamt angemeldet werden muss. Sie können bis zu einem Monat im Voraus buchen.","subscription.km_options":"Kilometer-Optionen","subscription.km_options_explain":"Dies ist die Anzahl der Kilometer, die pro Monat enthalten sind. Wenn Sie diese Menge in einem Monat überschreiten, können Sie die Differenz in den folgenden Monaten ausgleichen. Die endgültigen Kilometer werden erst am Ende Ihres Abonnements gemessen.","subscription.min_term":"Mindestlaufzeit","subscription.min_term_explain":"Nach Ablauf der Mindestlaufzeit kann das Abonnement monatlich gekündigt werden. Je länger die Mindestlaufzeit, desto niedriger der Preis","subscription.title":"Abonnement-Optionen","transmission.type":"Antrieb","vehicle.missing":"Fahrzeug nicht gefunden",view:"Ansicht"},it:{"badge.electric":"Elettrico","badge.hybrid":"Ibrido","badge.popular":"Popolari","badge.recent":"Nuova offerta","badge.special":"Offerta speciale","book.now":"Prenota ora","equipment.title":"Equipaggiamento","filter.advanced":"Filtri avanzati","filter.canton":"Cantoni","filter.dealer":"Auto concessionari","filter.distance":"Chilometri per mese","filter.drive":"Trasmissione","filter.drive.all":"Trazione integrale","filter.drive.front":"Trazione anteriore","filter.drive.rear":"Trazione posteriore","filter.duration":"Durata minima","filter.fuel":"Tipo di carburante","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Elettrico","filter.fuel.hybrid":"Ibrido","filter.fuel.other":"Altro","filter.fuel.petrol":"Benzina","filter.gear":"Trasmissione","filter.gear.automatic":"Automatico","filter.gear.manual":"Manuale","filter.inline":"Filtro","filter.makes":"Produttore","filter.models":"Modelli","filter.more":"Più filtri","filter.order":"Ordina","filter.order.date.new":"Data (Nuovo)","filter.order.date.old":"Data (Vecchio)","filter.order.price.high":"Prezzo (Alto)","filter.order.price.low":"Prezzo (Basso)","filter.order.relevance":"Pertinenza della ricerca","filter.order.top":"Scelte migliori","filter.power":"Potenza cavalli","filter.promotions":"Promozione","filter.seats":"Numero di posti a sedere","filter.special":"Speciale","filter.type":"Tipo di veicolo","fuel.type":"Carburante","inclusive.evpass":"Tessera di ricarica gratuita","inclusive.evpass_explain":"Riceverai una tessera evpass gratuita. Con questa carta potrà ricaricare la sua auto elettrica a prezzi ridotti in tutta la rete evpass.","inclusive.insurance":"Assicurazione","inclusive.insurance_explain":"Responsabilità civile: 0 CHF di franchigia, Parziale completa, Completa (collisione): 1000 CHF di franchigia per evento, Danni da parcheggio: 300 CHF di franchigia per evento,Assistenza: assistenza stradale 24 ore con auto sostitutiva.","inclusive.service":"Servizio","inclusive.service_explain":"Tutti i servizi e la manutenzione sono inclusi.","inclusive.tax":"Tassa","inclusive.tax_explain":"Ci occupiamo della registrazione nel tuo Cantone, tutte le tasse e le spese sono coperte.","inclusive.title":"Tutto compreso","inclusive.tyres":"Cambio gomme","inclusive.tyres_explain":"Il cambio delle gomme (se necessario) è incluso.",month:{one:"Mese",other:"Mesi"},page:"Pagina","provider.title":"Fornitore","registration.date":"Anno di immatricolazione","results.empty":"Ops! Non è stato trovato nessun veicolo con i criteri di ricerca indicati...",search:"Cerca","specs.brand":"Marca","specs.car_type":"Tipo di veicolo","specs.co2":"Emissioni di CO2","specs.date":"Prima Messa in Circolazione","specs.engine":"Taglia del motore","specs.fuel_type":"Tipo di carburante","specs.model":"Modello","specs.odometer":"Chilometraggio","specs.power":"Cavalli","specs.seats":"Sedili","specs.title":"Specificazione","specs.transmission":"Trasmissione","subscription.handover_date":"Data di consegna","subscription.handover_date_explain":"Il vostro veicolo sarà pronta in 6-8 giorni, poiché deve essere immatricolato all'ufficio di immatricolazione. È possibile prenotare fino a un mese in anticipo.","subscription.km_options":"Opzioni chilometriche","subscription.km_options_explain":"Questo è il numero di chilometri inclusi al mese. Se si supera questo importo un mese, è possibile compensare la differenza nei mesi successivi. I chilometri finali saranno misurati solo alla fine del suo abbonamento.","subscription.min_term":"Termine minimo","subscription.min_term_explain":"Dopo la scadenza del periodo minimo, l'abbonamento può essere annullato mensilmente. Più lunga è la durata minima, più basso è il prezzo","subscription.title":"Opzioni di abbonamento","transmission.type":"Trasmissione","vehicle.missing":"Veicolo non trovato",view:"Visualizza"},fr:{"badge.electric":"Électrique","badge.hybrid":"Hybride","badge.popular":"Populaire","badge.recent":"Nouvelle offre","badge.special":"Offre spécial","book.now":"Réserver maintenant","equipment.title":"Équipement","filter.advanced":"Recherche avancée","filter.canton":"Canton","filter.dealer":"Concessionnaire","filter.distance":"Kilomètres par mois","filter.drive":"Groupe motopropulseur","filter.drive.all":"Toutes roues motrices","filter.drive.front":"Roues motrices avant","filter.drive.rear":"Roues motrices arrières","filter.duration":"Durée minimale","filter.fuel":"Type de carburant","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Électrique","filter.fuel.hybrid":"Hybride","filter.fuel.other":"Autre","filter.fuel.petrol":"Essence","filter.gear":"Transmission","filter.gear.automatic":"Automatique","filter.gear.manual":"Manuel","filter.inline":"Filtrer","filter.makes":"Marques","filter.models":"Modèles","filter.more":"Plus de filtres","filter.order":"Autre","filter.order.date.new":"Date (nouvelle)","filter.order.date.old":"Date (ancienne)","filter.order.price.high":"Prix (haut)","filter.order.price.low":"Prix (bas)","filter.order.relevance":"Chercher par pertinence","filter.order.top":"Meilleures offres","filter.power":"Puissance des chevaux","filter.promotions":"Promotion","filter.seats":"Nombre de sièges","filter.special":"Spécial","filter.type":"Type de véhicule","fuel.type":"Type de carburant","inclusive.evpass":"Carte de recharge gratuite","inclusive.evpass_explain":"Vous recevrez une carte evpass gratuite. Avec cette carte, vous pourrez recharger votre voiture électrique à des prix réduits dans le réseau evpass","inclusive.insurance":"Assurance","inclusive.insurance_explain":"Responsabilité civile : 0 CHF de franchise, Partiellement complète, Complète (collision) : 1000 CHF de franchise par événement, Dommages de stationnement : 300 CHF de franchise par événement,Assistance : assistance routière 24h/24 avec voiture de remplacement.","inclusive.service":"Service","inclusive.service_explain":"Tous les services et l'entretien sont inclus.","inclusive.tax":"Taxe","inclusive.tax_explain":"Nous nous occupons de l'enregistrement dans votre Canton, toutes les taxes et les frais sont couverts.","inclusive.title":"Tout inclus","inclusive.tyres":"Changement de pneus","inclusive.tyres_explain":"Le changement des pneus (si nécessaire) est inclus.",month:{one:"Mois",other:"Mois"},page:"Page","provider.title":"Prestataire","registration.date":"Date d'entrée en circulation","results.empty":"Oups ! Aucun véhicule n'a pu être trouvé avec les critères de recherche donnés...",search:"Chercher","specs.brand":"Marque","specs.car_type":"Type de voiture","specs.co2":"Émissions de CO2","specs.date":"Date de l'inscription","specs.engine":"Taille du moteur","specs.fuel_type":"Type de carburant","specs.model":"Modèle","specs.odometer":"Odomètre","specs.power":"Puissance (Chevaux)","specs.seats":"Sièges","specs.title":"Spécifications","specs.transmission":"Transmission","subscription.handover_date":"Date de remise","subscription.handover_date_explain":"Votre voiture sera prête en 6 à 8 jours, car elle doit être enregistrée au service des automobiles. Vous pouvez réserver jusqu'à un mois à l'avance.","subscription.km_options":"Options de kilométrage","subscription.km_options_explain":"Il s'agit du nombre de kilomètres inclus par mois. Si vous dépassez ce montant un mois, vous pouvez compenser la différence dans les mois suivants. Les derniers kilomètres ne seront mesurés qu'à la fin de votre abonnement.","subscription.min_term":"Durée minimale","subscription.min_term_explain":"Après l'expiration de la durée minimale, l'abonnement peut être résilié mensuellement. Plus la durée minimale est longue, plus le prix est bas.","subscription.title":"Options d'abonnement","transmission.type":"Transmission","vehicle.missing":"Aucun véhicule trouvé",view:"Voir"}};var ve=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};const me=e=>{class t extends e{constructor(){super(...arguments),this.highlight=!1}connectedCallback(){super.connectedCallback(),this.lang||(this.lang=document.documentElement.lang.trim().toLowerCase()||"en")}get lang(){return this._lang}set lang(e){const i=this._lang,s=e.trim().toLowerCase();t.SUPPORTED_LANGUAGES.includes(s)?this._lang=s:(console.warn(`[CAR!FY]: Unsupported language {${s}} - defaulting {en}.`),this._lang="en"),i!==this._lang&&this.requestUpdate("lang",i)}t(e,t){var i,s,r;const o=fe[this.lang][e],n=`{{${e}}}`;return null==o?n:void 0===t||1!==t&&-1!==t?void 0!==t&&(t<=-2||t>=2||0===t)?null!==(s=o.other)&&void 0!==s?s:n:void 0===t&&"string"!=typeof o?n:null!==(r=o)&&void 0!==r?r:n:null!==(i=o.one)&&void 0!==i?i:n}i(e,t){const i={highlight:this.highlight,translation:!0},s=fe[this.lang][e],r=T`<span class="${ue(i)} translation--missing">${e}</span>`;return null==s?r:void 0===t||1!==t&&-1!==t?void 0!==t&&(t<=-2||t>=2||0===t)?s.other?T`<span data-count="${t}" class="${ue(i)} translation--other">${s.other}</span>`:r:void 0===t&&"string"!=typeof s?r:s?T`<span class="${ue(i)} translation--one">${s}</span>`:r:s.one?T`<span class="${ue(i)} translation--one">${s.one}</span>`:r}}return t.SUPPORTED_LANGUAGES=["en","de","fr","it"],t.styles=o`span.translation{user-select:none}span.highlight.translation{border-radius:2px!important;color:#fff!important}span.highlight.translation.translation--one{background-color:#ff2be3!important}span.highlight.translation.translation--other{background-color:#48b9ff!important}span.highlight.translation.translation--missing{background:#ff2525!important}`,ve([le({type:Boolean})],t.prototype,"highlight",void 0),ve([le({type:String,attribute:!0})],t.prototype,"lang",null),t};var ge={host:o`:host{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent}:host *,:host ::after,:host ::before{box-sizing:inherit}[hidden]{display:none!important}`,shine:o`.shine{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8 0,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;position:relative;animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:shimmerAcross;animation-timing-function:linear;display:block;width:90%;border-radius:5px}`,hideScrollbar:o`.hide-scrollbar::-webkit-scrollbar{display:none}.hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}`,ellipsis:o`.ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}`},be=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let we=class extends(me(re)){constructor(){super(...arguments),this.name="WORLD"}static get styles(){return[super.styles||[],ge.host,oe]}render(){return T`<h1>${this.i("hello")}, <span data-test="name-val">${this.name}</span></h1>`}};be([le()],we.prototype,"name",void 0),we=be([ne("carify-greeting")],we);var Ce=we,xe=o`:host{display:block;overflow:hidden;height:200px;background-size:14px 14px;background-image:linear-gradient(45deg,#fff 25%,#f7f7f7 25%,#f7f7f7 50%,#fff 50%,#fff 75%,#f7f7f7 75%,#f7f7f7 100%)}div.slide-container{height:100%;display:grid;grid-auto-flow:column;grid-auto-columns:100%;transform:translateX(0);transition:transform .3s ease-in-out;user-select:none}div.slide{overflow:hidden}div.slide img{width:100%;height:100%;object-fit:cover}a.next,a.prev{cursor:pointer;position:absolute;top:50%;left:0;width:auto;margin-top:-22px;padding:12px;color:#fff;font-weight:700;font-size:18px;transition:.6s ease;border-radius:0 3px 3px 0;background-color:rgba(0,0,0,.05);user-select:none;z-index:999}a.next{left:auto;right:0;border-radius:3px 0 0 3px}a.next:hover,a.prev:hover{background-color:rgba(0,0,0,.45)}`;var ye={busyIndicator:o`span.busy{display:inline-block;width:15px;height:15px;background-color:var(--busy-indicator-color,#000);border-radius:100%;animation:grow 1s infinite ease-in-out}@keyframes grow{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}`,shimmerAnimation:o`@keyframes shimmerAcross{0%{background-position:-468px 0}100%{background-position:468px 0}}`,heartbeatAnimation:o`@keyframes heartbeat{0%{transform:scale(1)}20%{transform:scale(2.5) rotate(15deg)}40%{transform:scale(.75) rotate(-10deg)}60%{transform:scale(1.25) rotate(5deg)}80%{transform:scale(.85)}100%{transform:scale(1)}}`},$e=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let ke=class extends(me(re)){constructor(){super(...arguments),this.currentTranslate=0,this.firstSlide=!0,this.lastSlide=!1,this.imageIndex=0,this.imageStack=new Set,this.currentTransform=0,this.alternative="Image",this.images=[]}static get styles(){return[super.styles||[],ge.host,ye.busyIndicator,xe]}addedImages(){return[...this.imageStack]}prevSlide(e){e.preventDefault(),e.stopPropagation(),this.imageIndex>0&&(this.imageIndex--,this.currentTransform+=this._slider.clientWidth,this.imageStack.add(this.images[this.imageIndex]),this._slider.style.transform=`translateX(${this.currentTransform}px)`),0==this.imageIndex?this.firstSlide=!0:this.lastSlide=!1}nextSlide(e){e.preventDefault(),e.stopPropagation(),this.imageIndex<this.images.length-1&&(this.firstSlide=!1,this.imageIndex++,this.imageStack.add(this.images[this.imageIndex]),this.currentTransform-=this._slider.clientWidth,this._slider.style.transform=`translateX(${this.currentTransform}px)`),this.imageIndex==this.images.length-1&&(this.lastSlide=!0)}render(){return T`<a class="prev" ?hidden="${this.firstSlide}" @click="${this.prevSlide}">❮</a> <a class="next" ?hidden="${this.lastSlide}" @click="${this.nextSlide}">❯</a><div class="${ue({"slide-container":!0})}" @click="${e=>e.preventDefault()}"><div class="slide"><img loading="lazy" src="${this.images[0]}" alt="${this.alternative}" class="img"></div>${this.addedImages().map(((e,t)=>T`<div class="slide"><img src="${e}" alt="${this.alternative+` (${t+2}`})" class="img"></div>`))}</div>`}};$e([ce("div.slide-container")],ke.prototype,"_slider",void 0),$e([de()],ke.prototype,"currentTranslate",void 0),$e([de()],ke.prototype,"firstSlide",void 0),$e([de()],ke.prototype,"lastSlide",void 0),$e([de()],ke.prototype,"imageIndex",void 0),$e([de()],ke.prototype,"imageStack",void 0),$e([de()],ke.prototype,"currentTransform",void 0),$e([le({type:String})],ke.prototype,"alternative",void 0),$e([le({type:Array})],ke.prototype,"images",void 0),ke=$e([ne("carify-image-slider")],ke);var _e=ke,Le=o`:host{display:inline-block;font-family:var(--card-font,inherit);font-size:var(--card-font-base,16px)}a.card{vertical-align:top;height:555px;color:var(--card-text-color,#222);display:flex;overflow:hidden;flex-direction:column;text-decoration:none;box-shadow:var(--card-shadow,rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px);background-color:var(--card-background-color,#fff);border-radius:var(--card-border-radius,20px);transition:all .15s ease-in;will-change:transform}a.card:hover{box-shadow:rgba(0,0,0,.2) 0 3px 10px}@media (pointer:fine){:host([motion]) a:not(.missing).card:hover{transform:rotate(-.5deg) translateY(-8px)}:host([zoom]) a:not(.missing).card:hover{transform:scale(1.01)}:host([zoom][motion]) a:not(.missing).card:hover{transform:scale(1.01) rotate(-.5deg) translateY(-8px)}}a.card div.media{max-height:200px;min-height:200px;position:relative;text-align:center}a.card div.media img{display:block;position:absolute;inset:0;object-fit:cover;width:100%;max-height:200px;min-height:200px}a.card div.media svg{width:20px}a.card div.content{position:relative;display:flex;flex-direction:column;padding:1em;min-height:calc(100% - 200px)}h2{margin:0 0 .5em 0;font-size:1.25em;color:var(--vehicle-name-color,#000);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}ul.badges~h2{margin-top:.65em}ul.badges{position:absolute;list-style:none;top:1em;padding:0;margin:0}li.badge{letter-spacing:1px;font-size:.55em;border-top-right-radius:20px;border-bottom-right-radius:20px;padding:4px 8px;margin:0 0 5px 0;color:var(--badge-text-color,#000);background:#efefef;display:block;text-transform:uppercase}li.badge.electric{background:var(--badge-electric-color,#efefef)}li.badge.recent{background:var(--badge-recent-color,#efefef)}li.badge.popular{background:var(--badge-popular-color,#efefef)}li.badge.hybrid{background:var(--badge-hybrid-color,#efefef)}li.badge.special{background:var(--badge-special-color,#efefef)}dl{color:var(--card-text-color,#000);font-size:.8em;display:grid;grid-gap:5px;grid-template-columns:1fr;margin:0}dl dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}dl dd{margin:0;text-align:left;white-space:nowrap;overflow:hidden;font-weight:500;font-size:1.055em;color:var(--vehicle-specs-color,#000);text-overflow:ellipsis}div.package{margin:auto 0 0 0}sup{color:var(--vehicle-price-strike-color,#963131);font-weight:500;font-size:1em;display:block;text-decoration:line-through}div.package p.price{margin:0;font-size:1.4em;font-weight:700;letter-spacing:.75px;color:var(--vehicle-price-color,#000)}div.pills{margin:.65em 0 0 0;display:flex;align-items:center;justify-content:space-between}span.pill{color:var(--package-detail-color,#fff);font-size:.75em;font-weight:500;padding:6px 12px;background-color:var(--package-detail-bg,#696969);border-radius:var(--package-detail-border-radius,40px);margin-right:4px;margin-bottom:4px;display:inline-block}span.missing{font-size:.75em}div.fetching-overlay{background-color:var(--card-background-color,#fff);position:absolute;top:0;left:0;right:0;bottom:0;visibility:hidden;display:flex;flex-direction:column;min-height:calc(100% - 200px)}div.fetching-overlay.show{visibility:visible}span.fav svg{width:25px}span.fav.active svg{animation:heartbeat .85s;fill:var(--heart-fill-color,red);stroke:var(--heart-stroke-color,#c90000)}span.fav:hover svg{stroke:var(--heart-stroke-color,#c90000)}`;var Me={image:R`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>`,heart:R`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>`,chevron_left:R`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>`,chevron_right:R`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>`,chevron_down:R`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>`,close_icon:R`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>`,emoji_sad:R`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>`,expand:R`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/></svg>`,shield:R`<svg width="16" height="21" viewBox="0 0 16 21" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.6667 4.49636C10.6667 4.82025 10.9422 5.08284 11.2821 5.08284H16V17.8681C16 19.0539 14.9878 20.0186 13.7436 20.0186H2.25641C1.01223 20.0186 0 19.0539 0 17.8681V2.15043C0 0.964683 1.01223 0 2.25641 0H10.6667V4.49636ZM11.4581 15.4562C12.2823 14.4005 12.7179 13.147 12.7179 11.8312V8.48443C12.7179 8.16053 12.4424 7.89795 12.1026 7.89795C11.3249 7.89795 10.6258 7.48616 10.2781 6.82332L10.1915 6.6582C10.0872 6.4595 9.87413 6.334 9.64103 6.334H6.35897C6.12587 6.334 5.91278 6.4595 5.80853 6.65824L5.72193 6.82332C5.3742 7.48616 4.67508 7.89795 3.89744 7.89795C3.55758 7.89795 3.28205 8.16053 3.28205 8.48443V11.8312C3.28205 13.147 3.7177 14.4005 4.54187 15.4562C5.36603 16.5119 6.50072 17.2698 7.82318 17.6479C7.88086 17.6644 7.94043 17.6726 8 17.6726C8.05957 17.6726 8.11914 17.6644 8.17682 17.6479C9.49928 17.2698 10.634 16.5119 11.4581 15.4562ZM11.8974 0.34375V3.90676H15.6395L11.8974 0.34375ZM9.26667 7.50732H6.73333C6.25382 8.30501 5.44414 8.84903 4.51282 9.01656V11.8313C4.51282 13.9525 5.9065 15.7951 8 16.4705C10.0935 15.7951 11.4872 13.9525 11.4872 11.8313V9.01656C10.5559 8.84903 9.74618 8.30497 9.26667 7.50732ZM10.1757 11.3123L7.85497 13.5239C7.73481 13.6384 7.57731 13.6956 7.41986 13.6956C7.2624 13.6956 7.10486 13.6384 6.98474 13.5239L5.82437 12.4181C5.58404 12.189 5.58404 11.8177 5.82437 11.5887C6.06465 11.3597 6.45432 11.3597 6.69465 11.5887L7.4199 12.2798L9.30552 10.4829C9.54581 10.2539 9.93547 10.2539 10.1758 10.4829C10.416 10.7119 10.416 11.0832 10.1757 11.3123Z"/></svg>`,settings:R`<svg width="20" height="21" viewBox="0 0 20 21" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.0448 9.5913C11.2753 9.47342 11.5321 9.4111 11.7985 9.4111C12.24 9.4111 12.6551 9.58249 12.968 9.89376L13.6416 9.22024C15.3085 9.80454 17.2364 9.43048 18.569 8.09799C19.6902 6.97676 20.1324 5.4341 19.8963 3.97997C19.8703 3.81983 19.757 3.68775 19.6026 3.63792C19.4483 3.58802 19.2789 3.62857 19.1642 3.74331L18.1641 4.74345C17.3496 5.55792 16.029 5.55792 15.2145 4.74345C14.4 3.92898 14.4 2.60836 15.2145 1.79389L16.2146 0.793757C16.3294 0.679013 16.3703 0.509594 16.3203 0.355191C16.2704 0.20072 16.1381 0.0876141 15.9779 0.0616072C14.5239 -0.174434 12.9811 0.267751 11.86 1.38898C10.5076 2.74133 10.1437 4.70666 10.7656 6.39028L9.30474 7.85116L11.0448 9.5913ZM8.3827 12.2385L6.64993 10.5058L0.590887 16.5647C-0.196962 17.3526 -0.196962 18.6299 0.590887 19.4178C1.37874 20.2056 2.65608 20.2056 3.44392 19.4178L8.6672 14.1946C8.14038 13.665 8.04543 12.8654 8.3827 12.2385ZM11.7985 10.435C11.9609 10.435 12.1234 10.497 12.2473 10.6209L18.1912 16.5647C18.9791 17.3526 18.9791 18.6299 18.1912 19.4178C17.4034 20.2056 16.126 20.2056 15.3382 19.4178L9.39423 13.4738C9.14638 13.226 9.14638 12.8242 9.39423 12.5764L9.7814 12.1892L3.33826 5.74604L3.0371 6.04727C2.76249 6.32195 2.30768 6.28755 2.07737 5.97485L0.141399 3.34604C-0.0446075 3.09348 -0.0181911 2.74284 0.203652 2.52099L1.31983 1.40475C1.54167 1.1829 1.89225 1.15649 2.14488 1.34249L4.77369 3.27854C5.08645 3.50884 5.12051 3.96393 4.84611 4.23826L4.54495 4.53942L10.9881 10.9826L11.3498 10.6209C11.4737 10.497 11.6361 10.435 11.7985 10.435Z"></path></svg>`,wheel:R`<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 20C15.4926 20 20 15.4926 20 10C20 4.50745 15.4926 0 10 0C4.50745 0 0 4.50745 0 10C0 15.4926 4.50745 20 10 20ZM10 3.78937C13.4964 3.78937 16.2106 6.71982 16.2106 10C16.2106 13.2817 13.4944 16.2106 10 16.2106C6.49963 16.2106 3.78937 13.2726 3.78937 10C3.78937 6.67007 6.54343 3.78937 10 3.78937ZM14.0247 6.99982C13.217 5.91934 11.9922 5.186 10.5859 5.02045V7.61719C11.0457 7.73041 11.4546 7.96906 11.7725 8.30032L14.0247 6.99982ZM7.64694 9.31839C7.58362 9.53629 7.53891 9.76196 7.53891 10C7.53891 10.238 7.58362 10.4637 7.64694 10.6816L5.37582 11.9928C5.11108 11.3809 4.96124 10.7082 4.96124 10C4.96124 9.29184 5.11108 8.61908 5.37582 8.0072L7.64694 9.31839ZM12.3531 10.6816C12.4164 10.4637 12.4611 10.238 12.4611 10C12.4611 9.76196 12.4164 9.53629 12.3531 9.31839L14.6242 8.0072C14.8891 8.61908 15.0389 9.29184 15.0389 10C15.0389 10.7082 14.8891 11.3809 14.6242 11.9928L12.3531 10.6816ZM10 11.2892C9.2894 11.2892 8.71078 10.7106 8.71078 10C8.71078 9.2894 9.2894 8.71078 10 8.71078C10.7106 8.71078 11.2892 9.2894 11.2892 10C11.2892 10.7106 10.7106 11.2892 10 11.2892ZM10.5859 12.3828V14.9796C11.9922 14.814 13.217 14.0807 14.0247 13.0002L11.7725 11.6997C11.4546 12.0309 11.0457 12.2696 10.5859 12.3828ZM5.97534 13.0002C6.78299 14.0807 8.00781 14.814 9.41406 14.9796V12.3828C8.95432 12.2696 8.54538 12.0309 8.22754 11.6997L5.97534 13.0002ZM9.41406 5.02045V7.61719C8.95432 7.73041 8.54538 7.96906 8.22754 8.30032L5.97534 6.99982C6.78299 5.91934 8.00781 5.186 9.41406 5.02045Z"/></svg>`,replacement:R`<svg width="26" height="26" viewBox="0 0 26 26" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25.5638 2.38903C25.5102 2.32394 25.4303 2.28595 25.3465 2.28595H24.2812C24.0183 1.5949 23.6758 0.917803 23.2865 0.662218C21.9398 -0.220739 18.3678 -0.220739 17.0211 0.662218C16.6315 0.918083 16.2904 1.59601 16.0261 2.28595H14.9608C14.8762 2.28595 14.7966 2.32394 14.7436 2.38903C14.6903 2.45383 14.669 2.53958 14.6864 2.62199L14.8442 3.38399C14.8711 3.51388 14.986 3.60662 15.1186 3.60662H15.4342C15.1295 3.9569 14.9818 4.39796 14.9799 4.8393C14.9779 5.38454 15.1856 5.87728 15.5653 6.22588C15.5673 6.22754 15.5692 6.22897 15.5711 6.23037L15.5711 6.23038C15.572 6.23106 15.5729 6.23174 15.5738 6.23243C15.5751 6.23344 15.5764 6.23449 15.5777 6.23566V7.30186C15.5777 7.53286 15.766 7.72085 15.9981 7.72085H16.9807C17.2128 7.72085 17.4011 7.53286 17.4011 7.30186V6.87336H22.9059V7.30186C22.9059 7.53286 23.0943 7.72085 23.3263 7.72085H24.309C24.5405 7.72085 24.7294 7.53286 24.7294 7.30186V6.25661C25.1324 5.88873 25.325 5.38259 25.3275 4.87728C25.3292 4.42086 25.1747 3.9636 24.8521 3.60606H25.1887C25.3219 3.60606 25.4368 3.51332 25.4631 3.38316L25.6212 2.62143C25.6375 2.53958 25.617 2.45439 25.5638 2.38903ZM17.4834 1.36192C18.5568 0.65773 21.7516 0.65773 22.8245 1.36192C23.033 1.49823 23.3012 2.04934 23.547 2.7242H16.7614C17.0066 2.04962 17.2749 1.49879 17.4834 1.36192ZM16.2254 4.94424C16.2254 4.48893 16.5959 4.12022 17.0525 4.12022C17.5096 4.12022 17.8795 4.48893 17.8795 4.94424C17.8795 5.39954 17.5096 5.76853 17.0525 5.76853C16.5959 5.76853 16.2254 5.39954 16.2254 4.94424ZM23.2656 5.76853C22.8091 5.76853 22.4385 5.39954 22.4385 4.94424C22.4385 4.48893 22.8091 4.12022 23.2656 4.12022C23.7228 4.12022 24.0927 4.48893 24.0927 4.94424C24.0927 5.39954 23.7222 5.76853 23.2656 5.76853ZM12.5184 8.22709H9.63068C8.56703 8.22709 7.70465 9.08616 7.70465 10.1472L7.70381 13.5926L9.23086 12.0694L10.593 13.4276L7.42186 16.5909C7.0454 16.9661 6.43529 16.9661 6.06002 16.5909L2.88889 13.4287L4.25073 12.0703L5.77778 13.5927V10.1472C5.77778 8.02536 7.50362 6.30581 9.63068 6.30581H12.5184V8.22709ZM21.467 13.311C21.8434 12.9358 22.4535 12.9358 22.8288 13.311L25.9999 16.4733L24.6381 17.8318L23.111 16.3093V19.755C23.111 21.8769 21.3853 23.5966 19.2581 23.5966H16.3704V21.6752H19.2581C20.3218 21.6752 21.1842 20.8161 21.1842 19.755L21.185 16.3094L19.658 17.8327L18.2961 16.4742L21.467 13.311ZM10.6661 20.5651C10.7499 20.5651 10.8297 20.6031 10.8833 20.6682C10.9365 20.7335 10.957 20.8187 10.9407 20.9006L10.7827 21.6623C10.7563 21.7925 10.6414 21.8852 10.5083 21.8852H10.1717C10.4943 22.2427 10.6487 22.7 10.647 23.1564C10.6445 23.6617 10.4519 24.1679 10.0489 24.5357V25.581C10.0489 25.812 9.86 26 9.62849 26H8.64586C8.4138 26 8.22545 25.812 8.22545 25.581V25.1525H2.72064V25.581C2.72064 25.812 2.5323 26 2.30024 26H1.3176C1.08554 26 0.897197 25.812 0.897197 25.581V24.5148C0.895068 24.5128 0.892857 24.5112 0.890607 24.5095C0.888711 24.5081 0.886788 24.5067 0.884865 24.505C0.505097 24.1564 0.297416 23.6637 0.299378 23.1184C0.30134 22.6771 0.449043 22.236 0.753698 21.8858H0.438112C0.305544 21.8858 0.190633 21.793 0.163727 21.6631L0.00593381 20.9011C-0.011443 20.8187 0.00985761 20.733 0.0631092 20.6682C0.11608 20.6031 0.195678 20.5651 0.28032 20.5651H1.34563C1.60993 19.8751 1.95102 19.1972 2.34059 18.9414C3.6873 18.0584 7.25936 18.0584 8.60606 18.9414C8.99536 19.1969 9.33785 19.874 9.60075 20.5651H10.6661ZM8.1442 19.6411C7.07132 18.9369 3.87651 18.9369 2.80307 19.6411C2.59455 19.778 2.32633 20.3288 2.08109 21.0034H8.86674C8.62094 20.3286 8.35273 19.7774 8.1442 19.6411ZM2.37309 22.3994C1.91653 22.3994 1.54601 22.7681 1.54601 23.2234C1.54601 23.6788 1.91653 24.0477 2.37309 24.0477C2.83021 24.0477 3.20017 23.6788 3.20017 23.2234C3.20017 22.7681 2.83021 22.3994 2.37309 22.3994ZM7.75919 23.2234C7.75919 23.6788 8.12971 24.0477 8.58627 24.0477C9.04283 24.0477 9.41335 23.6788 9.41335 23.2234C9.41335 22.7681 9.04339 22.3994 8.58627 22.3994C8.12971 22.3994 7.75919 22.7681 7.75919 23.2234Z"/></svg>`,question:R`<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 12.6094C8.43147 12.6094 8.78125 12.2596 8.78125 11.8281C8.78125 11.3967 8.43147 11.0469 8 11.0469C7.56853 11.0469 7.21875 11.3967 7.21875 11.8281C7.21875 12.2596 7.56853 12.6094 8 12.6094Z"/><path d="M8 0C3.57863 0 0 3.57803 0 8C0 12.4214 3.57803 16 8 16C12.4214 16 16 12.422 16 8C16 3.57863 12.422 0 8 0ZM8 14.75C4.26947 14.75 1.25 11.731 1.25 8C1.25 4.26947 4.26897 1.25 8 1.25C11.7305 1.25 14.75 4.26897 14.75 8C14.75 11.7305 11.731 14.75 8 14.75Z"/><path d="M8 4.01562C6.6215 4.01562 5.5 5.13713 5.5 6.51562C5.5 6.86081 5.77981 7.14062 6.125 7.14062C6.47019 7.14062 6.75 6.86081 6.75 6.51562C6.75 5.82638 7.31075 5.26562 8 5.26562C8.68925 5.26562 9.25 5.82638 9.25 6.51562C9.25 7.20487 8.68925 7.76562 8 7.76562C7.65481 7.76562 7.375 8.04544 7.375 8.39062V9.95312C7.375 10.2983 7.65481 10.5781 8 10.5781C8.34519 10.5781 8.625 10.2983 8.625 9.95312V8.93653C9.70206 8.65831 10.5 7.67841 10.5 6.51562C10.5 5.13713 9.3785 4.01562 8 4.01562Z"/></svg>`,brand:R`<svg width="18" height="14" viewBox="0 0 18 14" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M17.8971 4.57246C17.809 4.46507 17.6777 4.40239 17.5399 4.40239H15.788C15.3556 3.26212 14.7924 2.1449 14.1522 1.72317C11.9376 0.266267 6.06344 0.266267 3.84881 1.72317C3.20816 2.14536 2.64725 3.26396 2.21262 4.40239H0.460735C0.321543 4.40239 0.190648 4.46507 0.103538 4.57246C0.0159665 4.67939 -0.0190619 4.82088 0.00951388 4.95685L0.269001 6.21419C0.313247 6.4285 0.502216 6.58152 0.720222 6.58152H1.2392C0.738197 7.15949 0.495303 7.88725 0.492076 8.61548C0.48885 9.51515 0.830377 10.3282 1.4549 10.9034C1.46181 10.9094 1.46872 10.9135 1.47518 10.9195V12.6788C1.47518 13.0599 1.7849 13.3701 2.16653 13.3701H3.78244C4.16407 13.3701 4.47379 13.0599 4.47379 12.6788V11.9718H13.5263V12.6788C13.5263 13.0599 13.8361 13.3701 14.2177 13.3701H15.8336C16.2143 13.3701 16.525 13.0599 16.525 12.6788V10.9541C17.1877 10.3471 17.5044 9.51193 17.5085 8.67816C17.5113 7.92505 17.2573 7.17055 16.7268 6.5806H17.2804C17.4993 6.5806 17.6883 6.42758 17.7316 6.2128L17.9915 4.95593C18.0183 4.82088 17.9846 4.68031 17.8971 4.57246ZM4.60792 2.87773C6.37316 1.7158 11.627 1.7158 13.3913 2.87773C13.7342 3.10265 14.1753 4.012 14.5795 5.12554H3.42064C3.82392 4.01247 4.26501 3.10357 4.60792 2.87773ZM2.54032 8.78878C2.54032 8.03751 3.14963 7.42912 3.90043 7.42912C4.65216 7.42912 5.26055 8.03751 5.26055 8.78878C5.26055 9.54004 4.65216 10.1489 3.90043 10.1489C3.14963 10.1489 2.54032 9.54004 2.54032 8.78878ZM14.1177 10.1489C13.3669 10.1489 12.7576 9.54004 12.7576 8.78878C12.7576 8.03751 13.3669 7.42912 14.1177 7.42912C14.8694 7.42912 15.4778 8.03751 15.4778 8.78878C15.4778 9.54004 14.8685 10.1489 14.1177 10.1489Z"/></svg>`,calendar:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.6797 1.40625H14.0625V0.5625C14.0625 0.251859 13.8107 0 13.5 0C13.1893 0 12.9375 0.251859 12.9375 0.5625V1.40625H5.0625V0.5625C5.0625 0.251859 4.81068 0 4.5 0C4.18932 0 3.9375 0.251859 3.9375 0.5625V1.40625H2.32031C1.04087 1.40625 0 2.44712 0 3.72656V15.6797C0 16.9591 1.04087 18 2.32031 18H15.6797C16.9591 18 18 16.9591 18 15.6797V3.72656C18 2.44712 16.9591 1.40625 15.6797 1.40625ZM16.875 15.6797C16.875 16.3399 16.3399 16.875 15.6797 16.875H2.32031C1.66015 16.875 1.125 16.3399 1.125 15.6797V6.36328C1.125 6.26621 1.20371 6.1875 1.30078 6.1875H16.6992C16.7963 6.1875 16.875 6.26621 16.875 6.36328V15.6797Z"/></svg>`,gear:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5765 6.9505L16.193 6.64975C16.0727 6.28143 15.9237 5.92218 15.7478 5.57611L16.5137 4.38478C16.6505 4.17192 16.6204 3.89246 16.4416 3.71365L14.2863 1.55841C14.1075 1.37961 13.8281 1.34953 13.6152 1.48631L12.4239 2.2522C12.0778 2.07628 11.7186 1.92728 11.3503 1.80698L11.0495 0.423523C10.9958 0.176331 10.7769 0 10.5239 0H7.47606C7.2231 0 7.0042 0.176331 6.9505 0.423523L6.64975 1.80698C6.28143 1.92728 5.92218 2.07628 5.57611 2.2522L4.38478 1.48631C4.17192 1.34953 3.89246 1.37961 3.71365 1.55841L1.55841 3.71365C1.37961 3.89246 1.34953 4.17192 1.48631 4.38478L2.2522 5.57611C2.07628 5.92218 1.92728 6.28143 1.80698 6.64975L0.423523 6.9505C0.176331 7.00433 0 7.2231 0 7.47606V10.5239C0 10.7769 0.176331 10.9957 0.423523 11.0495L1.80698 11.3503C1.92728 11.7186 2.07628 12.0778 2.2522 12.4239L1.48631 13.6152C1.34953 13.8281 1.37961 14.1075 1.55841 14.2863L3.71365 16.4416C3.89246 16.6204 4.17192 16.6505 4.38478 16.5137L5.57611 15.7478C5.92218 15.9237 6.28143 16.0727 6.64975 16.193L6.9505 17.5765C7.0042 17.8237 7.2231 18 7.47606 18H10.5239C10.7769 18 10.9958 17.8237 11.0495 17.5765L11.3503 16.193C11.7186 16.0727 12.0778 15.9237 12.4239 15.7478L13.6152 16.5137C13.8281 16.6505 14.1075 16.6205 14.2863 16.4416L16.4416 14.2863C16.6204 14.1075 16.6505 13.8281 16.5137 13.6152L15.7478 12.4239C15.9237 12.0778 16.0727 11.7186 16.193 11.3503L17.5765 11.0495C17.8237 10.9957 18 10.7769 18 10.5239V7.47606C18 7.2231 17.8237 7.00433 17.5765 6.9505ZM12.2268 8.99997C12.2268 10.7793 10.7791 12.2271 8.99975 12.2271C7.22038 12.2271 5.77266 10.7793 5.77266 8.99997C5.77266 7.2206 7.22038 5.77288 8.99975 5.77288C10.7791 5.77288 12.2268 7.2206 12.2268 8.99997Z"/></svg>`,odometer:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.27359 5.15039C0.974215 6.61103 0.121535 8.49439 0 10.5686H2.13609C2.25067 9.07489 2.84316 7.71529 3.76453 6.64134L2.27359 5.15039Z"/><path d="M8.76463 11.6785C8.58487 11.7693 8.47266 11.9502 8.47266 12.1508C8.47318 12.5937 9.09784 12.8341 9.39343 12.502L11.2366 10.4415L8.76463 11.6785Z"/><path d="M3.01953 4.40471L4.51047 5.89565C5.58443 4.97427 6.97918 4.38179 8.4729 4.26721V2.15784C6.39868 2.27934 4.4802 3.10533 3.01953 4.40471Z"/><path d="M9.52734 2.15784V4.26721C11.0211 4.38179 12.4158 4.97427 13.4898 5.89565L14.9807 4.40471C13.52 3.10533 11.6016 2.27934 9.52734 2.15784Z"/><path d="M15.7265 5.15039L14.2356 6.64134C15.157 7.71526 15.7495 9.07489 15.864 10.5686H18.0001C17.8786 8.49439 17.0259 6.61103 15.7265 5.15039Z"/><path d="M15.846 11.6234C15.8001 12.2215 15.7004 12.8128 15.5002 13.3805C15.4035 13.6539 15.1051 13.7995 14.8277 13.7029C14.5527 13.6061 14.4085 13.3048 14.5053 13.0303C14.7247 12.4077 14.8359 11.7573 14.8359 11.096C14.8359 9.49688 14.1855 8.04683 13.1352 6.99643C13.1351 6.99636 13.135 6.99629 13.135 6.99629C13.135 6.99629 13.1348 6.99597 13.1347 6.9959C12.0844 5.94568 10.5992 5.29529 9 5.29529C7.40085 5.29529 5.91564 5.94571 4.86524 6.99597C4.86517 6.99604 4.8651 6.99622 4.8651 6.99622C4.8651 6.99622 4.86478 6.99639 4.86471 6.99646C3.81449 8.04683 3.16406 9.49692 3.16406 11.0961C3.16406 11.7573 3.2753 12.4078 3.49467 13.0304C3.59149 13.3049 3.44728 13.6061 3.17229 13.7029C2.89986 13.7992 2.59706 13.6551 2.49971 13.3806C2.29957 12.8128 2.19994 12.2215 2.15395 11.6234H0C0.0754453 12.9113 0.411328 14.0013 0.882668 14.9796C1.13502 15.5033 1.68912 15.8422 2.29423 15.8422H15.7052C16.3108 15.8422 16.8649 15.5033 17.1178 14.9791C17.5833 14.0103 17.9275 12.8607 18 11.6234H15.846V11.6234ZM13.9007 9.08454L10.1793 13.2054C9.22131 14.277 7.41797 13.6066 7.41797 12.1508C7.41797 11.5487 7.75283 11.0069 8.29118 10.7364C8.29188 10.7361 8.2922 10.7354 8.2929 10.7351L13.2719 8.26111C13.2736 8.26026 13.2755 8.26054 13.2772 8.2597C13.7872 8.01107 14.2893 8.6377 13.9007 9.08454Z"/></svg>`,cloud:R`<svg width="18" height="12" viewBox="0 0 18 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.2905 4.98289C15.0542 3.46988 13.7425 2.30859 12.1641 2.30859C11.5703 2.30859 10.9997 2.47288 10.5048 2.7793C9.75189 1.51396 8.39644 0.726562 6.89062 0.726562C4.56444 0.726562 2.67188 2.61913 2.67188 4.94531C2.67188 4.95973 2.67188 4.97467 2.6724 4.98908C1.17738 5.24091 0 6.54432 0 8.10938C0 9.85415 1.45445 11.2734 3.19922 11.2734H14.8008C16.5456 11.2734 18 9.85415 18 8.10938C18 6.53096 16.8036 5.21929 15.2905 4.98289Z"/></svg>`,transmission:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M17.9995 2.09981C17.9995 0.9071 17.0052 -0.0534039 15.8003 0.00210786C14.7334 0.0512563 13.8637 0.910827 13.803 1.97712C13.7524 2.86643 14.2557 3.64405 14.9995 3.99744V6.8998C14.9995 7.56253 14.4623 8.09979 13.7996 8.09979H10.8972C10.6897 7.66318 10.3362 7.30958 9.89956 7.10216V3.99744C10.6434 3.64401 11.1467 2.86643 11.0961 1.97712C11.0354 0.910827 10.1657 0.0512563 9.09884 0.00210786C7.8939 -0.0533687 6.89957 0.9071 6.89957 2.09981C6.89957 2.93748 7.39014 3.6604 8.09956 3.99744V7.10219C7.66296 7.30965 7.30935 7.66322 7.10193 8.09982H2.99952V3.99744C3.74335 3.64401 4.24661 2.86643 4.19602 1.97712C4.13538 0.910827 3.26568 0.0512563 2.1988 0.00210786C0.993852 -0.0533687 -0.000472584 0.9071 -0.000472584 2.09981C-0.000472584 2.93748 0.490098 3.6604 1.19952 3.99744V14.0022C0.45568 14.3556 -0.047582 15.1332 0.00300788 16.0225C0.0636524 17.0888 0.933348 17.9484 2.00023 17.9975C3.20518 18.053 4.1995 17.0925 4.1995 15.8998C4.1995 15.0621 3.70893 14.3392 2.99952 14.0022V9.89982H7.10186C7.30932 10.3364 7.66289 10.69 8.09949 10.8974V14.0022C7.35566 14.3556 6.85239 15.1332 6.90298 16.0225C6.96363 17.0888 7.83332 17.9484 8.90021 17.9975C10.1052 18.053 11.0995 17.0925 11.0995 15.8998C11.0995 15.0622 10.6089 14.3392 9.89949 14.0022V10.8974C10.3361 10.69 10.6897 10.3364 10.8971 9.89982H13.7995C15.4563 9.89982 16.7995 8.55668 16.7995 6.89983V3.99744C17.509 3.6604 17.9995 2.93748 17.9995 2.09981Z"/></svg>`,horse_power:R`<svg width="14" height="20" viewBox="0 0 14 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8.23423 0.624638C8.13794 0.629363 8.04942 0.679074 7.99436 0.758291L0.806254 11.0702C0.66173 11.2773 0.809986 11.5615 1.0626 11.5615H6.03575L5.43882 19.0377C5.41548 19.3537 5.8231 19.4998 6.00584 19.2409L13.1939 8.92966C13.3383 8.7227 13.1905 8.43882 12.9382 8.43834H7.96446L8.56199 0.961545C8.57698 0.773278 8.42284 0.614835 8.23423 0.624638Z"/></svg>`,fuel_type:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M16.3901 2.35986L14.8901 0.859852C14.7436 0.713355 14.5063 0.713355 14.3599 0.859852C14.2134 1.00635 14.2134 1.24365 14.3599 1.39011L15.5947 2.62498L14.3599 3.85984C14.2896 3.93015 14.25 4.02536 14.25 4.12499V5.24999C14.25 6.07728 14.9228 6.75 15.75 6.75V13.125C15.75 13.3319 15.5819 13.5 15.375 13.5C15.1681 13.5 15 13.3319 15 13.125V12.375C15 11.7546 14.4954 11.25 13.875 11.25H13.5V1.50001C13.5 0.672715 12.8273 0 12 0H4.50002C3.67276 0 3.00001 0.672715 3.00001 1.50001V15C2.17275 15 1.5 15.6727 1.5 16.5V17.625C1.5 17.8323 1.66773 18 1.87501 18H14.625C14.8323 18 15 17.8323 15 17.625V16.5C15 15.6728 14.3273 15 13.5 15V12H13.875C14.0819 12 14.25 12.1681 14.25 12.375V13.125C14.25 13.7454 14.7547 14.25 15.375 14.25C15.9954 14.25 16.5 13.7454 16.5 13.125V2.62501C16.5 2.52538 16.4605 2.43018 16.3901 2.35986ZM12 6.38195C12 6.58923 11.8323 6.75696 11.625 6.75696H4.875C4.66772 6.75696 4.49999 6.58923 4.49999 6.38195V1.87499C4.49999 1.66771 4.66772 1.49998 4.875 1.49998H11.625C11.8323 1.49998 12 1.66771 12 1.87499V6.38195Z"/></svg>`,seats:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.13451 0.456228C2.40897 0.162066 2.78742 0 3.20027 0L4.33488 0C5.17106 0 5.96911 0.669994 6.11364 1.49359L6.18519 1.90089C6.25712 2.31074 6.16032 2.69893 5.91254 2.99399C5.66475 3.28905 5.29919 3.4515 4.88305 3.4515H3.41741C3.21406 3.4515 3.01737 3.41089 2.83463 3.33881L2.9904 4.66958C3.14033 4.60656 3.30494 4.573 3.47795 4.573H5.15016C5.86653 4.573 6.57017 5.14311 6.71882 5.84383L8.19728 12.814L15.1729 12.3128C15.5498 12.2858 15.8645 12.4135 16.0596 12.6644C16.2424 12.8994 16.2958 13.2146 16.2102 13.5521L15.3991 16.7453C15.2234 17.4371 14.4997 18 13.786 18H7.93803H7.84879H4.87203C4.14876 18 3.49818 17.4147 3.4219 16.6955L2.27762 5.90744C2.2711 5.84578 2.27035 5.78501 2.27245 5.72484L1.88081 2.37952C1.82551 2.23544 1.79037 2.08229 1.77936 1.92344L1.75344 1.55106C1.72466 1.13926 1.86005 0.750465 2.13451 0.456228Z"/></svg>`,car_type:R`<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.1713 10.7234C16.2971 10.7234 17.2085 11.6355 17.2085 12.7613C17.2085 13.8871 16.2964 14.7991 15.1713 14.7991C14.0468 14.7991 13.1341 13.8871 13.1341 12.7613C13.1341 11.6355 14.0468 10.7234 15.1713 10.7234ZM15.1713 13.377C15.5097 13.377 15.787 13.1009 15.787 12.7619C15.787 12.4229 15.5097 12.1469 15.1713 12.1469C14.8336 12.1469 14.5569 12.4229 14.5569 12.7619C14.5569 13.1009 14.8329 13.377 15.1713 13.377Z"/><path d="M0.337097 11.0917L0.670378 8.38096C0.735888 7.86069 1.19065 7.47907 1.71538 7.50769L2.44554 7.5484L4.71236 5.5061C4.93115 5.30957 5.21291 5.20144 5.50676 5.20144L10.1123 5.20081C11.1458 5.20081 12.1482 5.5538 12.954 6.20128L15.5236 8.26584L18.9792 9.12957C19.4231 9.24024 19.7348 9.63967 19.7348 10.097V11.093C19.8811 11.0924 20 11.2107 20 11.357V12.6742C20 12.8618 19.848 13.0138 19.6604 13.0138H17.7097C17.7179 12.9292 17.7351 12.8484 17.7351 12.7619C17.7351 11.3455 16.5877 10.1994 15.1719 10.1994C13.7561 10.1994 12.6093 11.3455 12.6093 12.7619C12.6093 12.8491 12.6271 12.9299 12.6354 13.0138H7.23358C7.24121 12.9292 7.25839 12.8484 7.25839 12.7619C7.25839 11.3455 6.11099 10.1994 4.69582 10.1994C3.27938 10.1994 2.13388 11.3455 2.13388 12.7619C2.13388 12.8491 2.15042 12.9299 2.15933 13.0138H0.339642C0.152012 13.0138 0.000637054 12.8618 0.000637054 12.6742V11.432C-0.0025444 11.245 0.149467 11.0917 0.337097 11.0917ZM7.17252 7.76083L13.5977 8.08584L12.3676 7.09681C11.6992 6.55937 10.8685 6.26679 10.0105 6.26679H7.17252V7.76083ZM6.10526 7.70677V6.26743H5.68739C5.54238 6.26743 5.40309 6.32086 5.2956 6.41817L3.9841 7.59864L6.10526 7.70677Z"/><path d="M4.69448 10.7234C5.82026 10.7234 6.73169 11.6355 6.73169 12.7613C6.73169 13.8871 5.81962 14.7991 4.69448 14.7991C3.56934 14.7991 2.65727 13.8871 2.65727 12.7613C2.65727 11.6355 3.56934 10.7234 4.69448 10.7234ZM4.69448 13.377C5.03349 13.377 5.30952 13.1009 5.30952 12.7619C5.30952 12.4229 5.03349 12.1469 4.69448 12.1469C4.35675 12.1469 4.07944 12.4229 4.07944 12.7619C4.07944 13.1009 4.35611 13.377 4.69448 13.377Z"/></svg>`,photos:R`<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M16.4358 11.3625L14.0058 8.90998C13.9945 8.89586 13.9798 8.88484 13.9631 8.87796C13.9464 8.87107 13.9282 8.86854 13.9102 8.8706C13.8921 8.87129 13.8742 8.87563 13.8578 8.88336C13.8414 8.89109 13.8267 8.90206 13.8146 8.9156L12.1946 10.6312C12.0899 10.7426 11.9635 10.8315 11.8233 10.8924C11.683 10.9534 11.5319 10.9851 11.379 10.9856C11.2261 10.9851 11.0749 10.9534 10.9347 10.8924C10.7944 10.8315 10.6681 10.7426 10.5633 10.6312L7.08709 6.92435C7.06234 6.90222 7.0303 6.88998 6.99709 6.88998C6.96388 6.88998 6.93184 6.90222 6.90709 6.92435L1.49584 11.1431L0.79834 10.2375L6.18709 6.01873C6.43442 5.82643 6.74476 5.73365 7.05705 5.75864C7.36934 5.78362 7.66098 5.92456 7.87459 6.15373L11.3452 9.8606L12.954 8.14498C13.0691 8.02089 13.2082 7.9215 13.3629 7.85284C13.5177 7.78419 13.6847 7.7477 13.854 7.7456C14.0233 7.74121 14.1916 7.77192 14.3485 7.83582C14.5053 7.89971 14.6472 7.9954 14.7652 8.11685L17.1952 10.5694L16.4358 11.3625Z" fill="white"/><path d="M15.2325 17.4375H2.7675C2.1827 17.4375 1.62185 17.2052 1.20833 16.7917C0.794812 16.3782 0.5625 15.8173 0.5625 15.2325V2.7675C0.5625 2.1827 0.794812 1.62185 1.20833 1.20833C1.62185 0.794812 2.1827 0.5625 2.7675 0.5625H15.2325C15.8173 0.5625 16.3782 0.794812 16.7917 1.20833C17.2052 1.62185 17.4375 2.1827 17.4375 2.7675V15.2325C17.4375 15.8173 17.2052 16.3782 16.7917 16.7917C16.3782 17.2052 15.8173 17.4375 15.2325 17.4375ZM2.7675 1.6875C2.48107 1.6875 2.20636 1.80129 2.00382 2.00382C1.80129 2.20636 1.6875 2.48107 1.6875 2.7675V15.2325C1.6875 15.3743 1.71544 15.5148 1.76971 15.6458C1.82399 15.7768 1.90354 15.8959 2.00382 15.9962C2.10411 16.0965 2.22317 16.176 2.3542 16.2303C2.48523 16.2846 2.62567 16.3125 2.7675 16.3125H15.2325C15.3743 16.3125 15.5148 16.2846 15.6458 16.2303C15.7768 16.176 15.8959 16.0965 15.9962 15.9962C16.0965 15.8959 16.176 15.7768 16.2303 15.6458C16.2846 15.5148 16.3125 15.3743 16.3125 15.2325V2.7675C16.3125 2.62567 16.2846 2.48523 16.2303 2.3542C16.176 2.22317 16.0965 2.10411 15.9962 2.00382C15.8959 1.90354 15.7768 1.82399 15.6458 1.76971C15.5148 1.71544 15.3743 1.6875 15.2325 1.6875H2.7675Z" fill="white"/><path d="M11.436 6.6543C12.0574 6.6543 12.561 6.15062 12.561 5.5293C12.561 4.90798 12.0574 4.4043 11.436 4.4043C10.8147 4.4043 10.311 4.90798 10.311 5.5293C10.311 6.15062 10.8147 6.6543 11.436 6.6543Z" fill="white"/><path d="M1.125 10.9688L6.48562 6.65438L7.47563 6.53625L10.7212 10.0013C10.7212 10.0013 11.2837 10.7719 11.7619 10.2431L13.3763 8.5275C13.3763 8.5275 13.6969 7.82438 14.3831 8.5275C15.0694 9.23063 16.875 11.5313 16.875 11.5313L16.8356 15.5981C16.8356 15.5981 16.6669 16.875 15.0131 16.875C13.3594 16.875 2.63813 16.7006 2.63813 16.7006C2.63813 16.7006 1.125 17.0719 1.125 15.2325C1.125 13.3931 1.125 10.9688 1.125 10.9688Z" fill="white"/></svg>`};var ze=T`<div class="shine" style="min-height:60px;margin:1rem auto"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:auto auto 1rem;min-height:80px"></div>`;class Ae{constructor(e){this.missing=!1,this.fetched=!1,this.convertVehicle=(e,t=6,i=1e3)=>{const s=this.extractPackage(e.lease_packages,t,i);return{uuid:e.id,name:e.name,photo:e.profile_picture,gear:e.transmission_display,fuel:e.fuel_type_display,year:e.registration_date.split("-")[0],slug:e.slug,brand:e.make_name,model:e.model_name,type:e.car_type_display,odometer:e.odometer,engine:e.engine_size,power:parseFloat(e.horse_power).toFixed(0),seats:e.no_of_seats,co2em:e.co2em,price:s.price,old_price:s.old_price,duration:s.duration,distance:s.distance,currency:s.currency,recent:e.is_new,popular:e.is_popular,electric:3===e.fuel_type,hybrid:[4,5,6,8].includes(e.fuel_type),promotion:s.promotion,favourite:e.is_user_favourite,images:e.images,equipment:e.equipment,dealer:{...e.dealer_address,image:e.dealer_image,website:e.dealer_website_url},packages:e.lease_packages,fuel_id:e.fuel_type}},this.extractPackage=(e,t=6,i=1e3)=>{const s={duration:Number(e[0].duration_months),distance:Number(e[0].km_options[0].km),price:Number(e[0].km_options[0].monthly_total),old_price:Number(e[0].km_options[0].old_monthly_total),promotion:e[0].km_options[0].promotion_applied,currency:e[0].currency},r=e.find((e=>e.duration_months==t));if(r){s.duration=r.duration_months,s.currency=r.currency;const e=r.km_options.find((e=>e.km==i));e?(s.distance=Number(e.km),s.price=Number(e.monthly_total),s.old_price=Number(e.old_monthly_total),s.promotion=e.promotion_applied):(s.distance=Number(r.km_options[0].km),s.price=Number(r.km_options[0].monthly_total),s.old_price=Number(r.km_options[0].old_monthly_total),s.promotion=r.km_options[0].promotion_applied)}return s},(this.host=e).addController(this)}hostConnected(){this.reset()}reset(){this.data={uuid:"",name:"",photo:"",gear:"",fuel:"",fuel_id:-1,year:"",price:0,brand:"",model:"",type:"",odometer:0,engine:0,power:"",seats:0,co2em:0,old_price:0,duration:0,distance:0,currency:"",slug:"",images:[],equipment:[],recent:!1,hybrid:!1,popular:!1,electric:!1,promotion:!1,favourite:!1,dealer:{name:"",street:"",city:"",zip:0,image:"",website:""},packages:[]}}favourite(e,t=!1){return fetch(`${window.CARIFY.base}/api/vehicles/favourites/`,this.options("en",t?"DELETE":"PATCH",{vehicle_ids:[e]})).then((e=>e.json()))}async retrieve(e,t,i,s){try{this.reset(),this.fetched=!1;const r=await fetch(`${window.CARIFY.base}/public_api/vehicles/${e}/`,this.options(s));if(!r.ok)throw new Error("Could not fetch vehicle!");const{results:o}=await r.json();this.missing=!1,this.data=this.convertVehicle(o,t,i)}catch(e){this.missing=!0,console.log(e)}finally{this.fetched=!0,this.host.requestUpdate()}}options(e,t="GET",i=null){return{method:t,mode:"cors",credentials:"include",referrerPolicy:"origin",headers:{"accept-language":e,accept:"application/json"},body:i?JSON.stringify(i):void 0}}}var Se,He=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let je=Se=class extends(me(re)){constructor(){super(...arguments),this.zoom=!1,this.motion=!1,this.fetching=!1,this.injected=!1,this.internal=!1,this.duration=6,this.distance=1e3,this.slider=!1,this.vehicle=new Ae(this)}static get styles(){return[super.styles||[],ge.host,ge.shine,ye.busyIndicator,ye.shimmerAnimation,ye.heartbeatAnimation,Le]}connectedCallback(){super.connectedCallback();[()=>this.dataset.name&&(this.vehicle.data.name=this.dataset.name),()=>this.dataset.photo&&(this.vehicle.data.photo=this.dataset.photo),()=>this.dataset.gear&&(this.vehicle.data.gear=this.dataset.gear),()=>this.dataset.fuel&&(this.vehicle.data.fuel=this.dataset.fuel),()=>this.dataset.year&&(this.vehicle.data.year=this.dataset.year),()=>this.dataset.photo&&(this.vehicle.data.photo=this.dataset.photo),()=>this.dataset.duration&&(this.vehicle.data.duration=this.duration=Number(this.dataset.duration)),()=>this.dataset.distance&&(this.vehicle.data.distance=this.distance=Number(this.dataset.distance)),()=>this.dataset.price&&(this.vehicle.data.price=Number(this.dataset.price)),()=>this.dataset.old_price&&(this.vehicle.data.old_price=Number(this.dataset.old_price)),()=>this.dataset.currency&&(this.vehicle.data.currency=this.dataset.currency),()=>this.vehicle.data.recent=""===this.dataset.recent,()=>this.vehicle.data.hybrid=""===this.dataset.hybrid,()=>this.vehicle.data.popular=""===this.dataset.popular,()=>this.vehicle.data.electric=""===this.dataset.electric,()=>this.vehicle.data.promotion=""===this.dataset.promotion].map((e=>e()))}willUpdate(e){const t=[e.has("lang"),e.has("uuid"),e.has("duration"),e.has("distance")].filter((e=>e)),i=this.uuid&&!this.injected;if(t.length>0&&i&&(this.fetching=!0,this.vehicle.retrieve(this.uuid,this.duration,this.distance,this.lang)),e.has("duration")&&!i&&(this.vehicle.data.duration=this.duration),e.has("distance")&&!i&&(this.vehicle.data.distance=this.distance),this.vehicle.fetched)if(this.fetching=!1,this.vehicle.missing){console.warn(`[CAR!FY]: Vehicle with UUID [${this.uuid}] was not found.`),this._card.onclick=e=>e.preventDefault(),this._card.style.cursor="not-allowed";const e={...Se.EVENT_OPTIONS,detail:{uuid:this.uuid,missing:!0}};this.dispatchEvent(new CustomEvent("vehicle:missing",e))}else{this._card.onclick=null,this._card.style.cursor="pointer";const e={...Se.EVENT_OPTIONS,detail:{data:this.data}};this.dispatchEvent(new CustomEvent("vehicle:updated",e))}}get data(){return this.vehicle.data}set data(e){this.fetching=!0,this.uuid=e.uuid,this.vehicle.data.uuid=e.uuid,this.vehicle.data.name=e.name,this.vehicle.data.photo=e.photo,this.vehicle.data.gear=e.gear,this.vehicle.data.fuel=e.fuel,this.vehicle.data.year=e.year,this.vehicle.data.price=e.price||0,this.vehicle.data.old_price=e.old_price||0,this.vehicle.data.duration=e.duration||0,this.vehicle.data.distance=e.distance||0,this.vehicle.data.currency=e.currency||"CHF",this.vehicle.data.recent=e.recent||!1,this.vehicle.data.hybrid=e.hybrid||!1,this.vehicle.data.popular=e.popular||!1,this.vehicle.data.electric=e.electric||!1,this.vehicle.data.promotion=e.promotion||!1,this.vehicle.data.favourite=e.favourite||!1,this.vehicle.data.slug=e.slug,this.vehicle.data.images=e.images,this.vehicle.missing=!1,this.requestUpdate(),this.fetching=!1}dispatchVehicleFavourite(e){e.preventDefault(),e.stopPropagation(),this.vehicle.favourite(this.uuid,this.vehicle.data.favourite).then((e=>{if(!e.success)throw new Error("Could not favourite!");this.vehicle.data.favourite=!this.vehicle.data.favourite;const t={...Se.EVENT_OPTIONS,detail:{uuid:this.uuid,add:this.vehicle.data.favourite,card:this}};this.dispatchEvent(new CustomEvent("vehicle:favourite",t)),this.requestUpdate()})).catch((e=>{console.log(e),window.location.href=`/${this.lang}/users/login`}))}canDisplayFavouriteOption(){return window.location.hostname===window.CARIFY.domain&&!this.vehicle.missing&&this.uuid}get link(){if(this.fetching)return"#";if(this.page)return`${this.page}?uuid=${this.uuid}`;let e;if(this.vehicle.data.slug&&this.vehicle.data.uuid)e=`/${this.lang}/view/${this.vehicle.data.slug}/${this.vehicle.data.uuid}`;else if(this.vehicle.data.name&&this.vehicle.data.uuid){const t=this.vehicle.data.name.toLowerCase().replace(" ","-").replace(".","");e=`/${this.lang}/view/${t}/${this.vehicle.data.uuid}`}else e="#";const t=this.internal?e:`${window.CARIFY.site}${e}`;return this.group?`${t}?group=${this.group}`:t}render(){return T`<a href="${this.link}" target="${this.internal?"_self":"_blank"}" class="card" rel="noopener"><div class="media" part="media">${this.renderImage()} ${this.renderBadges()}</div><div class="content" part="content"><h2 data-test="name-val">${this.data.name||this.i("vehicle.missing")}</h2>${this.renderSpecs()} ${this.renderPackage()}<div class="fetching-overlay ${ue({show:this.fetching})}">${ze}</div></div></a>`}renderImage(){return this.fetching?T`<span style="margin-top:90px" class="busy"></span>`:this.vehicle.missing||!this.data.photo?T`<span style="display:block;margin-top:90px;color:#bdbdbd">${Me.image}</span>`:this.slider?T`<carify-image-slider lang="${this.lang}" alternative="${this.data.name}" .images="${this.data.images}"></carify-image-slider>`:T`<img loading="lazy" height="200px" data-test="photo-val" src="${this.data.photo}" alt="${this.data.name}">`}renderBadges(){if(this.fetching)return T``;const e=[{text:this.i("badge.recent"),class:"recent",active:this.data.recent},{text:this.i("badge.hybrid"),class:"hybrid",active:this.data.hybrid},{text:this.i("badge.popular"),class:"popular",active:this.data.popular},{text:this.i("badge.electric"),class:"electric",active:this.data.electric},{text:this.i("badge.special"),class:"special",active:this.data.promotion}].filter((e=>e.active));return 0===e.length?T``:T`<ul class="badges" part="badges">${e.map((e=>T`<li class="badge ${e.class}">${e.text}</li>`))}</ul>`}renderSpecs(){const e=[{key:this.i("transmission.type"),value:this.data.gear||"!?"},{key:this.i("fuel.type"),value:this.data.fuel||"!?"},{key:this.i("registration.date"),value:this.data.year||"!?"}];return T`<dl part="specs">${e.map((e=>T`<dt>${e.key}</dt><dd>${e.value}</dd>`))}</dl>`}renderPackage(){const e=T`<div><span class="pill"><span data-test="duration-val">${this.data.duration}</span> ${this.i("month",Math.ceil(this.data.duration))} </span><span class="pill"><span data-test="distance-val">${this.data.distance}</span>km/${this.i("month",1)}</span></div>`,t=T`<div><span data-test="favoured" class="fav ${ue({active:this.data.favourite})}" @click="${this.dispatchVehicleFavourite}">${Me.heart}</span></div>`,i=T`<div class="pills">${e}${this.canDisplayFavouriteOption()?T`${t}`:""}</div>`;return T`<div class="package" part="package">${this.renderPrice()} ${i}</div>`}renderPrice(){return this.data.promotion?T`<sup><span data-test="currency-promo-val">${this.data.currency}</span> <span data-test="old-price-val">${this.data.old_price}</span></sup><p class="price"><span data-test="currency-val">${this.data.currency}</span> <span data-test="price-val">${this.data.price}</span>/${this.i("month",1)}</p>`:T`<p class="price"><span data-test="currency-val">${this.data.currency}</span> <span data-test="price-val">${this.data.price}</span>/${this.i("month",1)}</p>`}};je.EVENT_OPTIONS={bubbles:!0,composed:!0},He([le({type:String})],je.prototype,"group",void 0),He([le({type:Boolean,reflect:!0})],je.prototype,"zoom",void 0),He([le({type:Boolean,reflect:!0})],je.prototype,"motion",void 0),He([le({type:Boolean})],je.prototype,"fetching",void 0),He([le({type:Boolean})],je.prototype,"injected",void 0),He([le({type:Boolean})],je.prototype,"internal",void 0),He([le({type:String})],je.prototype,"page",void 0),He([le({type:String})],je.prototype,"uuid",void 0),He([le({type:Number})],je.prototype,"duration",void 0),He([le({type:Number})],je.prototype,"distance",void 0),He([le({type:Boolean})],je.prototype,"slider",void 0),He([ce("a",!0)],je.prototype,"_card",void 0),je=Se=He([ne("carify-vehicle-card")],je);var Ve=je,Pe=o`:host{display:block;font-family:var(--grid-font,inherit);font-size:var(--grid-font-base,16px)}header{background-color:#fff;margin:0;padding:.5em .75em;display:grid;border-radius:10px;grid-template-columns:1fr 1fr;gap:5px;box-shadow:rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px;box-sizing:border-box}header *{box-sizing:border-box}header input{border:none;padding:10px 5px;border-radius:5px;grid-column-end:span 2}header button{border-radius:5px;position:relative;cursor:pointer;padding:8px 6px;border:1px solid #acacac;color:#000;background:#fff;font-family:inherit;width:100%}header button.search{color:var(--filter-search-color,#222);background:var(--filter-search-bg,#efefef);grid-column-end:span 2}header.long button.search{grid-column-end:span 1}div.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);transition:opacity .3s ease;opacity:0;visibility:hidden}div.modal-mask.open{visibility:visible;opacity:1}div.modal-mask.transparent{background-color:transparent}div.modal-wrapper{height:100%;display:grid;place-items:center}div.modal-wrapper.top{margin-top:1em;align-items:start}div.modal-container{width:100%;max-width:800px;margin:0 auto;padding:20px 30px;height:100vh;overflow-y:scroll;background-color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}div.modal-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:2.5em}div.modal-title p{margin:0;padding:0;font-size:1.1em;font-weight:700}div.modal-title span.close{cursor:pointer;text-align:center;display:flex;padding:0;margin:0;align-items:center;justify-content:center;background-color:#efefef;border-radius:4px;width:30px;height:30px}div.modal-title span.close svg{width:12px}div.modal-title span.close:hover{background-color:silver}div.ops-loader{display:flex;justify-content:flex-start;align-items:center}button.results{min-width:80px;padding:.75em 1em;background-color:var(--filter-view-bg,#efefef);color:var(--filter-view-color,#222);border-radius:5px;outline:0;border:1px solid #c4c4c4;cursor:pointer;margin-bottom:4.25em;margin-right:.5em}button.results[disabled]{cursor:not-allowed;background-color:#efefef;color:#949494}dl{font-size:.75em;display:grid;gap:10px;grid-template-columns:1fr}dl dt{font-weight:500;padding-top:2px}dd{height:100%;margin:0 0 1em 0}dd ul{list-style:none;margin:0;padding:0}dd ul li{min-width:30px;text-align:center;display:inline-block;border:1px solid #efefef;padding:8px;border-radius:4px;cursor:pointer;margin:0 3px 3px 0}dd ul li.item.active{background-color:var(--active-filter-bg,#efefef);color:var(--active-filter-color,#222)}dd ul li.filter-remove{background-color:#efefef;border-radius:4px;width:32px}dd ul li.filter-remove svg{width:10px}dd ul li.filter-remove:hover{background-color:silver}dd ul li.cat{cursor:default;background-color:grey;color:#fff}input.inline{margin:0;padding:0;border:none;font-size:12px}input:focus{outline:0}button[disabled]{cursor:not-allowed!important;background:#f5f5f5!important;border:1px dotted #ccc!important;color:#bebebe!important}@media screen and (min-width:768px){header{grid-template-columns:auto 120px 120px 100px}header.long{grid-template-columns:auto 100px 100px 130px 100px}header button.search{grid-column-end:span 1}header input{grid-column-end:span 1}div.ops-loader{justify-content:flex-end;grid-column-end:span 4}dd ul li.item:hover{background-color:var(--active-filter-bg,#efefef);color:var(--active-filter-color,#222)}dl{grid-template-columns:150px auto}}@media screen and (min-width:1024px){div.modal-container{height:auto;max-height:calc(100vh - 2em);border-radius:10px}button.results{margin-bottom:1.25em}}`,Oe=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let Te=class extends(me(re)){constructor(){super(...arguments),this.makes=[],this.types=[],this.dealers=[],this.cantons=[],this.activeMakes=[],this.models=new Map,this.activeFilters=new Map,this.packages=[{text:"1750 km",value:"1750"}],this.initialFilters={},this._config={advanced:!0,hide:[],filters:{},duration:12,distance:1e3,sync:!1},this.show_dealer=!1,this.optionsFetched=!1,this.error=!1,this.count=0,this.busy=!1,this.modalOpen=!1,this.inlineFilters={makes:"",search:"",canton:"",dealer:""},this.delayedSearch=this.debounce((()=>this.searchVehicles()))}static get styles(){return[super.styles||[],ge.host,ye.busyIndicator,ge.hideScrollbar,Pe]}set config(e){this._config={...this._config,...e}}connectedCallback(){super.connectedCallback(),this.addEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),this.fetchFilterOptions()}disconnectedCallback(){this.removeEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),super.disconnectedCallback()}firstUpdated(){this.grid=document.querySelector("carify-vehicle-grid"),this.grid&&this.grid.addEventListener("catalog:ready",this.handleCatalogReady.bind(this))}handleDropdownUpdate(e){switch(e.detail.name){case"duration":this.busy=!0,this.grid.setFilter("duration",Number(e.detail.value));break;case"distance":this.busy=!0,this.grid.setFilter("distance",Number(e.detail.value))}}filterOptions(){return{duration:[{text:T`1 ${this.i("month",1)}`,value:"1"},{text:T`3 ${this.i("month",3)}`,value:"3"},{text:T`6 ${this.i("month",6)}`,value:"6"},{text:T`12 ${this.i("month",12)}`,value:"12"},{text:T`18 ${this.i("month",18)}`,value:"18"}],seats:[{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9}],drive:[{text:T`${this.i("filter.drive.front")}`,value:[1]},{text:T`${this.i("filter.drive.rear")}`,value:[2]},{text:T`${this.i("filter.drive.all")}`,value:[3,4]}],gear:[{text:T`${this.i("filter.gear.manual")}`,value:[1,3]},{text:T`${this.i("filter.gear.automatic")}`,value:[2,4,5]}],fuel:[{text:T`${this.i("filter.fuel.diesel")}`,value:[1]},{text:T`${this.i("filter.fuel.petrol")}`,value:[2]},{text:T`${this.i("filter.fuel.electric")}`,value:[3]},{text:T`${this.i("filter.fuel.hybrid")}`,value:[4,5,6,7,8,10]},{text:T`${this.i("filter.fuel.other")}`,value:[9,11,12]}],power:[{text:"1 - 99",value:[0,99]},{text:"100 - 200",value:[100,200]},{text:"201 - 300",value:[201,300]},{text:"300+",value:[301,2e3]}]}}toggleFilterExpand(){this.modalOpen=!this.modalOpen,this.modalOpen?window.document.body.style.overflow="hidden":window.document.body.style.overflow="scroll"}options(){return{mode:"cors",credentials:"same-origin",referrerPolicy:"origin",headers:{"accept-language":this.lang}}}handleCatalogReady(e){this.busy=!1,this.count=e.detail.total}updateFilterInput(e){const t=e.target,i=t.value.toLowerCase().trim(),s=t.dataset.filter;this.inlineFilters[s]=i,"search"===s&&""===i&&this.removeFilter("search"),this.requestUpdate()}async fetchFilterOptions(){var e,t;this.error=!1;const i=[fetch(`${window.CARIFY.base}/public_api/vehicles/enums/`,this.options()),fetch(`${window.CARIFY.base}/public_api/vehicles/makes/`,this.options()),fetch(`${window.CARIFY.base}/public_api/dealers/`,this.options()),fetch(`${window.CARIFY.base}/public_api/leases/adjustments/`,this.options())];try{const s=await Promise.all(i),{results:r}=await s[0].json(),{results:o}=await s[1].json(),{results:n}=await s[2].json(),{results:a}=await s[3].json();Object.entries(null!==(e=r.car_type_options)&&void 0!==e?e:{}).forEach((e=>{this.types.push({text:e[1],value:Number(e[0])})})),n.forEach((e=>{this.dealers.push({text:e.name,value:e.id})})),a.forEach((e=>{"monthly"===e.adjustment_type&&0!==e.km_adjustment&&this.packages.push({text:e.name.toLowerCase(),value:String(1750+e.km_adjustment)})})),this.packages=this.packages.sort(((e,t)=>1*(e.value===t.value?0:e.value>t.value?1:-1))),o.forEach((e=>{this.makes.push({text:e.name,value:e.name})})),this.makes=this.makes.sort(((e,t)=>1*(e.value===t.value?0:e.value>t.value?1:-1)));(null!==(t=r.cantons)&&void 0!==t?t:[]).forEach((e=>{this.cantons.push({text:e,value:e,selected:!1})}))}catch(e){console.error(e),this.error=!0}finally{this.optionsFetched=!0,this.parseURLQuery(),this.initializeConfigFilters()}}initializeConfigFilters(){Object.entries(this._config.filters).forEach((e=>{this.initialFilters[e[0]]=e[1];let t=e[1];"makes"==e[0]&&t&&(t=t.map((e=>e.toUpperCase())),this.fetchModelsForMakes(t)),this.activeFilters.set(e[0],t)})),this.initialFilters.distance=this._config.distance,this.initialFilters.duration=this._config.duration,window.CARIFY.dealer&&(this.initialFilters.dealer=window.CARIFY.dealer),window.CARIFY.group&&(delete this.initialFilters.dealer,this.initialFilters.group=window.CARIFY.group),this.grid&&this.grid.applyFilters(this.initialFilters)}async parseURLQuery(){const e=[],t=new URLSearchParams(window.location.search),i=Object.fromEntries(t.entries()),s={gear:"object",type:"number",fuel:"object",power:"object",drive:"object",seats:"number",canton:"string",dealer:"string",models:"object-string"};for(const t in i)s.hasOwnProperty(t)&&("object"==s[t]?e.push({name:t,value:i[t].split(",").map((e=>Number(e)))}):"object-string"==s[t]?e.push({name:t,value:i[t].split(",").map((e=>e.toString()))}):"string"==s[t]?e.push({name:t,value:i[t]}):"number"==s[t]?e.push({name:t,value:Number(i[t])}):e.push({name:t,value:i[t]}));if(t.has("makes")){const e=t.get("makes").split(",");await this.fetchModelsForMakes(e),e.forEach((e=>{this.applyFilter("makes",e,!0)}))}e.forEach((e=>{this.initialFilters[e.name]=e.value})),this.requestUpdate()}async fetchModelsForMakes(e){this.activeMakes=e;const t=e.filter((e=>!this.models.has(e)));if(0===t.length)return;const i=await fetch(`${window.CARIFY.base}/public_api/vehicles/models/?makes=${t.join(",")}`,this.options());(await i.json()).results.forEach((e=>{this.models.set(e.name,e.models)})),this.requestUpdate()}applyFilter(e,t,i=!1){var s;let r;if(i){if(r=null!==(s=this.activeFilters.get(e))&&void 0!==s?s:[],r.includes(t)){if(r=r.filter((e=>e!==t)),0===r.length)return void this.removeFilter(e);if("makes"==e){const e=this.models.get(t).map((e=>e.name)),i=this.activeFilters.get("models");if(i){const t=i.filter((t=>!e.includes(t)));this.applyFilter("models",t)}}}else r.push(t);"makes"===e&&this.fetchModelsForMakes(r)}else r=t;if(!i){if(this.filterValueApplied(e,t))return void this.removeFilter(e)}this.busy=!0,this.grid.setFilter(e,r),this.activeFilters.set(e,r),this.syncQueryParameters(!1,e,r),this.requestUpdate()}removeFilter(e,t=!0){if(this.busy=!0,t&&"search"!=e){const t=this.renderRoot.querySelector(`ul[data-filter="${e}"]`);if(!t)return void(this.busy=!1);[...t.children].forEach((e=>e.classList.remove("active")))}else this.renderRoot.querySelector("input").value="";this.grid.delFilter(e),this.activeFilters.delete(e),"makes"==e&&(this.inlineFilters.makes="",this.grid.delFilter("models"),this.activeFilters.delete("models")),"dealer"==e&&(this.inlineFilters.dealer=""),"canton"==e&&(this.inlineFilters.canton=""),this.syncQueryParameters(!0,e),this.requestUpdate()}syncQueryParameters(e,t,i){if(!this._config.sync)return;const s=new URLSearchParams(location.search);e?(s.delete(t),"makes"==t&&s.delete("models")):s.set(t,i),window.history.replaceState({},"",`${location.pathname}?${s}`)}filterValueApplied(e,t,i=!1){return i?this.activeFilters.has(e)&&this.activeFilters.get(e).includes(t):this.activeFilters.has(e)&&JSON.stringify(this.activeFilters.get(e))===JSON.stringify(t)}debounce(e,t=300){let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>{e.apply(this,s)}),t)}}searchVehicles(){this.inlineFilters.search.length>0&&(this.busy=!0,this.grid.setFilter("search",this.inlineFilters.search),this.requestUpdate())}togglePromotions(){this.activeFilters.has("promotions")?this.removeFilter("promotions",!1):this.applyFilter("promotions",!0)}togglePopular(){this.activeFilters.has("popular")?this.removeFilter("popular",!1):this.applyFilter("popular",!0)}clearAllFilters(){for(const e of this.activeFilters.keys())this.removeFilter(e)}filteredList(e,t=5){let i="",s=[];switch(e){case"makes":i=this.inlineFilters.makes,s=this.makes;break;case"canton":i=this.inlineFilters.canton,s=this.cantons;break;case"dealer":i=this.inlineFilters.dealer,s=this.dealers}return i&&(s=s.filter((e=>Object.keys(e).some((t=>String(e.text).toLowerCase().indexOf(i)>-1))))),s.slice(0,t)}renderFilterPair(e,t,i,s=!1){if(this._config.hide.includes(t))return T``;const r=T`<dt>${e}</dt><dd><ul data-filter="${t}">${["makes","canton","dealer"].includes(t)?T`<li><input type="search" .value="${this.inlineFilters[t]}" @input="${this.updateFilterInput}" data-filter="${t}" class="inline" placeholder="${this.t("filter.inline")}..."></li>`:T``} ${i.map((e=>T`<li class="item ${ue({active:this.filterValueApplied(t,e.value,s)})}" @click="${()=>this.applyFilter(t,e.value,s)}">${e.text}</li>`))}<li ?hidden="${!this.activeFilters.has(t)}" @click="${()=>this.removeFilter(t)}" class="filter-remove">${Me.close_icon}</li></ul></dd>`;return T`${r}`}renderModels(){const e=[];if(0==this.activeMakes.length)return;this.activeMakes.forEach((t=>{e.push({text:t,value:t,make:!0});const i=this.models.get(t);i&&i.forEach((t=>{e.push({text:t.name,value:t.name,make:!1})}))}));return T`<ul data-filter="models">${e.map((e=>T`<li @click="${()=>this.applyFilter("models",e.value,!0)}" class="${ue({item:!e.make,cat:Boolean(e.make),active:this.filterValueApplied("models",e.value,!0)})}">${e.text}</li>`))}<li ?hidden="${!this.activeFilters.has("models")}" @click="${()=>this.removeFilter("models")}" class="filter-remove">${Me.close_icon}</li></ul>`}renderModal(){return T`<div class="modal-mask ${ue({open:this.modalOpen,transparent:1==this._config.transparent})}"><div class="modal-wrapper ${ue({top:1==this._config.topAlign})}" @click="${this.toggleFilterExpand}"><div class="modal-container hide-scrollbar" @click="${e=>e.stopPropagation()}"><div class="modal-title"><p>${this.i("filter.advanced")}</p><span class="close" @click="${this.toggleFilterExpand}">${Me.close_icon}</span></div><section class="detail"><dl part="filters"><dt>${this.i("filter.special")}</dt><dd><ul><li @click="${this.togglePromotions}" class="item ${ue({active:this.filterValueApplied("promotions",!0)})}">${this.i("filter.promotions")}</li><li @click="${this.togglePopular}" class="item ${ue({active:this.filterValueApplied("popular",!0)})}">${this.i("badge.popular")}</li></ul></dd>${this.renderFilterPair(this.i("filter.makes"),"makes",this.filteredList("makes",10),!0)} ${this.activeFilters.has("makes")&&!this._config.hide.includes("models")?T`<dt>${this.i("filter.models")}</dt><dd>${this.renderModels()}</dd>`:T``} ${this.renderFilterPair(this.i("filter.gear"),"gear",this.filterOptions().gear)} ${this.renderFilterPair(this.i("filter.type"),"type",this.types)} ${this.renderFilterPair(this.i("filter.fuel"),"fuel",this.filterOptions().fuel)} ${this.renderFilterPair(this.i("filter.power"),"power",this.filterOptions().power)} ${this.renderFilterPair(this.i("filter.drive"),"drive",this.filterOptions().drive)} ${this.renderFilterPair(this.i("filter.seats"),"seats",this.filterOptions().seats)} ${this.renderFilterPair(this.i("filter.canton"),"canton",this.filteredList("canton",5))} ${this.show_dealer?this.renderFilterPair(this.i("filter.dealer"),"dealer",this.filteredList("dealer",5)):T``}</dl></section><button class="results" ?disabled="${this.busy||0==this.count}" @click="${this.toggleFilterExpand}">${this.i("view")} (${this.count})</button> <span ?hidden="${!this.busy}" class="busy"></span></div></div></div>`}renderButtons(){return this.optionsFetched?T`<carify-drop-down name="duration" default="${this._config.duration}" .options="${this.filterOptions().duration}" ?disabled="${this.error}" lang="${this.lang}"></carify-drop-down><carify-drop-down name="distance" default="${this._config.distance}" .options="${this.packages}" ?disabled="${this.error}" lang="${this.lang}"></carify-drop-down><button @click="${this.toggleFilterExpand}" ?hidden="${!this._config.advanced}" ?disabled="${this.error}"><span>${this.i("filter.more")} <span ?hidden="${0==this.activeFilters.size}">(${this.activeFilters.size})</span></span></button> <button class="search" @click="${()=>this.searchVehicles()}"><span>${this.i("search")}</span></button>`:T`<div class="ops-loader"><span class="busy"></span></div>`}render(){return T`<header role="banner" aria-label="search-bar" class="${ue({long:this._config.advanced})}"><input placeholder="${this.t("search")}..." @input="${this.updateFilterInput}" data-filter="search" @keyup="${()=>this.delayedSearch()}" tabindex="0" ?disabled="${this.error}"> ${this.renderButtons()}</header>${this.renderModal()}`}};Oe([le({type:Boolean})],Te.prototype,"show_dealer",void 0),Oe([de()],Te.prototype,"optionsFetched",void 0),Oe([de()],Te.prototype,"error",void 0),Oe([de()],Te.prototype,"count",void 0),Oe([de()],Te.prototype,"busy",void 0),Oe([de()],Te.prototype,"modalOpen",void 0),Oe([de()],Te.prototype,"inlineFilters",void 0),Te=Oe([ne("carify-vehicle-filter")],Te);var Re=Te,Fe=o`:host{display:block;font-family:var(--grid-font,inherit);font-size:var(--grid-font-base,16px)}div.wrap{width:100%;margin:1em auto;padding:0}main{padding:0;margin:0 0 2em 0;justify-items:center}footer{font-size:.8em;display:flex;align-items:center}h1{margin:0 0 .75em 0;padding:0;font-size:1.85em;color:var(--heading-color,#000)}header~main{margin-top:2em}button.icon{margin-right:.5em}button.icon svg{width:15px;stroke:#222}.light-button{background-color:#fff;cursor:pointer;background:0 0;display:flex;justify-content:center;align-items:center;border:1px solid #c4c4c4;border-radius:5px;padding:10px 12px;color:#222}.light-button:not([disabled]):hover{color:var(--active-page-indicator-color,#000);background:var(--active-page-indicator-bg,#efefef)}.light-button:focus{outline:0}.light-button[disabled]{cursor:not-allowed;background-color:#f8f8f8}carify-vehicle-card{width:100%}div.errors{display:flex;flex-direction:column;align-items:flex-start;padding:1em .25em;font-size:1em;color:#bebebe;user-select:none}div.errors span{margin-right:5px}div.errors span svg{margin:0;height:25px;width:25px;stroke:#bebebe}div.track{display:none}ol.pagination{justify-self:end;list-style:none;display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}ol.pagination li{background-color:#fff;min-width:40px;border-radius:0;border-left:none;font-weight:500}ol.pagination li:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px;border-left:1px solid #c4c4c4}ol.pagination li:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px}ol.pagination li.active{color:var(--active-page-indicator-color,#000);background:var(--active-page-indicator-bg,#efefef)}.grid{display:grid;justify-content:center;align-items:center;gap:1.5em;grid-template-columns:repeat(1,minmax(90%,300px))}@media screen and (min-width:540px){.grid{grid-template-columns:repeat(2,240px)}carify-vehicle-filter,ol{grid-column-end:span 2}h1{grid-column-end:span 1}carify-drop-down{grid-column-start:2;justify-self:end}}@media screen and (min-width:600px){.grid{grid-template-columns:repeat(2,270px)}carify-vehicle-filter{grid-column-end:span 2}}@media screen and (min-width:768px){div.errors{align-items:center;flex-direction:row}.grid{grid-template-columns:repeat(2,320px)}ol{grid-column-end:span 1}carify-vehicle-filter{grid-column-end:span 2}div.track{display:block}}@media screen and (min-width:1024px){.grid{grid-template-columns:repeat(3,1fr)}carify-vehicle-filter{grid-column-end:span 3}ol{grid-column-end:span 2}h1{grid-column-end:span 2}carify-drop-down{grid-column-start:3}}@media screen and (min-width:1200px){.grid{grid-template-columns:repeat(var(--grid-columns,4),1fr)}footer.grid{grid-template-columns:repeat(4,1fr)}carify-vehicle-filter{grid-column-end:span 4}ol{grid-column-end:span 3}h1{grid-column-end:span calc(var(--grid-columns,4) - 1)}carify-drop-down{grid-column-start:4}}`
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;class Ne{constructor(e){this.locale="en",this.ready=!1,this.current_page=1,this.paginate=12,this.vehicles=[],this.filters={},(this.host=e).addController(this),this.vehicle=new Ae(this.host)}hostConnected(){this.defineValidators()}defineValidators(){this.validators=new Map,this.validators.set("popular",(e=>"boolean"==typeof e)),this.validators.set("promotions",(e=>"boolean"==typeof e)),this.validators.set("paginate",(e=>e>1&&e<=25)),this.validators.set("duration",(e=>[1,3,6,12,18].includes(e))),this.validators.set("distance",(e=>[1e3,1750,2500,3e3,3250,3750,4e3].includes(e))),this.validators.set("sequence",(e=>Ne.ORDER_TYPES.includes(e))),this.validators.set("seats",(e=>[1,2,3,4,5,6,7,8,9].includes(e))),this.validators.set("type",(e=>[0,1,2,3,4,5,6,7,8,9,10,11].includes(e))),this.validators.set("fuel",(e=>"object"==typeof e&&e.every((e=>Ne.FUEL_TYPES.includes(e))))),this.validators.set("gear",(e=>"object"==typeof e&&e.every((e=>Ne.GEAR_TYPES.includes(e))))),this.validators.set("drive",(e=>"object"==typeof e&&e.every((e=>Ne.DRIVE_TYPES.includes(e))))),this.validators.set("power",(e=>"object"==typeof e&&2==e.length&&!isNaN(e[0])&&!isNaN(e[1]))),this.validators.set("price",(e=>"object"==typeof e&&2==e.length&&!isNaN(e[0])&&!isNaN(e[1]))),this.validators.set("dealer",(e=>"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))),this.validators.set("group",(e=>"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))),this.validators.set("models",(e=>"object"==typeof e&&e.length>0&&this.filters.makes)),this.validators.set("makes",(e=>"object"==typeof e&&e.length>0)),this.validators.set("canton",(e=>"string"==typeof e&&e)),this.validators.set("search",(e=>"string"==typeof e&&e)),this.validators.set("equipment",(e=>"object"==typeof e&&e.length>0))}abort(){this.controller?(this.controller.abort(),this.controller=new AbortController):this.controller=new AbortController,this.error=null,this.ready=!1,this.host.requestUpdate()}options(){return{mode:"cors",credentials:"include",referrerPolicy:"origin",headers:{"accept-language":this.locale},signal:this.controller.signal}}refresh(){this.current_page=1,this.query()}get params(){return this.queryParameters()}apply(e,t,i=!0){"makes"==e&&t&&(t=t.map((e=>e.toUpperCase())));const s=e.trim().toLowerCase();this.validators.has(s)?this.validators.get(e)(t)?(this.filters[s]=t,i&&this.refresh()):console.warn(`[CAR!FY]: Invalid ${s} filter value {${t}} - not applying.`):console.warn(`[CAR!FY]: Unknown filter {${e}}. Ignoring filter.`)}remove(e,t=!0){const i=e.trim().toLowerCase();this.validators.has(i)?(this.filters[i]=void 0,t&&this.refresh()):console.warn(`[CAR!FY]: Cannot remove unknown filter {${e}}.`)}filter(e){Object.entries(e).forEach((e=>{this.apply(e[0],e[1],!1)})),this.refresh()}reset(e){this.filters={},Object.entries(e).forEach((e=>{this.apply(e[0],e[1],!1)})),this.refresh()}firstPage(){1!==this.current_page?(this.current_page=1,this.query()):console.warn("[CAR!FY]: Already on first page. Not paginating.")}prevPage(e=!1){if(e&&1===this.current_page)return this.lastPage();1!==this.current_page?(this.current_page--,this.query()):console.warn("[CAR!FY]: Already on first page. Not paginating.")}gotoPage(e){e<1||e>this.total_pages?console.warn("[CAR!FY]: Invalid page specified. Not paginating."):e!==this.current_page?(this.current_page=e,this.query()):console.warn(`[CAR!FY]: Already on page {${e}}. Not paginating.`)}nextPage(e=!1){if(e&&this.current_page===this.total_pages)return this.firstPage();this.current_page+1>this.total_pages?console.warn("[CAR!FY]: Already on last page. Not paginating."):(this.current_page++,this.query())}lastPage(){this.current_page!==this.total_pages?(this.current_page=this.total_pages,this.query()):console.warn("CAR!FY: Already on last page. Not paginating.")}async query(){this.abort();const e=new URL(`${window.CARIFY.base}/public_api/vehicles/`),t=this.queryParameters();Object.keys(t).forEach((i=>e.searchParams.append(i,t[i])));try{const t=await fetch(e.toString(),this.options());if(!t.ok)throw new Error("not-ok");this.vehicles=[];const{results:i,total_count:s}=await t.json();this.total_vehicles=s,0===this.total_vehicles?this.error="results":this.total_pages=s>0?Math.ceil(s/this.paginate):1,i.forEach((e=>{this.vehicles.push(this.vehicle.convertVehicle(e,this.filters.duration,this.filters.distance))})),this.ready=!0}catch(e){this.handleError(e)}finally{this.host.requestUpdate()}}queryParameters(){var e;const t={limit:this.paginate,offset:(this.current_page-1)*(this.paginate||12),minimum_duration:this.filters.duration||6,km:this.filters.distance||1e3,order_by:this.filters.sequence||"-top_picks",popular_models:1==this.filters.popular||void 0,on_promotion:1==this.filters.promotions||void 0,no_of_seats:this.filters.seats||void 0,car_type:null!==(e=this.filters.type)&&void 0!==e?e:void 0,fuel_types:this.filters.fuel?this.filters.fuel.join(","):void 0,transmissions:this.filters.gear?this.filters.gear.join(","):void 0,drive_types:this.filters.drive?this.filters.drive.join(","):void 0,horse_power_range:this.filters.power?this.filters.power.join(","):void 0,lease_package_price_range:this.filters.price?this.filters.price.join(","):void 0,canton:this.filters.canton||void 0,makes:this.filters.makes?this.filters.makes.join(","):void 0,models:this.filters.models?this.filters.models.join(","):void 0,search:this.filters.search||void 0,dealer_id:this.filters.dealer||void 0,dealer_group_id:this.filters.group||void 0,equipment:this.filters.equipment?this.filters.equipment.join(","):void 0};return Object.keys(t).forEach((e=>void 0===t[e]&&delete t[e])),t}handleError(e){this.networkError(e)?this.error="network":e instanceof TypeError?this.error="type":"AbortError"!==e.name?this.error="other":console.warn("[CAR!FY]: Aborted page fetch due to new pagination request.")}networkError(e){return e instanceof TypeError&&["Failed to fetch","NetworkError when attempting to fetch resource.","Could not connect to the server."].includes(e.message)}}Ne.FUEL_TYPES=[1,2,3,4,5,6,7,8,9,10,11,12],Ne.GEAR_TYPES=[1,2,3,4,5],Ne.DRIVE_TYPES=[1,2,3,4],Ne.ORDER_TYPES=["-top_picks","+base_price","-base_price","-approved_datetime","+approved_datetime","-rank"];var Ze=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let Ee=class extends(me(re)){constructor(){super(...arguments),this.empty=!0,this.errorMessage=null,this.base=1,this.slider=!1,this.motion=!1,this.searchable=!1,this.sortable=!1,this.auto=!1,this.paginate=12,this.internal=!1,this.show_dealer=!1,this.catalog=new Ne(this)}static get styles(){return[super.styles||[],ge.host,ye.busyIndicator,Fe]}sequence(){return[{text:T`${this.i("filter.order.top")}`,value:"-top_picks"},{text:T`${this.i("filter.order.price.low")}`,value:"+base_price"},{text:T`${this.i("filter.order.price.high")}`,value:"-base_price"},{text:T`${this.i("filter.order.date.new")}`,value:"-approved_datetime"},{text:T`${this.i("filter.order.date.old")}`,value:"+approved_datetime"},{text:T`${this.i("filter.order.relevance")}`,value:"-rank"}]}get cards(){return this._grid?[...this._grid.children]:[]}connectedCallback(){super.connectedCallback(),addEventListener("keydown",this.handleKeydown.bind(this)),this.addEventListener("dropdown:value",this.handleDropdownUpdate.bind(this))}disconnectedCallback(){removeEventListener("keydown",this.handleKeydown.bind(this)),this.removeEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),super.disconnectedCallback()}handleDropdownUpdate(e){switch(e.detail.name){case"sequence":this.setFilter("sequence",e.detail.value)}}firstUpdated(){if(this.hasAttribute("config"))try{const e=JSON.parse(this.getAttribute("config"));this._filter?this._filter.config=e:e.filters&&this.catalog.filter(e.filters)}catch(e){console.error("[CAR!FY]: Error parsing config for vehicle grid. Ignoring.")}else this.searchable||!window.CARIFY.dealer&&!window.CARIFY.group||(window.CARIFY.group?this.setFilter("group",window.CARIFY.group):window.CARIFY.dealer&&this.setFilter("dealer",window.CARIFY.dealer))}setFilter(e,t,i=!0){this.errorMessage=null,this.catalog.apply(e,t,i)}delFilter(e,t=!0){this.errorMessage=null,this.catalog.remove(e,t)}applyFilters(e){this.errorMessage=null,this.catalog.filter(e)}clearFilters(){this.errorMessage=null;const e={dealer:this.dataset.dealer||void 0};this.catalog.reset(e)}currentFilters(){return this.catalog.filters}queryParameters(){return this.catalog.params}willUpdate(e){let t=!1;e.has("lang")&&(this.catalog.locale=this.lang,t=!0),e.has("paginate")&&(this.catalog.ready=!1,this.catalog.paginate=this.paginate,t=!0),this.catalog.ready||this.catalog.error||this.cards.map((e=>e.hidden=!1)),this.catalog.ready&&this.handleCatalogReady(),this.catalog.error&&this.handleCatalogError(),t&&this.auto&&this.catalog.query()}moveToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}handleCatalogReady(){this.auto=!0,this.cards.forEach(((e,t)=>{const i=this.catalog.vehicles[t];i?(e.hidden=!1,e.data=i):e.hidden=!e.classList.contains("sentinel")})),this.dispatchEvent(new CustomEvent("catalog:ready",{bubbles:!0,composed:!0,detail:{page:this.catalog.current_page,total:this.catalog.total_vehicles}}))}handleCatalogError(){switch(this.cards.map((e=>e.hidden=!0)),this.catalog.error){case"network":this.errorMessage="Oops! The CARIFY public API is currently unavailable. Please try again later...";break;case"type":this.errorMessage="Oops! Something went wrong with retrieving data from the CARIFY server...";break;case"results":this.errorMessage=this.i("results.empty");break;default:this.errorMessage="Oops! An unknown error occurred. Please contact CARIFY for support..."}}handleKeydown(e){const t=new Map;t.set("ArrowLeft",(()=>{this.catalog.prevPage(!0)})),t.set("ArrowRight",(()=>{this.catalog.nextPage(!0)})),t.set("ArrowUp",(()=>{this.catalog.lastPage()})),t.set("ArrowDown",(()=>{this.catalog.firstPage()})),t.has(e.key)&&(t.get(e.key)(),this.moveToTop())}render(){return T`<div class="wrap">${this.renderHeader()} ${this.renderMain()} ${this.renderFooter()}</div>`}renderHeader(){return T`${this.searchable?T`<div class="grid" style="margin-bottom:2em"><carify-vehicle-filter lang="${this.lang}" ?highlight="${this.highlight}" ?show_dealer="${this.show_dealer}"></carify-vehicle-filter></div>`:T``}<header class="grid"><h1>${this.heading}</h1>${this.sortable?T`<carify-drop-down name="sequence" lang="${this.lang}" .options="${this.sequence()}" style="min-width:180px;max-width:200px" ?disabled="${null!==this.errorMessage}"></carify-drop-down>`:T``}</header>${this.errorMessage?T`<div class="errors"><span>${Me.emoji_sad}</span><p>${this.errorMessage}</p></div>`:T``}`}renderMain(){const e=Array(this.catalog.paginate).fill(0);return T`<main class="grid">${e.map((e=>T`<carify-vehicle-card injected ?slider="${this.slider}" ?motion="${this.motion}" ?internal="${this.internal}" ?fetching="${!this.catalog.ready}" page="${this.page}" lang="${this.lang}" ?highlight="${this.highlight}" group="${window.CARIFY.group}"></carify-vehicle-card>`))}</main>`}renderFooter(){return T`<footer class="grid">${this.renderPageInfo()} ${this.renderPagination()}</footer>`}renderPageInfo(){if(!this.catalog.total_vehicles||this.catalog.error)return T`<span></span>`;let e=this.catalog.paginate*this.catalog.current_page,t=e-this.catalog.paginate+1;return 0===t&&(t=1),e>this.catalog.total_vehicles&&(e-=e-this.catalog.total_vehicles),T`<div class="track">${t} to ${e} of ${this.catalog.total_vehicles} (${this.i("page")} ${this.catalog.current_page})</div>`}handlePagination(e){const t=e.target,i=Number(t.dataset.page),s=Number(t.dataset.step);t.hasAttribute("data-begin")&&(this.base=i<=1?1:i-1),s&&(this.base=i>=this.catalog.total_pages-7?this.catalog.total_pages-8:s),this.catalog.gotoPage(i),this.moveToTop()}renderPagination(){if(1==this.catalog.total_pages||this.catalog.error)return T`<span></span>`;const e=[];if(this.catalog.total_pages<=9){let t=this.catalog.total_pages;for(;t>0;)e.unshift({text:t,page:t}),t--}else{const t=this.catalog.total_pages||9,i=this.base==this.catalog.total_pages-8;e[0]={text:1==this.base?1:"...",page:1==this.base?1:this.base-2,begin:!0},e[1]={text:this.base+1,page:this.base+1},e[2]={text:this.base+2,page:this.base+2},e[3]={text:this.base+3,page:this.base+3,step:this.base+2},e[4]={text:i?this.base+4:"...",page:this.base+4,step:this.base+3},e[5]={text:t-3,page:t-3,base:null},e[6]={text:t-2,page:t-2,base:null},e[7]={text:t-1,page:t-1,base:null},e[8]={text:t,page:t}}return T`<ol class="pagination">${e.map((e=>T`<li class="light-button ${ue({active:this.catalog.current_page==e.page})}" data-page="${e.page}" data-step="${(e=>null!=e?e:N)(e.step)}" ?data-begin="${e.begin}" @click="${this.handlePagination}">${e.text}</li>`))}</ol>`}};Ze([de()],Ee.prototype,"empty",void 0),Ze([de()],Ee.prototype,"errorMessage",void 0),Ze([de()],Ee.prototype,"base",void 0),Ze([le({type:String})],Ee.prototype,"heading",void 0),Ze([le({type:Boolean})],Ee.prototype,"slider",void 0),Ze([le({type:Boolean})],Ee.prototype,"motion",void 0),Ze([le({type:Boolean})],Ee.prototype,"searchable",void 0),Ze([le({type:Boolean})],Ee.prototype,"sortable",void 0),Ze([le({type:Boolean})],Ee.prototype,"auto",void 0),Ze([le({type:Number})],Ee.prototype,"paginate",void 0),Ze([le({type:Boolean})],Ee.prototype,"internal",void 0),Ze([le({type:String})],Ee.prototype,"page",void 0),Ze([le({type:Boolean})],Ee.prototype,"show_dealer",void 0),Ze([ce("main.grid")],Ee.prototype,"_grid",void 0),Ze([ce("carify-vehicle-filter")],Ee.prototype,"_filter",void 0),Ee=Ze([ne("carify-vehicle-grid")],Ee);var De=Ee,Be=o`:host{min-width:90px;font-family:var(--grid-font,inherit);font-size:var(--grid-font-base,16px)}button[disabled]{cursor:not-allowed;background:#f5f5f5;border:1px dotted #ccc;color:#bebebe}button{font-family:inherit;font-size:.833333em;width:100%;cursor:pointer;padding:8px 6px;border-radius:5px;position:relative;border:1px solid #acacac;color:var(--drop-down-color,#222);background:var(--drop-down-bg,#fff)}p{margin:0;padding:0;display:flex;align-items:center;justify-content:space-around}p span.display{flex:1}button.expand ul{transform:scale(1);opacity:1}p svg{width:18px}ul{position:absolute;list-style:none;overflow:hidden;cursor:default;text-align:center;margin:0;padding:0;width:calc(100% + 2px);transform:scale(0);opacity:0;top:-1px;left:-1px;border-radius:5px;background:#fff;z-index:99999;transition:all .15s ease-in-out;transform-origin:top center;box-shadow:rgba(50,50,93,.25) 0 2px 5px -1px,rgba(0,0,0,.3) 0 1px 3px -1px}ul li{cursor:pointer;color:#000;padding:10px 6px;transition:all .45s ease}ul li:hover{background:#efefef}ul li[data-disabled]{cursor:default;color:var(--drop-down-active-color,#222);background:var(--drop-down-active-bg,#efefef)}`,qe=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let Ie=class extends(me(re)){constructor(){super(...arguments),this.expanded=!1,this.disabled=!1,this.name="generic",this.options=[]}static get styles(){return[super.styles||[],ge.host,ye.busyIndicator,Be]}connectedCallback(){if(super.connectedCallback(),window.addEventListener("click",this.hideDropDowns.bind(this)),window.addEventListener("dropdown:close",this.hideDropDowns.bind(this)),this.default){const e=this.options.find((e=>e.value==this.default));e&&(this.activeValue=e.value,this.displayValue=T`${e.text}`)}else this.options.length>0&&(this.activeValue=this.options[0].value,this.displayValue=T`${this.options[0].text}`)}disconnectedCallback(){window.removeEventListener("click",this.hideDropDowns.bind(this)),window.removeEventListener("dropdown:close",this.hideDropDowns.bind(this)),super.disconnectedCallback()}showDropDown(e){e.stopPropagation(),this.dispatchEvent(new CustomEvent("dropdown:close",{bubbles:!0,composed:!0})),this.expanded=!0}hideDropDowns(){this.expanded=!1}selectValue(e){e.stopPropagation();const t=e.target.closest("li");t.hasAttribute("data-disabled")||(this.activeValue=t.dataset.value,this.displayValue=T`${this.options.find((e=>e.value==this.activeValue)).text}`,this.dispatchEvent(new CustomEvent("dropdown:value",{bubbles:!0,composed:!0,detail:{name:this.name,value:this.activeValue}}))),this.expanded=!1}render(){return T`<button ?disabled="${this.disabled}" class="${ue({expand:this.expanded})}" @click="${this.showDropDown}"><p><span class="display">${this.displayValue}</span>${Me.chevron_down}</p><ul>${this.options.map((e=>T`<li ?data-disabled="${this.activeValue===e.value}" data-value="${e.value}" @click="${this.selectValue}">${e.text}</li>`))}</ul></button>`}};qe([de()],Ie.prototype,"expanded",void 0),qe([de()],Ie.prototype,"activeValue",void 0),qe([de()],Ie.prototype,"displayValue",void 0),qe([le({type:Boolean})],Ie.prototype,"disabled",void 0),qe([le({type:String})],Ie.prototype,"name",void 0),qe([le({type:String})],Ie.prototype,"default",void 0),qe([le({type:Array})],Ie.prototype,"options",void 0),Ie=qe([ne("carify-drop-down")],Ie);var Ue=Ie,Ye=o`:host{box-sizing:border-box;font-family:var(--info-font,inherit);font-size:var(--info-font-base,16px)}main{overflow:hidden;box-shadow:rgba(60,64,67,.3) 0 1px 2px 0,rgba(60,64,67,.15) 0 1px 3px 1px;min-height:1200px}div.details{position:relative;display:flex;flex-direction:column-reverse}section.photos{position:relative}section.photos div.photo-ind{cursor:pointer;position:absolute;right:10px;bottom:10px;background-color:rgba(0,0,0,.5);color:#fff;display:flex;justify-content:center;align-items:center;font-size:.75em;padding:.45em;border-radius:4px}section.photos div.photo-ind span:not('.init-photo'){margin-left:5px}span.init-photo::before{margin-left:4px;content:'1'}section:not(.photos){padding:1.25em 1.25em 0 1.25em}section.provider img{max-width:120px;font-size:11px}div.loading-top{min-height:300px}div.loading-details{position:absolute;display:grid;place-items:center;width:100%;height:100%;background-color:#fff;inset:0}div.loading-details.hide{display:none}h1{margin:0;padding:.625em;border-bottom:1px solid #efefef}h2{margin:0 0 .75em 0}h3{font-size:.9em}p.addr{font-size:.8em}section.provider img{display:block;margin-bottom:1em}section.provider a{display:block;color:#222;font-size:.8em;margin-bottom:1em}ul{margin:0;padding:0;list-style:none}ul.equip li{font-size:.85em}ul.specs li{padding:.65em 0;border-bottom:1px solid #efefef;font-size:.8em;display:flex;align-items:center;justify-content:space-between}ul li span.value{font-weight:700;padding:0 4px}ul li span.key{display:flex;padding:0 4px}ul li span.key svg{margin-right:5px;height:16px;fill:#61656a}dt{margin-top:1em;font-weight:700;display:flex;align-items:center}dd{margin:1em 0;font-size:.75em}dd.tip{display:none}dd.tip.show{display:block}span.icon{display:grid;place-items:center;margin-right:5px}span.icon svg{fill:var(--info-accent-color,teal);height:1em}span.more-info{margin-left:5px;display:flex;cursor:pointer}div.total{display:flex;flex-direction:column}div.total a{text-decoration:none;min-width:150px;text-align:center;color:#fff;background-color:var(--info-accent-color,teal);padding:10px 15px;border-radius:4px;font-size:1em;border:none;cursor:pointer}p.price span.c{display:inline-block;font-size:2.2em;font-weight:700;color:var(--info-accent-color,teal)}p.price span.c.updated{animation:bounceIn .85s}@keyframes bounceIn{20%,40%,60%,80%,from,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:scale3d(.3,.3,.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(.9,.9,.9)}60%{opacity:1;transform:scale3d(1.03,1.03,1.03)}80%{transform:scale3d(.97,.97,.97)}to{opacity:1;transform:scale3d(1,1,1)}}div.photo-container{cursor:pointer;position:relative;height:300px;display:grid;gap:3px;grid-template-columns:100%;grid-template-rows:100%;grid-template-areas:'main'}div.photo-container div{overflow:hidden}img.img-fit{object-fit:cover;width:100%;height:100%}div.main{grid-area:main;height:100%}div.side{grid-area:side}div.corner{grid-area:corner}@media only screen and (min-width:600px){div.total{flex-direction:row;align-items:center;justify-content:space-between}ul{display:grid;column-gap:1em;grid-template-columns:repeat(2,1fr);justify-content:start}}@media only screen and (min-width:768px){div.photo-container{height:400px;grid-template-columns:58% auto;grid-template-rows:50% 50%;grid-template-areas:'main side' 'main corner'}span.init-photo::before{margin-left:4px;content:'3'}div.details{flex-direction:row}div.details>div:first-child{flex:0 1 50%}div.details>div:nth-child(2){flex:0 1 50%}ul.split li{font-size:14px;padding:2px 0}}@media (orientation:landscape){div.photo-container{max-height:75vh}}@media only screen and (min-width:1234px){div.photo-container{padding:0;grid-template-columns:62% auto}main{border-radius:8px}}`,Ke=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let We=class extends(me(re)){constructor(){super(...arguments),this.vehicle=new Ae(this),this.kmOptions=[],this.monthsOptions=[],this.kmDefault=1e3,this.termDefault=6,this.price=999,this.termTip=!0,this.kmTip=!1,this.handoverTip=!1,this.init=!0}static get styles(){return[super.styles||[],ge.host,ge.ellipsis,ye.busyIndicator,Ye]}get minDate(){const e=new Date;return e.setDate(e.getDate()+9),e.toISOString().split("T")[0]}get maxDate(){const e=new Date;return e.setDate(e.getDate()+28),e.toISOString().split("T")[0]}connectedCallback(){super.connectedCallback(),this.addEventListener("dropdown:value",this.handleDropdownUpdate.bind(this))}disconnectedCallback(){this.removeEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),super.disconnectedCallback()}firstUpdated(){if(!this.uuid){const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());this.uuid=t.uuid}}willUpdate(e){e.has("uuid")&&(this.init=!0,this.vehicle.retrieve(this.uuid,this.termDefault,this.kmDefault,this.lang)),this.vehicle.fetched&&this.init&&(this.init=!1,this.vehicle.data.packages.forEach((e=>{this.monthsOptions.push({text:`Min. ${e.duration_months} Months`,value:String(e.duration_months)})})),this.updateDropdownOptions(this.termDefault,this.kmDefault))}updateDropdownOptions(e=6,t=1750){this.selectedPackage=this.data.packages.find((t=>t.duration_months==e));const i=this.selectedPackage.km_options.map((e=>({text:`${e.km}KM`,value:String(e.km)})));this.kmOptions=i.sort(((e,t)=>e.value>t.value?1:-1)),this.termDefault=e,this.kmDefault=t;let s=this.selectedPackage.km_options.find((e=>e.km==this.kmDefault));s||(s=this.selectedPackage.km_options[0],this.kmDefault=s.km),this.price=Number(s.monthly_total),this._cost&&(this._cost.classList.add("updated"),setTimeout((()=>{this._cost.classList.remove("updated")}),1e3))}specs(e=!1){const t=[{icon:Me.brand,key:this.i("specs.brand"),value:this.data.brand,test:"brand"},{icon:Me.calendar,key:this.i("specs.date"),value:this.data.year,test:"year"},{icon:Me.gear,key:this.i("specs.model"),value:this.data.model,test:"model"},{icon:Me.gear,key:this.i("specs.engine"),value:this.data.engine,test:"engine"},{icon:Me.odometer,key:this.i("specs.odometer"),value:this.data.odometer,test:"odometer"},{icon:Me.cloud,key:this.i("specs.co2"),value:this.data.co2em,test:"co2em"},{icon:Me.transmission,key:this.i("specs.transmission"),value:this.data.gear,test:"gear"},{icon:Me.horse_power,key:this.i("specs.power"),value:this.data.power,test:"power"},{icon:Me.fuel_type,key:this.i("specs.fuel_type"),value:this.data.fuel,test:"fuel"},{icon:Me.seats,key:this.i("specs.seats"),value:this.data.seats,test:"seats"},{icon:Me.car_type,key:this.i("specs.car_type"),value:this.data.type,test:"type"}];return e?t.filter((e=>e.value)):t}inclusive(){const e=[{icon:Me.shield,title:this.i("inclusive.tax"),explain:this.i("inclusive.tax_explain")},{icon:Me.settings,title:this.i("inclusive.service"),explain:this.i("inclusive.service_explain")},{icon:Me.wheel,title:this.i("inclusive.tyres"),explain:this.i("inclusive.tyres_explain")},{icon:Me.replacement,title:this.i("inclusive.insurance"),explain:this.i("inclusive.insurance_explain")}];return[3,5,10].includes(this.data.fuel_id)&&e.push({icon:Me.fuel_type,title:this.i("inclusive.evpass"),explain:this.i("inclusive.evpass_explain")}),e}handleDropdownUpdate(e){"months"==e.detail.name&&this.updateDropdownOptions(e.detail.value,this.kmDefault),"km"==e.detail.name&&this.updateDropdownOptions(this.selectedPackage.duration_months,e.detail.value)}showModal(e){const t=e.currentTarget;this._gallery.showGallery(Number(t.dataset.index))}get data(){return this.vehicle.data}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}generateLink(e=!1){var t;let i;if(this.data.slug&&this.data.uuid)i=`/${this.lang}/view/${this.data.slug}/${this.data.uuid}`;else if(this.data.name&&this.data.uuid){const e=this.data.name.toLowerCase().replace(" ","-").replace(".","");i=`/${this.lang}/view/${e}/${this.data.uuid}`}else i="#";const s=e?i:`${window.CARIFY.site}${i}`,r=null!==(t=window.CARIFY.group)&&void 0!==t?t:null;let o=`${s}?duration=${this.termDefault}&distance=${this.kmDefault}`;return this.delivery&&(o=`${o}&delivery=${this.delivery}`),{target:"_blank",href:r?`${o}&group=${r}`:o}}handleDateSelect(e){const t=e.target.value,i=new Date(t);if([6,0].includes(i.getDay()))return e.preventDefault(),void(e.target.value="");this.delivery=t}render(){return T`<main>${this.renderPhotos()}<h1 data-test="name-val">${this.vehicle.data.name}</h1><div class="details"><div>${this.renderSpecs()} ${this.renderEquipment()} ${this.renderProvider()}</div><div>${this.renderSubscription()} ${this.renderInclusive()} ${this.renderPromo()}</div><div class="${ue({"loading-details":!0,hide:this.vehicle.fetched})}"><span class="busy"></span></div></div></main>`}renderPhotos(){return this.vehicle.fetched?T`<section class="photos"><carify-vehicle-gallery .photos="${this.vehicle.data.images}"></carify-vehicle-gallery><div class="photo-container"><div class="main" data-test @click="${this.showModal}" data-index="1"><img class="img-fit" data-test="main-img" src="${this.data.photo}" alt="${this.vehicle.data.name}"></div><div class="side" @click="${this.showModal}" data-index="2"><img class="img-fit" data-test="side-img" src="${this.data.images[1]}" alt="${this.vehicle.data.name}"></div><div class="corner" @click="${this.showModal}" data-index="3"><img class="img-fit" data-test="corner-img" src="${this.data.images[2]}" alt="${this.vehicle.data.name}"></div></div><div @click="${this.showModal}" data-index="1" class="photo-ind">${Me.photos} <span><span class="init-photo"></span>/${this.data.images.length}</span></div></section>`:T`<div class="loading-top"></div>`}renderSpecs(){return T`<section class="specs"><h2>${this.i("specs.title")}</h2><ul class="specs">${this.specs(!1).map((e=>T`<li><span class="key ellipsis">${e.icon}${e.key}</span> <span class="value ellipsis" data-test="spec-${e.test}">${e.value}</span></li>`))}</ul></section>`}renderEquipment(){return T`<section class="equipment"><h2>${this.i("equipment.title")}</h2><ul class="split equip" data-test="equipment">${this.data.equipment.map((e=>T`<li class="ellipsis" title="${this.capitalizeFirstLetter(e)}">${this.capitalizeFirstLetter(e)}</li>`))}</ul></section>`}renderProvider(){return T`<section class="provider"><h2>${this.i("provider.title")}</h2><h3 data-test="dealer-name">${this.data.dealer.name}</h3><p class="addr" data-test="dealer-addr">${this.data.dealer.street}, ${this.data.dealer.zip} ${this.data.dealer.city}</p><img data-test="dealer-img" src="${this.data.dealer.image||""}" alt="${this.data.dealer.name}"> ${this.data.dealer.website?T`<a target="_blank" href="${this.data.dealer.website}">${this.data.dealer.website}</a>`:T``}</section>`}renderInclusive(){return T`<section class="inclusive"><h2>${this.i("inclusive.title")}</h2><dl>${this.inclusive().map((e=>T`<dt><span class="icon">${e.icon}</span>${e.title}</dt><dd>${e.explain}</dd>`))}</dl></section>`}renderSubscription(){if(!this.vehicle.fetched)return"";const{href:e,target:t}=this.generateLink();return T`<section class="subscription"><h2>${this.i("subscription.title")}</h2><dt>${this.i("subscription.min_term")} <span class="icon more-info" @click="${()=>this.termTip=!this.termTip}">${Me.question}</span></dt><dd class="tip ${ue({show:this.termTip})}">${this.i("subscription.min_term_explain")}</dd><div style="max-width:200px;margin-top:.75em"><carify-drop-down name="months" default="${this.termDefault}" .options="${this.monthsOptions}"></carify-drop-down></div><dt>${this.i("subscription.km_options")} <span class="icon more-info" @click="${()=>this.kmTip=!this.kmTip}">${Me.question}</span></dt><dd class="tip ${ue({show:this.kmTip})}">${this.i("subscription.km_options_explain")}</dd><div style="max-width:200px;margin-top:.75em"><carify-drop-down name="km" default="${this.kmDefault}" .options="${this.kmOptions}"></carify-drop-down></div><dt>${this.i("subscription.handover_date")} <span class="icon more-info" @click="${()=>this.handoverTip=!this.handoverTip}">${Me.question}</span></dt><dd class="tip ${ue({show:this.handoverTip})}">${this.i("subscription.handover_date_explain")}</dd><input type="date" value="${this.minDate}" min="${this.minDate}" max="${this.maxDate}" .value="${this.delivery}" @input="${this.handleDateSelect}" style="padding:.5em 1em;border-radius:4px;border:1px solid #acacac;min-width:200px;margin-top:.75em"><div class="total"><p class="price"><span class="c">CHF ${this.price}</span>/${this.i("month",1)}</p><a target="${t}" href="${e}">${this.i("book.now")}</a></div></section>`}renderPromo(){return T``}};Ke([le({type:String})],We.prototype,"uuid",void 0),Ke([de()],We.prototype,"kmOptions",void 0),Ke([de()],We.prototype,"monthsOptions",void 0),Ke([de()],We.prototype,"kmDefault",void 0),Ke([de()],We.prototype,"termDefault",void 0),Ke([de()],We.prototype,"delivery",void 0),Ke([de()],We.prototype,"currentKm",void 0),Ke([de()],We.prototype,"price",void 0),Ke([de()],We.prototype,"selectedPackage",void 0),Ke([de()],We.prototype,"termTip",void 0),Ke([de()],We.prototype,"kmTip",void 0),Ke([de()],We.prototype,"handoverTip",void 0),Ke([ce("carify-vehicle-gallery")],We.prototype,"_gallery",void 0),Ke([ce("p.price span.c")],We.prototype,"_cost",void 0),We=Ke([ne("carify-vehicle-info")],We);var Je=We,Ge=o`:host{display:block;--heading-color:#1d1c20;--drop-down-bg:#fff;--drop-down-color:#222;--drop-down-active:#efefef;--indicators-color:#fff;font-size:16px!important}:host *{box-sizing:border-box;font-family:sans-serif}.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:none;transition:opacity .3s ease}.modal-mask.show{display:table}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{position:relative;width:100vw;max-width:1400px;aspect-ratio:16/10;margin:0 auto;padding:0;background-color:#fff;background-color:rgba(0,0,0,.85);box-shadow:0 2px 8px rgba(0,0,0,.33);overflow:hidden}.grabbing{cursor:grabbing!important}.grabbing .slide img{transform:scale(.99)}button{position:absolute;top:50%;padding:.75em;margin-top:-25px;border:none;background:0 0;color:#fff;display:grid;place-items:center;cursor:pointer;border-radius:4px;background-color:rgba(0,0,0,.05);transition:background-color .3s ease-in}button svg{width:20px;color:var(--indicators-color,#fff)}button:hover{background-color:rgba(0,0,0,.35)}button.left{left:10px}button.right{right:10px}div.count{position:absolute;top:1em;right:1em;color:#fff;padding:.5em .75em;border-radius:4px;background-color:rgba(0,0,0,.1)}div.dots{position:absolute;display:flex;justify-content:center;align-items:center;bottom:0;width:100%;padding:1em 0}span.dot{display:inline-block;width:10px;height:10px;border-radius:50%;border:1px solid #fff;margin:0 4px;transition:background-color .5s ease-in}span.dot.current{background-color:var(--indicators-color,#fff)}div.slide-container{width:100%;height:100%;display:flex;transform:translateX(0);transition:transform .3s ease-out;cursor:grab}div.slide{min-height:100%;min-width:100%;flex-basis:100%}div.slide img{max-width:100%;max-height:100%;width:100%;height:100%;object-fit:contain;object-fit:cover}@media only screen and (min-width:768px) and (orientation:landscape){.modal-container{aspect-ratio:unset;height:90vh}div.slide img{object-fit:cover}}@media only screen and (min-width:1024px) and (orientation:landscape){.modal-container{aspect-ratio:16/10;height:auto}}@media screen and (orientation:landscape) and (pointer:coarse){.modal-container{aspect-ratio:unset;height:100vh;max-height:80vh}div.slide img{object-fit:contain}}@media (pointer:fine){div.slide img{object-fit:cover!important}}`,Xe=function(e,t,i,s){var r,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n};let Qe=class extends(me(re)){constructor(){super(...arguments),this.show=!1,this.dots=!0,this.count=!0,this.photos=[],this.currentIndex=0,this.isDragging=!1,this.startPos=0,this.currentTranslate=0,this.prevTranslate=0,this.animationID=0,this.slideThreshold=100}static get styles(){return[super.styles||[],ge.host,ye.busyIndicator,Ge]}connectedCallback(){super.connectedCallback(),addEventListener("keydown",this.handleKeydown.bind(this)),window.addEventListener("orientationchange",this.handleOrientationChange.bind(this),!1)}disconnectedCallback(){removeEventListener("keydown",this.handleKeydown.bind(this)),window.removeEventListener("orientationchange",this.handleOrientationChange.bind(this),!1),super.disconnectedCallback()}handleOrientationChange(){this.reset()}handleKeydown(e){const t=new Map;t.set("ArrowLeft",(()=>{this.prevSlide()})),t.set("ArrowRight",(()=>{this.nextSlide()})),t.set("Escape",(()=>{this.show=!1,this.reset()})),t.has(e.key)&&t.get(e.key)()}handleIntersect(e,t){const i=e[0];if(!i.isIntersecting)return;t.disconnect();const s=i.target.querySelector("img");s.src=String(s.dataset.src)}firstUpdated(){this._slides.forEach(((e,t)=>{if(t>2){new IntersectionObserver(this.handleIntersect,{root:this._wrapper,threshold:0,rootMargin:"0px 0px 0px 0px"}).observe(e)}e.querySelector("img").addEventListener("dragstart",(e=>{e.preventDefault()})),e.addEventListener("touchstart",this.touchStart(t).bind(this)),e.addEventListener("touchend",this.touchEnd.bind(this)),e.addEventListener("touchmove",this.touchMove.bind(this)),e.addEventListener("mousedown",this.touchStart(t).bind(this)),e.addEventListener("mouseup",this.touchEnd.bind(this)),e.addEventListener("mouseleave",this.touchEnd.bind(this)),e.addEventListener("mousemove",this.touchMove.bind(this))}))}touchStart(e){return t=>{this.currentIndex=e,this.startPos=this.getPositionX(t),this.animationID=requestAnimationFrame(this.animation.bind(this)),this._slider.classList.add("grabbing"),this.isDragging=!0}}async showGallery(e=1){this.show=!0,await this.updateComplete,this.gotoSlide(e)}hideGallery(e){e.target.classList.contains("modal-wrapper")&&(this.show=!1,this.reset())}onLast(){return this.currentIndex==this.photos.length-1}onFirst(){return 0==this.currentIndex}gotoSlide(e=1){this.currentIndex=e-1,this.setPositionByIndex()}nextSlide(){this.onLast()||(this.currentIndex++,this.setPositionByIndex())}prevSlide(){this.onFirst()||(this.currentIndex--,this.setPositionByIndex())}reset(){this.startPos=0,this.currentTranslate=0,this.prevTranslate=0,this.animationID=0,this.currentIndex=0,this.setSliderPosition()}animation(){this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation.bind(this))}setSliderPosition(){this._slider.style.transform=`translateX(${this.currentTranslate}px)`}getPositionX(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}touchEnd(){this.isDragging=!1,cancelAnimationFrame(this.animationID);const e=this.currentTranslate-this.prevTranslate;e<-this.slideThreshold&&this.currentIndex<this.photos.length-1&&(this.currentIndex+=1),e>this.slideThreshold&&this.currentIndex>0&&(this.currentIndex-=1),this.setPositionByIndex(),this._slider.classList.remove("grabbing")}setPositionByIndex(){this.currentTranslate=this.currentIndex*-this._slider.getBoundingClientRect().width,this.prevTranslate=this.currentTranslate,this.setSliderPosition()}touchMove(e){if(this.isDragging){const t=this.getPositionX(e);this.currentTranslate=this.prevTranslate+t-this.startPos}}render(){return T`<div class="${ue({show:this.show,"modal-mask":!0})}" @click="${this.hideGallery}"><div class="modal-wrapper"><div class="modal-container"><div class="slide-container">${this.photos.map(((e,t)=>T`<div class="slide"><img src="${t<3?e:""}" data-src="${e}"></div>`))}</div><button class="left" @click="${this.prevSlide}" ?disabled="${this.onFirst()}">${Me.chevron_left}</button> <button class="right" @click="${this.nextSlide}" ?disabled="${this.onLast()}">${Me.chevron_right}</button> ${this.count?T`<div class="count">${this.currentIndex+1}/${this.photos.length}</div>`:T``} ${this.dots&&this.photos.length<35?T`<div class="dots">${this.photos.map(((e,t)=>T`<span class="${ue({current:t==this.currentIndex,dot:!0})}"></span>`))}</div>`:T``}</div></div></div>`}};Xe([le({type:Boolean})],Qe.prototype,"show",void 0),Xe([le({type:Boolean})],Qe.prototype,"dots",void 0),Xe([le({type:Boolean})],Qe.prototype,"count",void 0),Xe([le({type:Array})],Qe.prototype,"photos",void 0),Xe([ce("div.modal-container")],Qe.prototype,"_wrapper",void 0),Xe([ce("div.slide-container")],Qe.prototype,"_slider",void 0),Xe([function(e){return he({descriptor:t=>({get(){var t;return null===(t=this.renderRoot)||void 0===t?void 0:t.querySelectorAll(e)},enumerable:!0,configurable:!0})})}("div.slide")],Qe.prototype,"_slides",void 0),Xe([de()],Qe.prototype,"currentIndex",void 0),Qe=Xe([ne("carify-vehicle-gallery")],Qe);var et,tt,it,st,rt,ot=Qe;let nt;nt=document.currentScript?new URL(document.currentScript.src):new URL(document.currentScript&&document.currentScript.src||new URL("carify.min.js",document.baseURI).href);const at=Object.fromEntries(nt.searchParams);window.CARIFY={base:null!==(et=at.base)&&void 0!==et?et:"https://www.carify.com",site:null!==(tt=at.site)&&void 0!==tt?tt:"https://www.carify.com",domain:null!==(it=at.domain)&&void 0!==it?it:"www.carify.com",dealer:null!==(st=at.dealer)&&void 0!==st?st:null,group:null!==(rt=at.group)&&void 0!==rt?rt:null,version:"3.0.0-beta.1",addExternalDependencies:()=>{const e=document.head,t=document.createElement("link");t.rel="preconnect",t.href="https://fonts.googleapis.com",e.appendChild(t);const i=document.createElement("link");i.rel="preconnect",i.crossOrigin="true",i.href="https://fonts.gstatic.com",e.appendChild(i);const s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap",e.appendChild(s)}},document.addEventListener("touchstart",(function(){}),!0),window.CARIFY.addExternalDependencies(),e.CarifyGreeting=Ce,e.DropDown=Ue,e.ImageSlider=_e,e.VehicleCard=Ve,e.VehicleFilter=Re,e.VehicleGallery=ot,e.VehicleGrid=De,e.VehicleInfo=Je,Object.defineProperty(e,"u",{value:!0})}({});
