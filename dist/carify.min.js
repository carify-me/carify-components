!function(t){
/**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const e=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),s=new Map;class r{constructor(t,e){if(this._$cssResult$=!0,e!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=s.get(this.cssText);return e&&void 0===t&&(s.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const o=(t,...e)=>{const s=1===t.length?t[0]:e.reduce(((e,i,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new r(s,i)},a=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new r("string"==typeof t?t:t+"",i))(e)})(t):t
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;var n,l,h,d;const c={toAttribute(t,e){switch(e){case Boolean:t=t?"":null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},p=(t,e)=>e!==t&&(e==e||t==t),u={attribute:!0,type:String,converter:c,reflect:!1,hasChanged:p};class f extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const s=this._$Eh(i,e);void 0!==s&&(this._$Eu.set(s,i),t.push(s))})),t}static createProperty(t,e=u){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,s=this.getPropertyDescriptor(t,i,e);void 0!==s&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(s){const r=this[t];this[e]=s,this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||u}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Eh(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ev=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Ep(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$Em)&&void 0!==e?e:this._$Em=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$Em)||void 0===e||e.splice(this._$Em.indexOf(t)>>>0,1)}_$Ep(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const i=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,i)=>{e?t.adoptedStyleSheets=i.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):i.forEach((e=>{const i=document.createElement("style");i.textContent=e.cssText,t.appendChild(i)}))})(i,this.constructor.elementStyles),i}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$Eg(t,e,i=u){var s,r;const o=this.constructor._$Eh(t,i);if(void 0!==o&&!0===i.reflect){const a=(null!==(r=null===(s=i.converter)||void 0===s?void 0:s.toAttribute)&&void 0!==r?r:c.toAttribute)(e,i.type);this._$Ei=t,null==a?this.removeAttribute(o):this.setAttribute(o,a),this._$Ei=null}}_$AK(t,e){var i,s,r;const o=this.constructor,a=o._$Eu.get(t);if(void 0!==a&&this._$Ei!==a){const t=o.getPropertyOptions(a),n=t.converter,l=null!==(r=null!==(s=null===(i=n)||void 0===i?void 0:i.fromAttribute)&&void 0!==s?s:"function"==typeof n?n:null)&&void 0!==r?r:c.fromAttribute;this._$Ei=a,this[a]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,i){let s=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||p)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Ei!==t&&(void 0===this._$ES&&(this._$ES=new Map),this._$ES.set(t,i))):s=!1),!this.isUpdatePending&&s&&(this._$Ev=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ev}catch(t){Promise.reject(t)}const t=this.performUpdate();return null!=t&&await t,!this.isUpdatePending}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$Em)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$E_()}catch(t){throw e=!1,this._$E_(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Em)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$E_(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ev}shouldUpdate(t){return!0}update(t){void 0!==this._$ES&&(this._$ES.forEach(((t,e)=>this._$Eg(e,this[e],t))),this._$ES=void 0),this._$E_()}updated(t){}firstUpdated(t){}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var v,g,m,b;f.finalized=!0,f.elementProperties=new Map,f.elementStyles=[],f.shadowRootOptions={mode:"open"},null===(l=(n=globalThis).reactiveElementPlatformSupport)||void 0===l||l.call(n,{ReactiveElement:f}),(null!==(h=(d=globalThis).reactiveElementVersions)&&void 0!==h?h:d.reactiveElementVersions=[]).push("1.0.0-rc.3");const w=globalThis.trustedTypes,y=w?w.createPolicy("lit-html",{createHTML:t=>t}):void 0,x=`lit$${(Math.random()+"").slice(9)}$`,$="?"+x,k=`<${$}>`,A=document,_=(t="")=>A.createComment(t),C=t=>null===t||"object"!=typeof t&&"function"!=typeof t,j=Array.isArray,S=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,z=/-->/g,M=/>/g,P=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,N=/'/g,R=/"/g,O=/^(?:script|style|textarea)$/i,F=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),E=F(1),T=F(2),D=Symbol.for("lit-noChange"),U=Symbol.for("lit-nothing"),B=new WeakMap,L=A.createTreeWalker(A,129,null,!1),I=(t,e)=>{const i=t.length-1,s=[];let r,o=2===e?"<svg>":"",a=S;for(let e=0;e<i;e++){const i=t[e];let n,l,h=-1,d=0;for(;d<i.length&&(a.lastIndex=d,l=a.exec(i),null!==l);)d=a.lastIndex,a===S?"!--"===l[1]?a=z:void 0!==l[1]?a=M:void 0!==l[2]?(O.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=P):void 0!==l[3]&&(a=P):a===P?">"===l[0]?(a=null!=r?r:S,h=-1):void 0===l[1]?h=-2:(h=a.lastIndex-l[2].length,n=l[1],a=void 0===l[3]?P:'"'===l[3]?R:N):a===R||a===N?a=P:a===z||a===M?a=S:(a=P,r=void 0);const c=a===P&&t[e+1].startsWith("/>")?" ":"";o+=a===S?i+k:h>=0?(s.push(n),i.slice(0,h)+"$lit$"+i.slice(h)+x+c):i+x+(-2===h?(s.push(void 0),e):c)}const n=o+(t[i]||"<?>")+(2===e?"</svg>":"");return[void 0!==y?y.createHTML(n):n,s]};class Y{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let r=0,o=0;const a=t.length-1,n=this.parts,[l,h]=I(t,e);if(this.el=Y.createElement(l,i),L.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(s=L.nextNode())&&n.length<a;){if(1===s.nodeType){if(s.hasAttributes()){const t=[];for(const e of s.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(x)){const i=h[o++];if(t.push(e),void 0!==i){const t=s.getAttribute(i.toLowerCase()+"$lit$").split(x),e=/([.?@])?(.*)/.exec(i);n.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?J:"?"===e[1]?W:"@"===e[1]?G:K})}else n.push({type:6,index:r})}for(const e of t)s.removeAttribute(e)}if(O.test(s.tagName)){const t=s.textContent.split(x),e=t.length-1;if(e>0){s.textContent=w?w.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],_()),L.nextNode(),n.push({type:2,index:++r});s.append(t[e],_())}}}else if(8===s.nodeType)if(s.data===$)n.push({type:2,index:r});else{let t=-1;for(;-1!==(t=s.data.indexOf(x,t+1));)n.push({type:7,index:r}),t+=x.length-1}r++}}static createElement(t,e){const i=A.createElement("template");return i.innerHTML=t,i}}function H(t,e,i=t,s){var r,o,a,n;if(e===D)return e;let l=void 0!==s?null===(r=i._$Cl)||void 0===r?void 0:r[s]:i._$Cu;const h=C(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==h&&(null===(o=null==l?void 0:l._$AO)||void 0===o||o.call(l,!1),void 0===h?l=void 0:(l=new h(t),l._$AT(t,i,s)),void 0!==s?(null!==(a=(n=i)._$Cl)&&void 0!==a?a:n._$Cl=[])[s]=l:i._$Cu=l),void 0!==l&&(e=H(t,l._$AS(t,e.values),l,s)),e}class V{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:s}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:A).importNode(i,!0);L.currentNode=r;let o=L.nextNode(),a=0,n=0,l=s[0];for(;void 0!==l;){if(a===l.index){let e;2===l.type?e=new q(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new X(o,this,t)),this.v.push(e),l=s[++n]}a!==(null==l?void 0:l.index)&&(o=L.nextNode(),a++)}return r}m(t){let e=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class q{constructor(t,e,i,s){this.type=2,this._$C_=!0,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}get parentNode(){return this._$AA.parentNode}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=H(this,t,e),C(t)?t===U||null==t||""===t?(this._$AH!==U&&this._$AR(),this._$AH=U):t!==this._$AH&&t!==D&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.A(t):(t=>{var e;return j(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}C(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}A(t){this._$AH!==t&&(this._$AR(),this._$AH=this.C(t))}$(t){const e=this._$AA.nextSibling;null!==e&&3===e.nodeType&&(null===this._$AB?null===e.nextSibling:e===this._$AB.previousSibling)?e.data=t:this.A(A.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:s}=t,r="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=Y.createElement(s.h,this.options)),s);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.m(i);else{const t=new V(r,this),e=t.p(this.options);t.m(i),this.A(e),this._$AH=t}}_$AC(t){let e=B.get(t.strings);return void 0===e&&B.set(t.strings,e=new Y(t)),e}M(t){j(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const r of t)s===e.length?e.push(i=new q(this.C(_()),this.C(_()),this,this.options)):i=e[s],i._$AI(r),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class K{constructor(t,e,i,s,r){this.type=1,this._$AH=U,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(U),this.strings=i):this._$AH=U}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,s){const r=this.strings;let o=!1;if(void 0===r)t=H(this,t,e,0),o=!C(t)||t!==this._$AH&&t!==D,o&&(this._$AH=t);else{const s=t;let a,n;for(t=r[0],a=0;a<r.length-1;a++)n=H(this,s[i+a],e,a),n===D&&(n=this._$AH[a]),o||(o=!C(n)||n!==this._$AH[a]),n===U?t=U:t!==U&&(t+=(null!=n?n:"")+r[a+1]),this._$AH[a]=n}o&&!s&&this.P(t)}P(t){t===U?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class J extends K{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===U?void 0:t}}class W extends K{constructor(){super(...arguments),this.type=4}P(t){t&&t!==U?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class G extends K{constructor(){super(...arguments),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=H(this,t,e,0))&&void 0!==i?i:U)===D)return;const s=this._$AH,r=t===U&&s!==U||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==U&&(s===U||r);r&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class X{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){H(this,t)}}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
var Q,Z,tt,et,it,st;null===(g=(v=globalThis).litHtmlPlatformSupport)||void 0===g||g.call(v,Y,q),(null!==(m=(b=globalThis).litHtmlVersions)&&void 0!==m?m:b.litHtmlVersions=[]).push("2.0.0-rc.4");class rt extends f{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();super.update(t),this._$Dt=((t,e,i)=>{var s,r;const o=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:e;let a=o._$litPart$;if(void 0===a){const t=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:null;o._$litPart$=a=new q(e.insertBefore(_(),t),t,void 0,null!=i?i:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return D}}rt.finalized=!0,rt._$litElement$=!0,null===(Z=(Q=globalThis).litElementHydrateSupport)||void 0===Z||Z.call(Q,{LitElement:rt}),null===(et=(tt=globalThis).litElementPlatformSupport)||void 0===et||et.call(tt,{LitElement:rt}),(null!==(it=(st=globalThis).litElementVersions)&&void 0!==it?it:st.litElementVersions=[]).push("3.0.0-rc.3");var ot=o`:host{font-size:16px!important}h1{user-select:none;text-align:center;font-size:2em;color:#406082}h1:active{outline:1px solid purple}`
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;const at=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:s}=e;return{kind:i,elements:s,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */,nt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function lt(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):nt(t,e)
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */}function ht(t){return lt({...t,state:!0})}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
function dt(t,e){return(({finisher:t,descriptor:e})=>(i,s)=>{var r;if(void 0===s){const s=null!==(r=i.originalKey)&&void 0!==r?r:i.key,o=null!=e?{kind:"method",placement:"prototype",key:s,descriptor:e(i.key)}:{...i,key:s};return null!=t&&(o.finisher=function(e){t(e,s)}),o}{const r=i.constructor;void 0!==e&&Object.defineProperty(i,s,e(s)),null==t||t(r,s)}})({descriptor:i=>{const s={get(){var e;return null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t)},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():"__"+i;s.get=function(){var i;return void 0===this[e]&&(this[e]=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t)),this[e]}}return s}})}
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */const ct=1;
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const pt=(t=>(...e)=>({_$litDirective$:t,values:e}))(class extends class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){var e;if(super(t),t.type!==ct||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).filter((e=>t[e])).join(" ")}update(t,[e]){if(void 0===this.st){this.st=new Set;for(const t in e)e[t]&&this.st.add(t);return this.render(e)}const i=t.element.classList;this.st.forEach((t=>{t in e||(i.remove(t),this.st.delete(t))}));for(const t in e){const s=!!e[t];s!==this.st.has(t)&&(s?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return D}}),ut={en:{"badge.electric":"Electric","badge.hybrid":"Hybrid","badge.popular":"Popular","badge.recent":"New Offer","badge.special":"Special Deal","filter.advanced":"Advanced Filters","filter.canton":"Canton","filter.dealer":"Dealer","filter.distance":"Kilometers Per Month","filter.drive":"Drive Train","filter.drive.all":"All Wheel Drive","filter.drive.front":"Front Wheel Drive","filter.drive.rear":"Rear Wheel Drive","filter.duration":"Minimum Duration","filter.fuel":"Fuel Type","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Electric","filter.fuel.hybrid":"Hybrid","filter.fuel.other":"Other","filter.fuel.petrol":"Petrol","filter.gear":"Transmission","filter.gear.automatic":"Automatic","filter.gear.manual":"Manual","filter.inline":"Filter","filter.makes":"Makes","filter.models":"Models","filter.more":"More Filters","filter.order":"Order","filter.order.date.new":"Date (New)","filter.order.date.old":"Date (Old)","filter.order.price.high":"Price (High)","filter.order.price.low":"Price (Low)","filter.order.relevance":"Search Relevance","filter.order.top":"Top Picks","filter.power":"Horse Power","filter.promotions":"Promotions","filter.seats":"Number of seats","filter.special":"Special","filter.type":"Vehicle Type","fuel.type":"Fuel Type",month:{one:"Month",other:"Months"},page:"Page","registration.date":"Registration Year","results.empty":"Oops! No vehicles could be found with the given search criteria...",search:"Search","transmission.type":"Transmission","vehicle.missing":"Vehicle Not Found",view:"View"},de:{"badge.electric":"Elektrisch","badge.hybrid":"Hybrid","badge.popular":"Beliebt","badge.recent":"Neues Angebot","badge.special":"Superdeal","filter.advanced":"Erweiterte Filter","filter.canton":"Kanton","filter.dealer":"Händler","filter.distance":"Kilometer pro Monat","filter.drive":"Antrieb","filter.drive.all":"Allradantrieb","filter.drive.front":"Vorderradantrieb","filter.drive.rear":"Hinterradantrieb","filter.duration":"Mindestlaufzeit","filter.fuel":"Treibstoff","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Elektrisch","filter.fuel.hybrid":"Hybrid","filter.fuel.other":"Sonstiges","filter.fuel.petrol":"Benzin","filter.gear":"Getriebe","filter.gear.automatic":"Automatik","filter.gear.manual":"Manuell","filter.inline":"Filter","filter.makes":"Marken","filter.models":"Modelle","filter.more":"Mehr Filter","filter.order":"Ordnen","filter.order.date.new":"Datum (neu)","filter.order.date.old":"Datum (alt)","filter.order.price.high":"Preis (hoch)","filter.order.price.low":"Preis (tief)","filter.order.relevance":"Suchrelevanz","filter.order.top":"Top Auswahl","filter.power":"Leistung","filter.promotions":"Aktionen","filter.seats":"Anzahl Sitze","filter.special":"Spezial","filter.type":"Fahrzeugtyp","fuel.type":"Kraftstofftyp",month:{one:"Monat",other:"Monate"},page:"Seite","registration.date":"Registrierungsjahr","results.empty":"Huch! Es konnten keine Fahrzeuge mit den angegebenen Suchkriterien gefunden werden...",search:"Suchen","transmission.type":"Antrieb","vehicle.missing":"Fahrzeug nicht gefunden",view:"Ansicht"},it:{"badge.electric":"Elettrico","badge.hybrid":"Ibrido","badge.popular":"Popolari","badge.recent":"Nuova offerta","badge.special":"Speciale","filter.advanced":"Filtri avanzati","filter.canton":"Cantoni","filter.dealer":"Auto concessionari","filter.distance":"Chilometri per mese","filter.drive":"Trasmissione","filter.drive.all":"Trazione integrale","filter.drive.front":"Trazione anteriore","filter.drive.rear":"Trazione posteriore","filter.duration":"Durata minima","filter.fuel":"Tipo di carburante","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Elettrico","filter.fuel.hybrid":"Ibrido","filter.fuel.other":"Altro","filter.fuel.petrol":"Benzina","filter.gear":"Trasmissione","filter.gear.automatic":"Automatico","filter.gear.manual":"Manuale","filter.inline":"Filtro","filter.makes":"Produttore","filter.models":"Modelli","filter.more":"Più filtri","filter.order":"Ordina","filter.order.date.new":"Data (Nuovo)","filter.order.date.old":"Data (Vecchio)","filter.order.price.high":"Prezzo (Alto)","filter.order.price.low":"Prezzo (Basso)","filter.order.relevance":"Pertinenza della ricerca","filter.order.top":"Scelte migliori","filter.power":"Potenza cavalli","filter.promotions":"Promozione","filter.seats":"Numero di posti a sedere","filter.special":"Speciale","filter.type":"Tipo di veicolo","fuel.type":"Carburante",month:{one:"Mese",other:"Mesi"},page:"Pagina","registration.date":"Anno di immatricolazione","results.empty":"Ops! Non è stato trovato nessun veicolo con i criteri di ricerca indicati...",search:"Cerca","transmission.type":"Trasmissione","vehicle.missing":"Veicolo non trovato",view:"Visualizza"},fr:{"badge.electric":"Électrique","badge.hybrid":"Hybride","badge.popular":"Populaire","badge.recent":"Nouvelle offre","badge.special":"Spécial","filter.advanced":"Recherche avancée","filter.canton":"Canton","filter.dealer":"Concessionnaire","filter.distance":"Kilomètres par mois","filter.drive":"Groupe motopropulseur","filter.drive.all":"Toutes roues motrices","filter.drive.front":"Roues motrices avant","filter.drive.rear":"Roues motrices arrières","filter.duration":"Durée minimale","filter.fuel":"Type de carburant","filter.fuel.diesel":"Diesel","filter.fuel.electric":"Électrique","filter.fuel.hybrid":"Hybride","filter.fuel.other":"Autre","filter.fuel.petrol":"Essence","filter.gear":"Transmission","filter.gear.automatic":"Automatique","filter.gear.manual":"Manuel","filter.inline":"Filtrer","filter.makes":"Marques","filter.models":"Modèles","filter.more":"Plus de filtres","filter.order":"Autre","filter.order.date.new":"Date (nouvelle)","filter.order.date.old":"Date (ancienne)","filter.order.price.high":"Prix (haut)","filter.order.price.low":"Prix (bas)","filter.order.relevance":"Chercher par pertinence","filter.order.top":"Meilleures offres","filter.power":"Puissance des chevaux","filter.promotions":"Promotion","filter.seats":"Nombre de sièges","filter.special":"Spécial","filter.type":"Type de véhicule","fuel.type":"Type de carburant",month:{one:"Mois",other:"Mois"},page:"Page","registration.date":"Date d'entrée en circulation","results.empty":"Oups ! Aucun véhicule n'a pu être trouvé avec les critères de recherche donnés...",search:"Chercher","transmission.type":"Transmission","vehicle.missing":"Aucun véhicule trouvé",view:"Voir"}};var ft=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};const vt=t=>{class e extends t{constructor(){super(...arguments),this.highlight=!1}connectedCallback(){super.connectedCallback(),this.lang||(this.lang=document.documentElement.lang.trim().toLowerCase()||"en")}get lang(){return this._lang}set lang(t){const i=this._lang,s=t.trim().toLowerCase();e.SUPPORTED_LANGUAGES.includes(s)?this._lang=s:(console.warn(`[CAR!FY]: Unsupported language {${s}} - defaulting {en}.`),this._lang="en"),i!==this._lang&&this.requestUpdate("lang",i)}t(t,e){var i,s,r;const o=ut[this.lang][t],a=`{{${t}}}`;return null==o?a:void 0===e||1!==e&&-1!==e?void 0!==e&&(e<=-2||e>=2||0===e)?null!==(s=o.other)&&void 0!==s?s:a:void 0===e&&"string"!=typeof o?a:null!==(r=o)&&void 0!==r?r:a:null!==(i=o.one)&&void 0!==i?i:a}i(t,e){const i={highlight:this.highlight,translation:!0},s=ut[this.lang][t],r=E`<span class="${pt(i)} translation--missing">${t}</span>`;return null==s?r:void 0===e||1!==e&&-1!==e?void 0!==e&&(e<=-2||e>=2||0===e)?s.other?E`<span data-count="${e}" class="${pt(i)} translation--other">${s.other}</span>`:r:void 0===e&&"string"!=typeof s?r:s?E`<span class="${pt(i)} translation--one">${s}</span>`:r:s.one?E`<span class="${pt(i)} translation--one">${s.one}</span>`:r}}return e.SUPPORTED_LANGUAGES=["en","de","fr","it"],e.styles=o`span.translation{user-select:none}span.highlight.translation{border-radius:2px!important;color:#fff!important}span.highlight.translation.translation--one{background-color:#ff2be3!important}span.highlight.translation.translation--other{background-color:#48b9ff!important}span.highlight.translation.translation--missing{background:#ff2525!important}`,ft([lt({type:Boolean})],e.prototype,"highlight",void 0),ft([lt({type:String,attribute:!0})],e.prototype,"lang",null),e};var gt={host:o`:host{position:relative;box-sizing:border-box;font-family:var(--crf-component-font, 'Poppins', sans-serif);-webkit-tap-highlight-color:transparent}:host *,:host ::after,:host ::before{box-sizing:inherit;font-family:inherit}[hidden]{display:none!important}`,shine:o`.shine{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8 0,#edeef1 20%,#f6f7f8 40%,#f6f7f8 100%);background-repeat:no-repeat;position:relative;animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:shimmerAcross;animation-timing-function:linear;display:block;width:90%;border-radius:5px}`,hideScrollbar:o`.hide-scrollbar::-webkit-scrollbar{display:none}.hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}`},mt=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let bt=class extends(vt(rt)){constructor(){super(...arguments),this.name="WORLD"}static get styles(){return[super.styles||[],gt.host,ot]}render(){return E`<h1>${this.i("hello")}, <span data-test="name-val">${this.name}</span></h1>`}};mt([lt()],bt.prototype,"name",void 0),bt=mt([at("carify-greeting")],bt);var wt=bt,yt=o`:host{display:block;overflow:hidden;height:200px;background-size:14px 14px;background-image:linear-gradient(45deg,#fff 25%,#f7f7f7 25%,#f7f7f7 50%,#fff 50%,#fff 75%,#f7f7f7 75%,#f7f7f7 100%)}div.slide-container{height:100%;display:grid;grid-auto-flow:column;grid-auto-columns:100%;transform:translateX(0);transition:transform .3s ease-in-out;user-select:none}div.slide{overflow:hidden}div.slide img{width:100%;height:100%;object-fit:cover}a.next,a.prev{cursor:pointer;position:absolute;top:50%;left:0;width:auto;margin-top:-22px;padding:12px;color:var(--active-filter-bg);color:#fff;font-weight:700;font-size:18px;transition:.6s ease;border-radius:0 3px 3px 0;background-color:rgba(0,0,0,.05);user-select:none;z-index:999}a.next{left:auto;right:0;border-radius:3px 0 0 3px}a.next:hover,a.prev:hover{background-color:rgba(0,0,0,.45)}`;var xt={busyIndicator:o`span.busy{display:inline-block;width:15px;height:15px;background-color:var(--busy-indicator-color,#000);border-radius:100%;animation:grow 1s infinite ease-in-out}@keyframes grow{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}`,shimmerAnimation:o`@keyframes shimmerAcross{0%{background-position:-468px 0}100%{background-position:468px 0}}`,heartbeatAnimation:o`@keyframes heartbeat{0%{transform:scale(1)}20%{transform:scale(2.5) rotate(15deg)}40%{transform:scale(.75) rotate(-10deg)}60%{transform:scale(1.25) rotate(5deg)}80%{transform:scale(.85)}100%{transform:scale(1)}}`},$t=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let kt=class extends(vt(rt)){constructor(){super(...arguments),this.currentTranslate=0,this.firstSlide=!0,this.lastSlide=!1,this.imageIndex=0,this.imageStack=new Set,this.currentTransform=0,this.alternative="Image",this.images=[]}static get styles(){return[super.styles||[],gt.host,xt.busyIndicator,yt]}addedImages(){return[...this.imageStack]}prevSlide(t){t.preventDefault(),t.stopPropagation(),this.imageIndex>0&&(this.imageIndex--,this.currentTransform+=this._slider.clientWidth,this.imageStack.add(this.images[this.imageIndex]),this._slider.style.transform=`translateX(${this.currentTransform}px)`),0==this.imageIndex?this.firstSlide=!0:this.lastSlide=!1}nextSlide(t){t.preventDefault(),t.stopPropagation(),this.imageIndex<this.images.length-1&&(this.firstSlide=!1,this.imageIndex++,this.imageStack.add(this.images[this.imageIndex]),this.currentTransform-=this._slider.clientWidth,this._slider.style.transform=`translateX(${this.currentTransform}px)`),this.imageIndex==this.images.length-1&&(this.lastSlide=!0)}render(){return E`<a class="prev" ?hidden="${this.firstSlide}" @click="${this.prevSlide}">❮</a> <a class="next" ?hidden="${this.lastSlide}" @click="${this.nextSlide}">❯</a><div class="${pt({"slide-container":!0})}" @click="${t=>t.preventDefault()}"><div class="slide"><img loading="lazy" src="${this.images[0]}" alt="${this.alternative}" class="img"></div>${this.addedImages().map(((t,e)=>E`<div class="slide"><img src="${t}" alt="${this.alternative+` (${e+2}`})" class="img"></div>`))}</div>`}};$t([dt("div.slide-container")],kt.prototype,"_slider",void 0),$t([ht()],kt.prototype,"currentTranslate",void 0),$t([ht()],kt.prototype,"firstSlide",void 0),$t([ht()],kt.prototype,"lastSlide",void 0),$t([ht()],kt.prototype,"imageIndex",void 0),$t([ht()],kt.prototype,"imageStack",void 0),$t([ht()],kt.prototype,"currentTransform",void 0),$t([lt({type:String})],kt.prototype,"alternative",void 0),$t([lt({type:Array})],kt.prototype,"images",void 0),kt=$t([at("carify-image-slider")],kt);var At=kt,_t=o`${gt.host}${gt.shine}${xt.shimmerAnimation}${xt.heartbeatAnimation}:host{display:inline-block;font-size:16px!important}a.card{height:555px;color:var(--card-text-color,#222);display:flex;overflow:hidden;flex-direction:column;text-decoration:none;box-shadow:var(--card-shadow,rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px);background-color:var(--card-background-color,#fff);border-radius:var(--card-border-radius,20px);font-family:var(--crf-component-font, 'Poppins', sans-serif);transition:all .15s ease-in;will-change:transform}a.card:hover{box-shadow:rgba(0,0,0,.2) 0 3px 10px}@media (pointer:fine){:host([motion]) a:not(.missing).card:hover{transform:rotate(-.5deg) translateY(-8px)}:host([zoom]) a:not(.missing).card:hover{transform:scale(1.01)}:host([zoom][motion]) a:not(.missing).card:hover{transform:scale(1.01) rotate(-.5deg) translateY(-8px)}}a.card div.media{max-height:200px;min-height:200px;position:relative;text-align:center}a.card div.media img{display:block;position:absolute;inset:0;object-fit:cover;width:100%;max-height:200px;min-height:200px}a.card div.media svg{width:20px}a.card div.content{position:relative;display:flex;flex-direction:column;padding:1em;min-height:calc(100% - 200px)}h2{margin:0 0 .5em 0;font-size:1.25em;color:var(--vehicle-name-color,#222);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}ul.badges~h2{margin-top:.65em}ul.badges{position:absolute;list-style:none;top:1em;padding:0;margin:0}li.badge{letter-spacing:1px;font-size:.55em;border-top-right-radius:20px;border-bottom-right-radius:20px;padding:4px 8px;margin:0 0 5px 0;color:var(--badge-text-color,#222);background:#efefef;display:block;text-transform:uppercase}li.badge.electric{background:var(--badge-electric-color,#efefef)}li.badge.recent{background:var(--badge-recent-color,#efefef)}li.badge.popular{background:var(--badge-popular-color,#efefef)}li.badge.hybrid{background:var(--badge-hybrid-color,#efefef)}li.badge.special{background:var(--badge-special-color,#efefef)}dl{color:var(--card-text-color,#222);font-size:.8em;display:grid;grid-gap:5px;grid-template-columns:1fr;margin:0}dl dt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}dl dd{margin:0;text-align:left;white-space:nowrap;overflow:hidden;font-weight:500;font-size:1.055em;color:var(--vehicle-specs-color);text-overflow:ellipsis}div.package{margin:auto 0 0 0}sup{color:var(--vehicle-price-strike-color,#963131);font-weight:500;font-size:1em;display:block;text-decoration:line-through}div.package p.price{margin:0;font-size:1.4em;font-weight:700;letter-spacing:.75px;color:var(--vehicle-price-color)}div.pills{margin:.65em 0 0 0;display:flex;align-items:center;justify-content:space-between}span.pill{color:var(--package-detail-color);font-size:.75em;font-weight:500;padding:6px 12px;background-color:var(--package-detail-bg,#efefef);border-radius:40px;margin-right:4px;margin-bottom:4px;display:inline-block}span.missing{font-size:.75em}div.fetching-overlay{background-color:var(--card-bg-color,#fff);position:absolute;top:0;left:0;right:0;bottom:0;visibility:hidden;display:flex;flex-direction:column;min-height:calc(100% - 200px)}div.fetching-overlay.show{visibility:visible}span.fav svg{width:25px}span.fav.active svg{animation:heartbeat .85s;fill:var(--heart-fill-color,red);stroke:var(--heart-stroke-color,#c90000)}span.fav:hover svg{stroke:var(--heart-stroke-color,#c90000)}`;const Ct=T`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>`,jt=(T`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>`,T`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>`,T`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>`),St=T`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>`,zt=T`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>`;var Mt=T`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>`,Pt=Ct,Nt=St,Rt=zt,Ot=jt;var Ft=E`<div class="shine" style="min-height:60px;margin:1rem auto"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:.25rem auto;min-height:30px"></div><div class="shine" style="margin:auto auto 1rem;min-height:80px"></div>`;class Et{constructor(t){this.missing=!1,this.fetched=!1,this.convertVehicle=(t,e=6,i=1e3)=>{const s=this.extractPackage(t.lease_packages,e,i);return{uuid:t.id,name:t.name,photo:t.profile_picture,gear:t.transmission_display,fuel:t.fuel_type_display,year:t.registration_date.split("-")[0],slug:t.slug,price:s.price,old_price:s.old_price,duration:s.duration,distance:s.distance,currency:s.currency,recent:t.is_new,popular:t.is_popular,electric:3===t.fuel_type,hybrid:[4,5,6,8].includes(t.fuel_type),promotion:s.promotion,favourite:t.is_user_favourite,images:t.images}},this.extractPackage=(t,e=6,i=1e3)=>{const s={duration:Number(t[0].duration_months),distance:Number(t[0].km_options[0].km),price:Number(t[0].km_options[0].monthly_total),old_price:Number(t[0].km_options[0].old_monthly_total),promotion:t[0].km_options[0].promotion_applied,currency:t[0].currency},r=t.find((t=>t.duration_months==e));if(r){s.duration=r.duration_months,s.currency=r.currency;const t=r.km_options.find((t=>t.km==i));t?(s.distance=Number(t.km),s.price=Number(t.monthly_total),s.old_price=Number(t.old_monthly_total),s.promotion=t.promotion_applied):(s.distance=Number(r.km_options[0].km),s.price=Number(r.km_options[0].monthly_total),s.old_price=Number(r.km_options[0].old_monthly_total),s.promotion=r.km_options[0].promotion_applied)}return s},(this.host=t).addController(this)}hostConnected(){this.reset()}reset(){this.data={uuid:"",name:"",photo:"",gear:"",fuel:"",year:"",price:0,old_price:0,duration:0,distance:0,currency:"",slug:"",images:[],recent:!1,hybrid:!1,popular:!1,electric:!1,promotion:!1,favourite:!1}}favourite(t,e=!1){return fetch(`${window.CARIFY.base}/api/vehicles/favourites/`,this.options("en",e?"DELETE":"PATCH",{vehicle_ids:[t]})).then((t=>t.json()))}async retrieve(t,e,i,s){try{this.reset(),this.fetched=!1;const r=await fetch(`${window.CARIFY.base}/public_api/vehicles/${t}/`,this.options(s));if(!r.ok)throw new Error("Could not fetch vehicle!");const{results:o}=await r.json();this.missing=!1,this.data=this.convertVehicle(o,e,i)}catch(t){this.missing=!0,console.log(t)}finally{this.fetched=!0,this.host.requestUpdate()}}options(t,e="GET",i=null){return{method:e,mode:"cors",credentials:"include",referrerPolicy:"origin",headers:{"accept-language":t,accept:"application/json","content-type":"application/json"},body:i?JSON.stringify(i):void 0}}}var Tt,Dt=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let Ut=Tt=class extends(vt(rt)){constructor(){super(...arguments),this.zoom=!1,this.motion=!1,this.fetching=!1,this.injected=!1,this.internal=!1,this.duration=6,this.distance=1e3,this.slider=!1,this.vehicle=new Et(this)}static get styles(){return[super.styles||[],gt.host,xt.busyIndicator,_t]}connectedCallback(){super.connectedCallback();[()=>this.dataset.name&&(this.vehicle.data.name=this.dataset.name),()=>this.dataset.photo&&(this.vehicle.data.photo=this.dataset.photo),()=>this.dataset.gear&&(this.vehicle.data.gear=this.dataset.gear),()=>this.dataset.fuel&&(this.vehicle.data.fuel=this.dataset.fuel),()=>this.dataset.year&&(this.vehicle.data.year=this.dataset.year),()=>this.dataset.photo&&(this.vehicle.data.photo=this.dataset.photo),()=>this.dataset.duration&&(this.vehicle.data.duration=this.duration=Number(this.dataset.duration)),()=>this.dataset.distance&&(this.vehicle.data.distance=this.distance=Number(this.dataset.distance)),()=>this.dataset.price&&(this.vehicle.data.price=Number(this.dataset.price)),()=>this.dataset.old_price&&(this.vehicle.data.old_price=Number(this.dataset.old_price)),()=>this.dataset.currency&&(this.vehicle.data.currency=this.dataset.currency),()=>this.vehicle.data.recent=""===this.dataset.recent,()=>this.vehicle.data.hybrid=""===this.dataset.hybrid,()=>this.vehicle.data.popular=""===this.dataset.popular,()=>this.vehicle.data.electric=""===this.dataset.electric,()=>this.vehicle.data.promotion=""===this.dataset.promotion].map((t=>t()))}willUpdate(t){const e=[t.has("lang"),t.has("uuid"),t.has("duration"),t.has("distance")].filter((t=>t)),i=this.uuid&&!this.injected;if(e.length>0&&i&&(this.fetching=!0,this.vehicle.retrieve(this.uuid,this.duration,this.distance,this.lang)),t.has("duration")&&!i&&(this.vehicle.data.duration=this.duration),t.has("distance")&&!i&&(this.vehicle.data.distance=this.distance),this.vehicle.fetched)if(this.fetching=!1,this.vehicle.missing){console.warn(`[CAR!FY]: Vehicle with UUID [${this.uuid}] was not found.`),this._card.onclick=t=>t.preventDefault(),this._card.style.cursor="not-allowed";const t={...Tt.EVENT_OPTIONS,detail:{uuid:this.uuid,missing:!0}};this.dispatchEvent(new CustomEvent("vehicle:missing",t))}else{this._card.onclick=null,this._card.style.cursor="pointer";const t={...Tt.EVENT_OPTIONS,detail:{data:this.data}};this.dispatchEvent(new CustomEvent("vehicle:updated",t))}}get data(){return this.vehicle.data}set data(t){this.fetching=!0,this.uuid=t.uuid,this.vehicle.data.uuid=t.uuid,this.vehicle.data.name=t.name,this.vehicle.data.photo=t.photo,this.vehicle.data.gear=t.gear,this.vehicle.data.fuel=t.fuel,this.vehicle.data.year=t.year,this.vehicle.data.price=t.price||0,this.vehicle.data.old_price=t.old_price||0,this.vehicle.data.duration=t.duration||0,this.vehicle.data.distance=t.distance||0,this.vehicle.data.currency=t.currency||"CHF",this.vehicle.data.recent=t.recent||!1,this.vehicle.data.hybrid=t.hybrid||!1,this.vehicle.data.popular=t.popular||!1,this.vehicle.data.electric=t.electric||!1,this.vehicle.data.promotion=t.promotion||!1,this.vehicle.data.favourite=t.favourite||!1,this.vehicle.data.slug=t.slug,this.vehicle.data.images=t.images,this.vehicle.missing=!1,this.requestUpdate(),this.fetching=!1}dispatchVehicleFavourite(t){t.preventDefault(),t.stopPropagation(),this.vehicle.favourite(this.uuid,this.vehicle.data.favourite).then((t=>{if(!t.success)throw new Error("Could not favourite!");this.vehicle.data.favourite=!this.vehicle.data.favourite;const e={...Tt.EVENT_OPTIONS,detail:{uuid:this.uuid,add:this.vehicle.data.favourite,card:this}};this.dispatchEvent(new CustomEvent("vehicle:favourite",e)),this.requestUpdate()})).catch((t=>{console.log(t),window.location.href=`/${this.lang}/users/login`}))}canDisplayFavouriteOption(){return window.location.hostname===window.CARIFY.domain&&!this.vehicle.missing&&this.uuid}generateLink(){let t;if(this.vehicle.data.slug&&this.vehicle.data.uuid)t=`/${this.lang}/view/${this.vehicle.data.slug}/${this.vehicle.data.uuid}`;else if(this.vehicle.data.name&&this.vehicle.data.uuid){const e=this.vehicle.data.name.toLowerCase().replace(" ","-").replace(".","");t=`/${this.lang}/view/${e}/${this.vehicle.data.uuid}`}else t="#";const e=this.internal?t:`${window.CARIFY.site}${t}`;return{target:this.internal?"_self":"_blank",href:this.group?`${e}?group=${this.group}`:e}}render(){const{href:t,target:e}=this.generateLink();return E`<a href="${t}" target="${e}" class="card" rel="noopener"><div class="media" part="media">${this.renderImage()} ${this.renderBadges()}</div><div class="content" part="content"><h2 data-test="name-val">${this.data.name||this.i("vehicle.missing")}</h2>${this.renderSpecs()} ${this.renderPackage()}<div class="fetching-overlay ${pt({show:this.fetching})}">${Ft}</div></div></a>`}renderImage(){return this.fetching?E`<span style="margin-top:90px" class="busy"></span>`:this.vehicle.missing||!this.data.photo?E`<span style="display:block;margin-top:90px;color:#bdbdbd">${Mt}</span>`:this.slider?E`<carify-image-slider lang="${this.lang}" alternative="${this.data.name}" .images="${this.data.images}"></carify-image-slider>`:E`<img loading="lazy" height="200px" data-test="photo-val" src="${this.data.photo}" alt="${this.data.name}">`}renderBadges(){if(this.fetching)return E``;const t=[{text:this.i("badge.recent"),class:"recent",active:this.data.recent},{text:this.i("badge.hybrid"),class:"hybrid",active:this.data.hybrid},{text:this.i("badge.popular"),class:"popular",active:this.data.popular},{text:this.i("badge.electric"),class:"electric",active:this.data.electric},{text:this.i("badge.special"),class:"special",active:this.data.promotion}].filter((t=>t.active));return 0===t.length?E``:E`<ul class="badges" part="badges">${t.map((t=>E`<li class="badge ${t.class}">${t.text}</li>`))}</ul>`}renderSpecs(){const t=[{key:this.i("transmission.type"),value:this.data.gear||"!?"},{key:this.i("fuel.type"),value:this.data.fuel||"!?"},{key:this.i("registration.date"),value:this.data.year||"!?"}];return E`<dl part="specs">${t.map((t=>E`<dt>${t.key}</dt><dd>${t.value}</dd>`))}</dl>`}renderPackage(){const t=E`<div><span class="pill"><span data-test="duration-val">${this.data.duration}</span> ${this.i("month",Math.ceil(this.data.duration))} </span><span class="pill"><span data-test="distance-val">${this.data.distance}</span>km/${this.i("month",1)}</span></div>`,e=E`<div><span data-test="favoured" class="fav ${pt({active:this.data.favourite})}" @click="${this.dispatchVehicleFavourite}">${Pt}</span></div>`,i=E`<div class="pills">${t}${this.canDisplayFavouriteOption()?E`${e}`:""}</div>`;return E`<div class="package" part="package">${this.renderPrice()} ${i}</div>`}renderPrice(){return this.data.promotion?E`<sup><span data-test="currency-promo-val">${this.data.currency}</span> <span data-test="old-price-val">${this.data.old_price}</span></sup><p class="price"><span data-test="currency-val">${this.data.currency}</span> <span data-test="price-val">${this.data.price}</span>/${this.i("month",1)}</p>`:E`<p class="price"><span data-test="currency-val">${this.data.currency}</span> <span data-test="price-val">${this.data.price}</span>/${this.i("month",1)}</p>`}};Ut.EVENT_OPTIONS={bubbles:!0,composed:!0},Dt([lt({type:String})],Ut.prototype,"group",void 0),Dt([lt({type:Boolean,reflect:!0})],Ut.prototype,"zoom",void 0),Dt([lt({type:Boolean,reflect:!0})],Ut.prototype,"motion",void 0),Dt([lt({type:Boolean})],Ut.prototype,"fetching",void 0),Dt([lt({type:Boolean})],Ut.prototype,"injected",void 0),Dt([lt({type:Boolean})],Ut.prototype,"internal",void 0),Dt([lt({type:String})],Ut.prototype,"uuid",void 0),Dt([lt({type:Number})],Ut.prototype,"duration",void 0),Dt([lt({type:Number})],Ut.prototype,"distance",void 0),Dt([lt({type:Boolean})],Ut.prototype,"slider",void 0),Dt([dt("a",!0)],Ut.prototype,"_card",void 0),Ut=Tt=Dt([at("carify-vehicle-card")],Ut);var Bt=Ut,Lt=o`:host{display:block;font-size:16px!important}header{background-color:#fff;margin:0;padding:.5em .75em;display:grid;border-radius:10px;grid-template-columns:1fr 1fr;gap:5px;box-shadow:rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px;box-sizing:border-box}header *{box-sizing:border-box}header input{border:none;padding:10px 5px;border-radius:5px;grid-column-end:span 2}header button{border-radius:5px;position:relative;cursor:pointer;padding:8px 6px;border:1px solid #acacac;color:var(--drop-down-color);background:var(--drop-down-bg);width:100%}header button.search{background:var(--filter-search-bg,#f76523);grid-column-end:span 2;color:var(--filter-search-color,#fff)}header.long button.search{grid-column-end:span 1}div.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);transition:opacity .3s ease;opacity:0;visibility:hidden}div.modal-mask.open{visibility:visible;opacity:1}div.modal-mask.transparent{background-color:transparent}div.modal-wrapper{height:100%;display:grid;place-items:center}div.modal-container{width:100%;max-width:800px;margin:0 auto;padding:20px 30px;height:100vh;overflow-y:scroll;background-color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}div.modal-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:2.5em}div.modal-title p{margin:0;padding:0;font-size:1.1em;font-weight:700}div.modal-title span.close{cursor:pointer;text-align:center;display:flex;padding:0;margin:0;align-items:center;justify-content:center;background-color:#efefef;border-radius:4px;width:30px;height:30px}div.modal-title span.close svg{width:12px}div.modal-title span.close:hover{background-color:silver}div.ops-loader{display:flex;justify-content:flex-start;align-items:center}button.results{min-width:80px;padding:.75em 1em;background-color:var(--filter-view-bg,#f76523);color:var(--filter-view-color,#fff);border-radius:5px;outline:0;border:1px solid #c4c4c4;cursor:pointer;margin-bottom:4.25em;margin-right:.5em}button.results[disabled]{cursor:not-allowed;background-color:#efefef;color:#949494}dl{font-size:.75em;display:grid;gap:10px;grid-template-columns:1fr}dl dt{font-weight:500;padding-top:2px}dd{height:100%;margin:0 0 1em 0}dd ul{list-style:none;margin:0;padding:0}dd ul li{min-width:30px;text-align:center;display:inline-block;border:1px solid #efefef;padding:8px;border-radius:4px;cursor:pointer;margin:0 3px 3px 0}dd ul li.item.active{background-color:var(--active-filter-bg);color:var(--active-filter-color,#fff)}dd ul li.filter-remove{background-color:#efefef;border-radius:4px;width:32px}dd ul li.filter-remove svg{width:10px}dd ul li.filter-remove:hover{background-color:silver}dd ul li.cat{cursor:default;background-color:grey;color:#fff}input.inline{margin:0;padding:0;border:none;font-size:12px}input:focus{outline:0}button[disabled]{cursor:not-allowed!important;background:#f5f5f5!important;border:1px dotted #ccc!important;color:#bebebe!important}@media screen and (min-width:768px){header{grid-template-columns:auto 120px 120px 100px}header.long{grid-template-columns:auto 100px 100px 130px 100px}header button.search{grid-column-end:span 1}header input{grid-column-end:span 1}div.ops-loader{justify-content:flex-end;grid-column-end:span 4}dd ul li.item:hover{background-color:var(--active-filter-bg);color:var(--active-filter-color,#fff)}dl{grid-template-columns:150px auto}}@media screen and (min-width:1024px){div.modal-container{height:auto;max-height:calc(100vh - 2em);border-radius:10px}button.results{margin-bottom:1.25em}}`,It=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let Yt=class extends(vt(rt)){constructor(){super(...arguments),this.makes=[],this.types=[],this.dealers=[],this.cantons=[],this.activeMakes=[],this.models=new Map,this.activeFilters=new Map,this.packages=[{text:"1750 km",value:"1750"}],this.initialFilters={},this._config={advanced:!0,hide:[],filters:{},duration:12,distance:1e3,sync:!1},this.show_dealer=!1,this.optionsFetched=!1,this.error=!1,this.count=0,this.busy=!1,this.modalOpen=!1,this.inlineFilters={makes:"",search:"",canton:"",dealer:""},this.delayedSearch=this.debounce((()=>this.searchVehicles()))}static get styles(){return[super.styles||[],gt.host,xt.busyIndicator,gt.hideScrollbar,Lt]}set config(t){this._config={...this._config,...t}}connectedCallback(){super.connectedCallback(),this.addEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),this.fetchFilterOptions()}disconnectedCallback(){this.removeEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),super.disconnectedCallback()}firstUpdated(){this.grid=document.querySelector("carify-vehicle-grid"),this.grid&&this.grid.addEventListener("catalog:ready",this.handleCatalogReady.bind(this))}handleDropdownUpdate(t){switch(t.detail.name){case"duration":this.busy=!0,this.grid.setFilter("duration",Number(t.detail.value));break;case"distance":this.busy=!0,this.grid.setFilter("distance",Number(t.detail.value))}}filterOptions(){return{duration:[{text:E`1 ${this.i("month",1)}`,value:"1"},{text:E`3 ${this.i("month",3)}`,value:"3"},{text:E`6 ${this.i("month",6)}`,value:"6"},{text:E`12 ${this.i("month",12)}`,value:"12"},{text:E`18 ${this.i("month",18)}`,value:"18"}],seats:[{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9}],drive:[{text:E`${this.i("filter.drive.front")}`,value:[1]},{text:E`${this.i("filter.drive.rear")}`,value:[2]},{text:E`${this.i("filter.drive.all")}`,value:[3,4]}],gear:[{text:E`${this.i("filter.gear.manual")}`,value:[1,3]},{text:E`${this.i("filter.gear.automatic")}`,value:[2,4,5]}],fuel:[{text:E`${this.i("filter.fuel.diesel")}`,value:[1]},{text:E`${this.i("filter.fuel.petrol")}`,value:[2]},{text:E`${this.i("filter.fuel.electric")}`,value:[3]},{text:E`${this.i("filter.fuel.hybrid")}`,value:[4,5,6,7,8,10]},{text:E`${this.i("filter.fuel.other")}`,value:[9,11,12]}],power:[{text:"1 - 99",value:[0,99]},{text:"100 - 200",value:[100,200]},{text:"201 - 300",value:[201,300]},{text:"300+",value:[301,2e3]}]}}toggleFilterExpand(){this.modalOpen=!this.modalOpen,this.modalOpen?window.document.body.style.overflow="hidden":window.document.body.style.overflow="scroll"}options(){return{mode:"cors",credentials:"same-origin",referrerPolicy:"origin",headers:{"accept-language":this.lang}}}handleCatalogReady(t){this.busy=!1,this.count=t.detail.total}updateFilterInput(t){const e=t.target,i=e.value.toLowerCase().trim(),s=e.dataset.filter;this.inlineFilters[s]=i,"search"===s&&""===i&&this.removeFilter("search"),this.requestUpdate()}async fetchFilterOptions(){var t,e;this.error=!1;const i=[fetch(`${window.CARIFY.base}/public_api/vehicles/enums/`,this.options()),fetch(`${window.CARIFY.base}/public_api/vehicles/makes/`,this.options()),fetch(`${window.CARIFY.base}/public_api/dealers/`,this.options()),fetch(`${window.CARIFY.base}/public_api/leases/adjustments/`,this.options())];try{const s=await Promise.all(i),{results:r}=await s[0].json(),{results:o}=await s[1].json(),{results:a}=await s[2].json(),{results:n}=await s[3].json();Object.entries(null!==(t=r.car_type_options)&&void 0!==t?t:{}).forEach((t=>{this.types.push({text:t[1],value:Number(t[0])})})),a.forEach((t=>{this.dealers.push({text:t.name,value:t.id})})),n.forEach((t=>{"monthly"===t.adjustment_type&&0!==t.km_adjustment&&this.packages.push({text:t.name.toLowerCase(),value:String(1750+t.km_adjustment)})})),this.packages=this.packages.sort(((t,e)=>1*(t.value===e.value?0:t.value>e.value?1:-1))),o.forEach((t=>{this.makes.push({text:t.name,value:t.name})})),this.makes=this.makes.sort(((t,e)=>1*(t.value===e.value?0:t.value>e.value?1:-1)));(null!==(e=r.cantons)&&void 0!==e?e:[]).forEach((t=>{this.cantons.push({text:t,value:t,selected:!1})}))}catch(t){console.error(t),this.error=!0}finally{this.optionsFetched=!0,this.parseURLQuery(),this.initializeConfigFilters()}}initializeConfigFilters(){Object.entries(this._config.filters).forEach((t=>{this.initialFilters[t[0]]=t[1];let e=t[1];"makes"==t[0]&&e&&(e=e.map((t=>t.toUpperCase())),this.fetchModelsForMakes(e)),this.activeFilters.set(t[0],e)})),this.initialFilters.distance=this._config.distance,this.initialFilters.duration=this._config.duration,window.CARIFY.dealer&&(this.initialFilters.dealer=window.CARIFY.dealer),window.CARIFY.group&&(delete this.initialFilters.dealer,this.initialFilters.group=window.CARIFY.group),this.grid&&this.grid.applyFilters(this.initialFilters)}async parseURLQuery(){const t=[],e=new URLSearchParams(window.location.search),i=Object.fromEntries(e.entries()),s={gear:"object",type:"number",fuel:"object",power:"object",drive:"object",seats:"number",canton:"string",dealer:"string",models:"object-string"};for(const e in i)s.hasOwnProperty(e)&&("object"==s[e]?t.push({name:e,value:i[e].split(",").map((t=>Number(t)))}):"object-string"==s[e]?t.push({name:e,value:i[e].split(",").map((t=>t.toString()))}):"string"==s[e]?t.push({name:e,value:i[e]}):"number"==s[e]?t.push({name:e,value:Number(i[e])}):t.push({name:e,value:i[e]}));if(e.has("makes")){const t=e.get("makes").split(",");await this.fetchModelsForMakes(t),t.forEach((t=>{this.applyFilter("makes",t,!0)}))}t.forEach((t=>{this.initialFilters[t.name]=t.value})),this.requestUpdate()}async fetchModelsForMakes(t){this.activeMakes=t;const e=t.filter((t=>!this.models.has(t)));if(0===e.length)return;const i=await fetch(`${window.CARIFY.base}/public_api/vehicles/models/?makes=${e.join(",")}`,this.options());(await i.json()).results.forEach((t=>{this.models.set(t.name,t.models)})),this.requestUpdate()}applyFilter(t,e,i=!1){var s;let r;if(i){if(r=null!==(s=this.activeFilters.get(t))&&void 0!==s?s:[],r.includes(e)){if(r=r.filter((t=>t!==e)),0===r.length)return void this.removeFilter(t);if("makes"==t){const t=this.models.get(e).map((t=>t.name)),i=this.activeFilters.get("models");if(i){const e=i.filter((e=>!t.includes(e)));this.applyFilter("models",e)}}}else r.push(e);"makes"===t&&this.fetchModelsForMakes(r)}else r=e;if(!i){if(this.filterValueApplied(t,e))return void this.removeFilter(t)}this.busy=!0,this.grid.setFilter(t,r),this.activeFilters.set(t,r),this.syncQueryParameters(!1,t,r),this.requestUpdate()}removeFilter(t,e=!0){if(this.busy=!0,e&&"search"!=t){const e=this.renderRoot.querySelector(`ul[data-filter="${t}"]`);if(!e)return void(this.busy=!1);[...e.children].forEach((t=>t.classList.remove("active")))}else this.renderRoot.querySelector("input").value="";this.grid.delFilter(t),this.activeFilters.delete(t),"makes"==t&&(this.inlineFilters.makes="",this.grid.delFilter("models"),this.activeFilters.delete("models")),"dealer"==t&&(this.inlineFilters.dealer=""),"canton"==t&&(this.inlineFilters.canton=""),this.syncQueryParameters(!0,t),this.requestUpdate()}syncQueryParameters(t,e,i){if(!this._config.sync)return;const s=new URLSearchParams(location.search);t?(s.delete(e),"makes"==e&&s.delete("models")):s.set(e,i),window.history.replaceState({},"",`${location.pathname}?${s}`)}filterValueApplied(t,e,i=!1){return i?this.activeFilters.has(t)&&this.activeFilters.get(t).includes(e):this.activeFilters.has(t)&&JSON.stringify(this.activeFilters.get(t))===JSON.stringify(e)}debounce(t,e=300){let i;return(...s)=>{clearTimeout(i),i=setTimeout((()=>{t.apply(this,s)}),e)}}searchVehicles(){this.inlineFilters.search.length>0&&(this.busy=!0,this.grid.setFilter("search",this.inlineFilters.search),this.requestUpdate())}togglePromotions(){this.activeFilters.has("promotions")?this.removeFilter("promotions",!1):this.applyFilter("promotions",!0)}togglePopular(){this.activeFilters.has("popular")?this.removeFilter("popular",!1):this.applyFilter("popular",!0)}clearAllFilters(){for(const t of this.activeFilters.keys())this.removeFilter(t)}filteredList(t,e=5){let i="",s=[];switch(t){case"makes":i=this.inlineFilters.makes,s=this.makes;break;case"canton":i=this.inlineFilters.canton,s=this.cantons;break;case"dealer":i=this.inlineFilters.dealer,s=this.dealers}return i&&(s=s.filter((t=>Object.keys(t).some((e=>String(t.text).toLowerCase().indexOf(i)>-1))))),s.slice(0,e)}renderFilterPair(t,e,i,s=!1){if(this._config.hide.includes(e))return E``;const r=E`<dt>${t}</dt><dd><ul data-filter="${e}">${["makes","canton","dealer"].includes(e)?E`<li><input type="search" .value="${this.inlineFilters[e]}" @input="${this.updateFilterInput}" data-filter="${e}" class="inline" placeholder="${this.t("filter.inline")}..."></li>`:E``} ${i.map((t=>E`<li class="item ${pt({active:this.filterValueApplied(e,t.value,s)})}" @click="${()=>this.applyFilter(e,t.value,s)}">${t.text}</li>`))}<li ?hidden="${!this.activeFilters.has(e)}" @click="${()=>this.removeFilter(e)}" class="filter-remove">${Rt}</li></ul></dd>`;return E`${r}`}renderModels(){const t=[];if(0==this.activeMakes.length)return;this.activeMakes.forEach((e=>{t.push({text:e,value:e,make:!0});const i=this.models.get(e);i&&i.forEach((e=>{t.push({text:e.name,value:e.name,make:!1})}))}));return E`<ul data-filter="models">${t.map((t=>E`<li @click="${()=>this.applyFilter("models",t.value,!0)}" class="${pt({item:!t.make,cat:Boolean(t.make),active:this.filterValueApplied("models",t.value,!0)})}">${t.text}</li>`))}<li ?hidden="${!this.activeFilters.has("models")}" @click="${()=>this.removeFilter("models")}" class="filter-remove">${Rt}</li></ul>`}renderModal(){return E`<div class="modal-mask ${pt({open:this.modalOpen,transparent:1==this._config.transparent})}"><div class="modal-wrapper" @click="${this.toggleFilterExpand}"><div class="modal-container hide-scrollbar" @click="${t=>t.stopPropagation()}"><div class="modal-title"><p>${this.i("filter.advanced")}</p><span class="close" @click="${this.toggleFilterExpand}">${Rt}</span></div><section class="detail"><dl part="filters"><dt>${this.i("filter.special")}</dt><dd><ul><li @click="${this.togglePromotions}" class="item ${pt({active:this.filterValueApplied("promotions",!0)})}">${this.i("filter.promotions")}</li><li @click="${this.togglePopular}" class="item ${pt({active:this.filterValueApplied("popular",!0)})}">${this.i("badge.popular")}</li></ul></dd>${this.renderFilterPair(this.i("filter.makes"),"makes",this.filteredList("makes",10),!0)} ${this.activeFilters.has("makes")&&!this._config.hide.includes("models")?E`<dt>${this.i("filter.models")}</dt><dd>${this.renderModels()}</dd>`:E``} ${this.renderFilterPair(this.i("filter.gear"),"gear",this.filterOptions().gear)} ${this.renderFilterPair(this.i("filter.type"),"type",this.types)} ${this.renderFilterPair(this.i("filter.fuel"),"fuel",this.filterOptions().fuel)} ${this.renderFilterPair(this.i("filter.power"),"power",this.filterOptions().power)} ${this.renderFilterPair(this.i("filter.drive"),"drive",this.filterOptions().drive)} ${this.renderFilterPair(this.i("filter.seats"),"seats",this.filterOptions().seats)} ${this.renderFilterPair(this.i("filter.canton"),"canton",this.filteredList("canton",5))} ${this.show_dealer?this.renderFilterPair(this.i("filter.dealer"),"dealer",this.filteredList("dealer",5)):E``}</dl></section><button class="results" ?disabled="${this.busy||0==this.count}" @click="${this.toggleFilterExpand}">${this.i("view")} (${this.count})</button> <span ?hidden="${!this.busy}" class="busy"></span></div></div></div>`}renderButtons(){return this.optionsFetched?E`<carify-drop-down name="duration" default="${this._config.duration}" .options="${this.filterOptions().duration}" ?disabled="${this.error}" lang="${this.lang}"></carify-drop-down><carify-drop-down name="distance" default="${this._config.distance}" .options="${this.packages}" ?disabled="${this.error}" lang="${this.lang}"></carify-drop-down><button @click="${this.toggleFilterExpand}" ?hidden="${!this._config.advanced}" ?disabled="${this.error}"><span>${this.i("filter.more")} <span ?hidden="${0==this.activeFilters.size}">(${this.activeFilters.size})</span></span></button> <button class="search" @click="${()=>this.searchVehicles()}"><span>${this.i("search")}</span></button>`:E`<div class="ops-loader"><span class="busy"></span></div>`}render(){return E`<header role="banner" aria-label="search-bar" class="${pt({long:this._config.advanced})}"><input placeholder="${this.t("search")}..." @input="${this.updateFilterInput}" data-filter="search" @keyup="${()=>this.delayedSearch()}" tabindex="0" ?disabled="${this.error}"> ${this.renderButtons()}</header>${this.renderModal()}`}};It([lt({type:Boolean})],Yt.prototype,"show_dealer",void 0),It([ht()],Yt.prototype,"optionsFetched",void 0),It([ht()],Yt.prototype,"error",void 0),It([ht()],Yt.prototype,"count",void 0),It([ht()],Yt.prototype,"busy",void 0),It([ht()],Yt.prototype,"modalOpen",void 0),It([ht()],Yt.prototype,"inlineFilters",void 0),Yt=It([at("carify-vehicle-filter")],Yt);var Ht=Yt,Vt=o`:host{display:block;font-size:16px!important;--heading-color:#1d1c20;--busy-indicator-color:#ff6542;--vehicle-name-color:#003049;--vehicle-specs-color:#779fa1;--vehicle-price-color:#ff6542;--vehicle-price-strike-color:#b30000;--package-detail-bg:#696969;--package-detail-color:#ffffff;--badge-text-color:#222;--badge-electric-color:#b8fff6;--badge-recent-color:#ffaeae;--badge-special-color:#cb91fa;--badge-popular-color:#e2ec80;--badge-hybrid-color:#f888ca;--heart-fill-color:#ff7e42;--heart-stroke-color:#da6a48;--card-border-radius:20px;--card-bg-color:#fff;--card-text-color:#222;--active-page-indicator-color:#fff;--active-page-indicator-bg:#ff7151;--card-shadow:rgba(0, 0, 0, 0.12) 0px 1px 3px,rgba(0, 0, 0, 0.24) 0px 1px 2px;--card-hover-shadow:rgba(50, 50, 93, 0.25) 0px 13px 27px -5px,rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;--grid-columns:4;--active-filter-bg:#ff6542;--active-filter-color:#fff;--filter-search-bg:#ff6542;--filter-search-color:#fff;--drop-down-bg:#fff;--drop-down-color:#222;--drop-down-active:#efefef}:host *{box-sizing:border-box;font-family:Poppins}div.wrap{width:100%;margin:1em auto;padding:0}main{padding:0;margin:0 0 2em 0;justify-items:center}footer{font-size:.8em;display:flex;align-items:center}h1{margin:0 0 .75em 0;padding:0;font-size:1.85em;color:var(--heading-color,#301758)}header~main{margin-top:2em}button.icon{margin-right:.5em}button.icon svg{width:15px;stroke:#222}.light-button{background-color:#fff;cursor:pointer;background:0 0;display:flex;justify-content:center;align-items:center;border:1px solid #c4c4c4;border-radius:5px;padding:10px 12px;color:#222}.light-button:not([disabled]):hover{color:var(--active-page-indicator-color);background:var(--active-page-indicator-bg)}.light-button:focus{outline:0}.light-button[disabled]{cursor:not-allowed;background-color:#f8f8f8}carify-vehicle-card{width:100%}div.errors{display:flex;flex-direction:column;align-items:flex-start;padding:1em .25em;font-size:1em;color:#bebebe;user-select:none}div.errors span{margin-right:5px}div.errors span svg{margin:0;height:25px;width:25px;stroke:#bebebe}div.track{display:none}ol.pagination{justify-self:end;list-style:none;display:flex;align-items:center;flex-wrap:wrap;margin:0;padding:0}ol.pagination li{background-color:#fff;min-width:40px;border-radius:0;border-left:none;font-weight:500}ol.pagination li:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px;border-left:1px solid #c4c4c4}ol.pagination li:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px}ol.pagination li.active{color:var(--active-page-indicator-color);background:var(--active-page-indicator-bg)}.grid{display:grid;justify-content:center;align-items:center;gap:1.5em;grid-template-columns:repeat(1,minmax(90%,300px))}@media screen and (min-width:540px){.grid{grid-template-columns:repeat(2,240px)}carify-vehicle-filter,ol{grid-column-end:span 2}h1{grid-column-end:span 1}carify-drop-down{grid-column-start:2;justify-self:end}}@media screen and (min-width:600px){.grid{grid-template-columns:repeat(2,270px)}carify-vehicle-filter{grid-column-end:span 2}}@media screen and (min-width:768px){div.errors{align-items:center;flex-direction:row}.grid{grid-template-columns:repeat(2,320px)}ol{grid-column-end:span 1}carify-vehicle-filter{grid-column-end:span 2}div.track{display:block}}@media screen and (min-width:1024px){.grid{grid-template-columns:repeat(3,1fr)}carify-vehicle-filter{grid-column-end:span 3}ol{grid-column-end:span 2}h1{grid-column-end:span 2}carify-drop-down{grid-column-start:3}}@media screen and (min-width:1200px){.grid{grid-template-columns:repeat(var(--grid-columns),1fr)}carify-vehicle-filter{grid-column-end:span 4}ol{grid-column-end:span 3}h1{grid-column-end:span calc(var(--grid-columns) - 1)}carify-drop-down{grid-column-start:4}}`
/**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;class qt{constructor(t){this.locale="en",this.ready=!1,this.current_page=1,this.paginate=12,this.vehicles=[],this.filters={},(this.host=t).addController(this),this.vehicle=new Et(this.host)}hostConnected(){this.defineValidators()}defineValidators(){this.validators=new Map,this.validators.set("popular",(t=>"boolean"==typeof t)),this.validators.set("promotions",(t=>"boolean"==typeof t)),this.validators.set("paginate",(t=>t>1&&t<=25)),this.validators.set("duration",(t=>[1,3,6,12,18].includes(t))),this.validators.set("distance",(t=>[1e3,1750,2500,3e3,3250,3750,4e3].includes(t))),this.validators.set("sequence",(t=>qt.ORDER_TYPES.includes(t))),this.validators.set("seats",(t=>[1,2,3,4,5,6,7,8,9].includes(t))),this.validators.set("type",(t=>[0,1,2,3,4,5,6,7,8,9,10,11].includes(t))),this.validators.set("fuel",(t=>"object"==typeof t&&t.every((t=>qt.FUEL_TYPES.includes(t))))),this.validators.set("gear",(t=>"object"==typeof t&&t.every((t=>qt.GEAR_TYPES.includes(t))))),this.validators.set("drive",(t=>"object"==typeof t&&t.every((t=>qt.DRIVE_TYPES.includes(t))))),this.validators.set("power",(t=>"object"==typeof t&&2==t.length&&!isNaN(t[0])&&!isNaN(t[1]))),this.validators.set("price",(t=>"object"==typeof t&&2==t.length&&!isNaN(t[0])&&!isNaN(t[1]))),this.validators.set("dealer",(t=>"string"==typeof t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t))),this.validators.set("group",(t=>"string"==typeof t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t))),this.validators.set("models",(t=>"object"==typeof t&&t.length>0&&this.filters.makes)),this.validators.set("makes",(t=>"object"==typeof t&&t.length>0)),this.validators.set("canton",(t=>"string"==typeof t&&t)),this.validators.set("search",(t=>"string"==typeof t&&t)),this.validators.set("equipment",(t=>"object"==typeof t&&t.length>0))}abort(){this.controller?(this.controller.abort(),this.controller=new AbortController):this.controller=new AbortController,this.error=null,this.ready=!1,this.host.requestUpdate()}options(){return{mode:"cors",credentials:"include",referrerPolicy:"origin",headers:{"accept-language":this.locale},signal:this.controller.signal}}refresh(){this.current_page=1,this.query()}get params(){return this.queryParameters()}apply(t,e,i=!0){"makes"==t&&e&&(e=e.map((t=>t.toUpperCase())));const s=t.trim().toLowerCase();this.validators.has(s)?this.validators.get(t)(e)?(this.filters[s]=e,i&&this.refresh()):console.warn(`[CAR!FY]: Invalid ${s} filter value {${e}} - not applying.`):console.warn(`[CAR!FY]: Unknown filter {${t}}. Ignoring filter.`)}remove(t,e=!0){const i=t.trim().toLowerCase();this.validators.has(i)?(this.filters[i]=void 0,e&&this.refresh()):console.warn(`[CAR!FY]: Cannot remove unknown filter {${t}}.`)}filter(t){Object.entries(t).forEach((t=>{this.apply(t[0],t[1],!1)})),this.refresh()}reset(t){this.filters={},Object.entries(t).forEach((t=>{this.apply(t[0],t[1],!1)})),this.refresh()}firstPage(){1!==this.current_page?(this.current_page=1,this.query()):console.warn("[CAR!FY]: Already on first page. Not paginating.")}prevPage(t=!1){if(t&&1===this.current_page)return this.lastPage();1!==this.current_page?(this.current_page--,this.query()):console.warn("[CAR!FY]: Already on first page. Not paginating.")}gotoPage(t){t<1||t>this.total_pages?console.warn("[CAR!FY]: Invalid page specified. Not paginating."):t!==this.current_page?(this.current_page=t,this.query()):console.warn(`[CAR!FY]: Already on page {${t}}. Not paginating.`)}nextPage(t=!1){if(t&&this.current_page===this.total_pages)return this.firstPage();this.current_page+1>this.total_pages?console.warn("[CAR!FY]: Already on last page. Not paginating."):(this.current_page++,this.query())}lastPage(){this.current_page!==this.total_pages?(this.current_page=this.total_pages,this.query()):console.warn("CAR!FY: Already on last page. Not paginating.")}async query(){this.abort();const t=new URL(`${window.CARIFY.base}/public_api/vehicles/`),e=this.queryParameters();Object.keys(e).forEach((i=>t.searchParams.append(i,e[i])));try{const e=await fetch(t.toString(),this.options());if(!e.ok)throw new Error("not-ok");this.vehicles=[];const{results:i,total_count:s}=await e.json();this.total_vehicles=s,0===this.total_vehicles?this.error="results":this.total_pages=s>0?Math.ceil(s/this.paginate):1,i.forEach((t=>{this.vehicles.push(this.vehicle.convertVehicle(t,this.filters.duration,this.filters.distance))})),this.ready=!0}catch(t){this.handleError(t)}finally{this.host.requestUpdate()}}queryParameters(){var t;const e={limit:this.paginate,offset:(this.current_page-1)*(this.paginate||12),minimum_duration:this.filters.duration||6,km:this.filters.distance||1e3,order_by:this.filters.sequence||"-top_picks",popular_models:1==this.filters.popular||void 0,on_promotion:1==this.filters.promotions||void 0,no_of_seats:this.filters.seats||void 0,car_type:null!==(t=this.filters.type)&&void 0!==t?t:void 0,fuel_types:this.filters.fuel?this.filters.fuel.join(","):void 0,transmissions:this.filters.gear?this.filters.gear.join(","):void 0,drive_types:this.filters.drive?this.filters.drive.join(","):void 0,horse_power_range:this.filters.power?this.filters.power.join(","):void 0,lease_package_price_range:this.filters.price?this.filters.price.join(","):void 0,canton:this.filters.canton||void 0,makes:this.filters.makes?this.filters.makes.join(","):void 0,models:this.filters.models?this.filters.models.join(","):void 0,search:this.filters.search||void 0,dealer_id:this.filters.dealer||void 0,dealer_group_id:this.filters.group||void 0,equipment:this.filters.equipment?this.filters.equipment.join(","):void 0};return Object.keys(e).forEach((t=>void 0===e[t]&&delete e[t])),e}handleError(t){this.networkError(t)?this.error="network":t instanceof TypeError?this.error="type":"AbortError"!==t.name?this.error="other":console.warn("[CAR!FY]: Aborted page fetch due to new pagination request.")}networkError(t){return t instanceof TypeError&&["Failed to fetch","NetworkError when attempting to fetch resource.","Could not connect to the server."].includes(t.message)}}qt.FUEL_TYPES=[1,2,3,4,5,6,7,8,9,10,11,12],qt.GEAR_TYPES=[1,2,3,4,5],qt.DRIVE_TYPES=[1,2,3,4],qt.ORDER_TYPES=["-top_picks","+base_price","-base_price","-approved_datetime","+approved_datetime","-rank"];var Kt=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let Jt=class extends(vt(rt)){constructor(){super(...arguments),this.empty=!0,this.errorMessage=null,this.base=1,this.slider=!1,this.searchable=!1,this.sortable=!1,this.auto=!1,this.paginate=12,this.internal=!1,this.show_dealer=!1,this.catalog=new qt(this)}static get styles(){return[super.styles||[],gt.host,xt.busyIndicator,Vt]}sequence(){return[{text:E`${this.i("filter.order.top")}`,value:"-top_picks"},{text:E`${this.i("filter.order.price.low")}`,value:"+base_price"},{text:E`${this.i("filter.order.price.high")}`,value:"-base_price"},{text:E`${this.i("filter.order.date.new")}`,value:"-approved_datetime"},{text:E`${this.i("filter.order.date.old")}`,value:"+approved_datetime"},{text:E`${this.i("filter.order.relevance")}`,value:"-rank"}]}get cards(){return this._grid?[...this._grid.children]:[]}connectedCallback(){super.connectedCallback(),addEventListener("keydown",this.handleKeydown.bind(this)),this.addEventListener("dropdown:value",this.handleDropdownUpdate.bind(this))}disconnectedCallback(){removeEventListener("keydown",this.handleKeydown.bind(this)),this.removeEventListener("dropdown:value",this.handleDropdownUpdate.bind(this)),super.disconnectedCallback()}handleDropdownUpdate(t){switch(t.detail.name){case"sequence":this.setFilter("sequence",t.detail.value)}}firstUpdated(){if(this.hasAttribute("config"))try{const t=JSON.parse(this.getAttribute("config"));this._filter?this._filter.config=t:t.filters&&this.catalog.filter(t.filters)}catch(t){console.error("[CAR!FY]: Error parsing config for vehicle grid. Ignoring.")}else this.searchable||!window.CARIFY.dealer&&!window.CARIFY.group||(window.CARIFY.group?this.setFilter("group",window.CARIFY.group):window.CARIFY.dealer&&this.setFilter("dealer",window.CARIFY.dealer))}setFilter(t,e,i=!0){this.errorMessage=null,this.catalog.apply(t,e,i)}delFilter(t,e=!0){this.errorMessage=null,this.catalog.remove(t,e)}applyFilters(t){this.errorMessage=null,this.catalog.filter(t)}clearFilters(){this.errorMessage=null;const t={dealer:this.dataset.dealer||void 0};this.catalog.reset(t)}currentFilters(){return this.catalog.filters}queryParameters(){return this.catalog.params}willUpdate(t){let e=!1;t.has("lang")&&(this.catalog.locale=this.lang,e=!0),t.has("paginate")&&(this.catalog.ready=!1,this.catalog.paginate=this.paginate,e=!0),this.catalog.ready||this.catalog.error||this.cards.map((t=>t.hidden=!1)),this.catalog.ready&&this.handleCatalogReady(),this.catalog.error&&this.handleCatalogError(),e&&this.auto&&this.catalog.query()}moveToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}handleCatalogReady(){this.auto=!0,this.cards.forEach(((t,e)=>{const i=this.catalog.vehicles[e];i?(t.hidden=!1,t.data=i):t.hidden=!t.classList.contains("sentinel")})),this.dispatchEvent(new CustomEvent("catalog:ready",{bubbles:!0,composed:!0,detail:{page:this.catalog.current_page,total:this.catalog.total_vehicles}}))}handleCatalogError(){switch(this.cards.map((t=>t.hidden=!0)),this.catalog.error){case"network":this.errorMessage="Oops! The CARIFY public API is currently unavailable. Please try again later...";break;case"type":this.errorMessage="Oops! Something went wrong with retrieving data from the CARIFY server...";break;case"results":this.errorMessage=this.i("results.empty");break;default:this.errorMessage="Oops! An unknown error occurred. Please contact CARIFY for support..."}}handleKeydown(t){const e=new Map;e.set("ArrowLeft",(()=>{this.catalog.prevPage(!0)})),e.set("ArrowRight",(()=>{this.catalog.nextPage(!0)})),e.set("ArrowUp",(()=>{this.catalog.lastPage()})),e.set("ArrowDown",(()=>{this.catalog.firstPage()})),e.has(t.key)&&(e.get(t.key)(),this.moveToTop())}render(){return E`<div class="wrap">${this.renderHeader()} ${this.renderMain()} ${this.renderFooter()}</div>`}renderHeader(){return E`${this.searchable?E`<div class="grid" style="margin-bottom:2em"><carify-vehicle-filter lang="${this.lang}" ?highlight="${this.highlight}" ?show_dealer="${this.show_dealer}"></carify-vehicle-filter></div>`:E``}<header class="grid"><h1>${this.heading}</h1>${this.sortable?E`<carify-drop-down name="sequence" lang="${this.lang}" .options="${this.sequence()}" style="min-width:180px;max-width:200px" ?disabled="${null!==this.errorMessage}"></carify-drop-down>`:E``}</header>${this.errorMessage?E`<div class="errors"><span>${Ot}</span><p>${this.errorMessage}</p></div>`:E``}`}renderMain(){const t=Array(this.catalog.paginate).fill(0);return E`<main class="grid">${t.map((t=>E`<carify-vehicle-card ?slider="${this.slider}" motion injected ?internal="${this.internal}" ?fetching="${!this.catalog.ready}" lang="${this.lang}" ?highlight="${this.highlight}" group="${window.CARIFY.group}"></carify-vehicle-card>`))}</main>`}renderFooter(){return E`<footer class="grid">${this.renderPageInfo()} ${this.renderPagination()}</footer>`}renderPageInfo(){if(!this.catalog.total_vehicles||this.catalog.error)return E`<span></span>`;let t=this.catalog.paginate*this.catalog.current_page,e=t-this.catalog.paginate+1;return 0===e&&(e=1),t>this.catalog.total_vehicles&&(t-=t-this.catalog.total_vehicles),E`<div class="track">${e} to ${t} of ${this.catalog.total_vehicles} (${this.i("page")} ${this.catalog.current_page})</div>`}handlePagination(t){const e=t.target,i=Number(e.dataset.page),s=Number(e.dataset.step);e.hasAttribute("data-begin")&&(this.base=i<=1?1:i-1),s&&(this.base=i>=this.catalog.total_pages-7?this.catalog.total_pages-8:s),this.catalog.gotoPage(i),this.moveToTop()}renderPagination(){if(1==this.catalog.total_pages||this.catalog.error)return E`<span></span>`;const t=[];if(this.catalog.total_pages<=9){let e=this.catalog.total_pages;for(;e>0;)t.unshift({text:e,page:e}),e--}else{const e=this.catalog.total_pages||9,i=this.base==this.catalog.total_pages-8;t[0]={text:1==this.base?1:"...",page:1==this.base?1:this.base-2,begin:!0},t[1]={text:this.base+1,page:this.base+1},t[2]={text:this.base+2,page:this.base+2},t[3]={text:this.base+3,page:this.base+3,step:this.base+2},t[4]={text:i?this.base+4:"...",page:this.base+4,step:this.base+3},t[5]={text:e-3,page:e-3,base:null},t[6]={text:e-2,page:e-2,base:null},t[7]={text:e-1,page:e-1,base:null},t[8]={text:e,page:e}}return E`<ol class="pagination">${t.map((t=>E`<li class="light-button ${pt({active:this.catalog.current_page==t.page})}" data-page="${t.page}" data-step="${(t=>null!=t?t:U)(t.step)}" ?data-begin="${t.begin}" @click="${this.handlePagination}">${t.text}</li>`))}</ol>`}};Kt([ht()],Jt.prototype,"empty",void 0),Kt([ht()],Jt.prototype,"errorMessage",void 0),Kt([ht()],Jt.prototype,"base",void 0),Kt([lt({type:String})],Jt.prototype,"heading",void 0),Kt([lt({type:Boolean})],Jt.prototype,"slider",void 0),Kt([lt({type:Boolean})],Jt.prototype,"searchable",void 0),Kt([lt({type:Boolean})],Jt.prototype,"sortable",void 0),Kt([lt({type:Boolean})],Jt.prototype,"auto",void 0),Kt([lt({type:Number})],Jt.prototype,"paginate",void 0),Kt([lt({type:Boolean})],Jt.prototype,"internal",void 0),Kt([lt({type:Boolean})],Jt.prototype,"show_dealer",void 0),Kt([dt("main.grid")],Jt.prototype,"_grid",void 0),Kt([dt("carify-vehicle-filter")],Jt.prototype,"_filter",void 0),Jt=Kt([at("carify-vehicle-grid")],Jt);var Wt=Jt,Gt=o`:host{min-width:90px}button[disabled]{cursor:not-allowed;background:#f5f5f5;border:1px dotted #ccc;color:#bebebe}button{width:100%;cursor:pointer;padding:8px 6px;border-radius:5px;position:relative;border:1px solid #acacac;color:var(--drop-down-color,#222);background:var(--drop-down-bg,rgba(177,115,252,.05))}p{margin:0;padding:0;display:flex;align-items:center;justify-content:space-around}p span.display{flex:1}button.expand ul{transform:scale(1);opacity:1}p svg{width:18px}ul{position:absolute;list-style:none;overflow:hidden;cursor:default;text-align:center;margin:0;padding:0;width:calc(100% + 2px);transform:scale(0);opacity:0;top:-1px;left:-1px;border-radius:5px;background:#fff;z-index:99999;transition:all .15s ease-in-out;transform-origin:top center;box-shadow:rgba(50,50,93,.25) 0 2px 5px -1px,rgba(0,0,0,.3) 0 1px 3px -1px}ul li{cursor:pointer;color:#000;padding:10px 6px;transition:all .45s ease}ul li:hover{background:#efefef}ul li[data-disabled]{cursor:default;background:var(--drop-down-active,rgba(177,115,252,.1))}`,Xt=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};let Qt=class extends(vt(rt)){constructor(){super(...arguments),this.expanded=!1,this.disabled=!1,this.name="generic",this.options=[]}static get styles(){return[super.styles||[],gt.host,xt.busyIndicator,Gt]}connectedCallback(){if(super.connectedCallback(),window.addEventListener("click",this.hideDropDowns.bind(this)),window.addEventListener("dropdown:close",this.hideDropDowns.bind(this)),this.default){const t=this.options.find((t=>t.value==this.default));t&&(this.activeValue=t.value,this.displayValue=E`${t.text}`)}else this.activeValue=this.options[0].value,this.displayValue=E`${this.options[0].text}`}disconnectedCallback(){window.removeEventListener("click",this.hideDropDowns.bind(this)),window.removeEventListener("dropdown:close",this.hideDropDowns.bind(this)),super.disconnectedCallback()}showDropDown(t){t.stopPropagation(),this.dispatchEvent(new CustomEvent("dropdown:close",{bubbles:!0,composed:!0})),this.expanded=!0}hideDropDowns(){this.expanded=!1}selectValue(t){t.stopPropagation();const e=t.target.closest("li");e.hasAttribute("data-disabled")||(this.activeValue=e.dataset.value,this.displayValue=E`${this.options.find((t=>t.value==this.activeValue)).text}`,this.dispatchEvent(new CustomEvent("dropdown:value",{bubbles:!0,composed:!0,detail:{name:this.name,value:this.activeValue}}))),this.expanded=!1}render(){return E`<button ?disabled="${this.disabled}" class="${pt({expand:this.expanded})}" @click="${this.showDropDown}"><p><span class="display">${this.displayValue}</span>${Nt}</p><ul>${this.options.map((t=>E`<li ?data-disabled="${this.activeValue===t.value}" data-value="${t.value}" @click="${this.selectValue}">${t.text}</li>`))}</ul></button>`}};Xt([ht()],Qt.prototype,"expanded",void 0),Xt([ht()],Qt.prototype,"activeValue",void 0),Xt([ht()],Qt.prototype,"displayValue",void 0),Xt([lt({type:Boolean})],Qt.prototype,"disabled",void 0),Xt([lt({type:String})],Qt.prototype,"name",void 0),Xt([lt({type:String})],Qt.prototype,"default",void 0),Xt([lt({type:Array})],Qt.prototype,"options",void 0),Qt=Xt([at("carify-drop-down")],Qt);var Zt,te,ee,ie,se,re=Qt;let oe;oe=document.currentScript?new URL(document.currentScript.src):new URL(document.currentScript&&document.currentScript.src||new URL("carify.min.js",document.baseURI).href);const ae=Object.fromEntries(oe.searchParams);window.CARIFY={base:null!==(Zt=ae.base)&&void 0!==Zt?Zt:"https://www.carify.com",site:null!==(te=ae.site)&&void 0!==te?te:"https://www.carify.com",domain:null!==(ee=ae.domain)&&void 0!==ee?ee:"www.carify.com",dealer:null!==(ie=ae.dealer)&&void 0!==ie?ie:null,group:null!==(se=ae.group)&&void 0!==se?se:null,version:"2.6.2",addExternalDependencies:()=>{const t=document.head,e=document.createElement("link");e.rel="preconnect",e.href="https://fonts.googleapis.com",t.appendChild(e);const i=document.createElement("link");i.rel="preconnect",i.crossOrigin="true",i.href="https://fonts.gstatic.com",t.appendChild(i);const s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap",t.appendChild(s)}},document.addEventListener("touchstart",(function(){}),!0),window.CARIFY.addExternalDependencies(),t.CarifyGreeting=wt,t.DropDown=re,t.ImageSlider=At,t.VehicleCard=Bt,t.VehicleFilter=Ht,t.VehicleGrid=Wt,Object.defineProperty(t,"u",{value:!0})}({});
